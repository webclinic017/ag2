<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://docs.ag2.ai/latest/docs/user-guide/basic-concepts/introducing-tools/ rel=canonical><link href=../introducing-group-chat/ rel=prev><link href=../structured-outputs/ rel=next><link rel=icon href=../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Tools: Extending Agent Capabilities - AG2</title><link rel=stylesheet href=../../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../css/timeago.css><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../stylesheets/extra.ff0633.min.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - Tools: Extending Agent Capabilities"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://docs.ag2.ai/latest/docs/user-guide/basic-concepts/introducing-tools/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - Tools: Extending Agent Capabilities"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon-dark.svg type=image/x-icon media="(prefers-color-scheme: light)"><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon media="(prefers-color-scheme: dark)"><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#the-need-for-specialized-tools class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Tools: Extending Agent Capabilities </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../quick-start/ class=md-tabs__link> Quick Start </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../api-reference/autogen/Agent/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../../use-cases/use-cases/customer-service/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-tabs__link> Community Insights </a> </li> <li class=md-tabs__item> <a href=../../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installing-ag2/ class=md-nav__link> <span class=md-ellipsis> Installing AG2 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Basic Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Basic Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../llm-configuration/ class=md-nav__link> <span class=md-ellipsis> LLM Configuration: Powering Agent Intelligence </span> </a> </li> <li class=md-nav__item> <a href=../conversable-agent/ class=md-nav__link> <span class=md-ellipsis> ConversableAgent: Building Intelligent Agents </span> </a> </li> <li class=md-nav__item> <a href=../human-in-the-loop/ class=md-nav__link> <span class=md-ellipsis> Human in the Loop: Adding Human Oversight </span> </a> </li> <li class=md-nav__item> <a href=../introducing-group-chat/ class=md-nav__link> <span class=md-ellipsis> Agent Orchestration: Coordinating Multiple Agents </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Tools: Extending Agent Capabilities </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Tools: Extending Agent Capabilities </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#the-need-for-specialized-tools class=md-nav__link> <span class=md-ellipsis> The Need for Specialized Tools </span> </a> </li> <li class=md-nav__item> <a href=#understanding-tools-in-ag2 class=md-nav__link> <span class=md-ellipsis> Understanding Tools in AG2 </span> </a> </li> <li class=md-nav__item> <a href=#how-tool-usage-works-in-ag2 class=md-nav__link> <span class=md-ellipsis> How Tool Usage Works in AG2 </span> </a> </li> <li class=md-nav__item> <a href=#enhancing-our-financial-system-with-tools class=md-nav__link> <span class=md-ellipsis> Enhancing Our Financial System with Tools </span> </a> <nav class=md-nav aria-label="Enhancing Our Financial System with Tools"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-challenge class=md-nav__link> <span class=md-ellipsis> The Challenge </span> </a> </li> <li class=md-nav__item> <a href=#our-tools-solution class=md-nav__link> <span class=md-ellipsis> Our Tools Solution </span> </a> </li> <li class=md-nav__item> <a href=#implementation-creating-a-duplicate-detection-tool class=md-nav__link> <span class=md-ellipsis> Implementation: Creating a Duplicate Detection Tool </span> </a> </li> <li class=md-nav__item> <a href=#updating-our-agents-for-tool-usage class=md-nav__link> <span class=md-ellipsis> Updating Our Agents for Tool Usage </span> </a> </li> <li class=md-nav__item> <a href=#registering-the-tool class=md-nav__link> <span class=md-ellipsis> Registering the Tool </span> </a> </li> <li class=md-nav__item> <a href=#generating-test-data-with-duplicates class=md-nav__link> <span class=md-ellipsis> Generating Test Data with Duplicates </span> </a> </li> <li class=md-nav__item> <a href=#putting-it-all-together class=md-nav__link> <span class=md-ellipsis> Putting It All Together </span> </a> </li> <li class=md-nav__item> <a href=#understanding-the-enhanced-workflow class=md-nav__link> <span class=md-ellipsis> Understanding the Enhanced Workflow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-code-example class=md-nav__link> <span class=md-ellipsis> Complete Code Example </span> </a> <nav class=md-nav aria-label="Complete Code Example"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-to-run-this-example class=md-nav__link> <span class=md-ellipsis> How to Run This Example </span> </a> </li> <li class=md-nav__item> <a href=#example-output class=md-nav__link> <span class=md-ellipsis> Example Output </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-tool-usage class=md-nav__link> <span class=md-ellipsis> Best Practices for Tool Usage </span> </a> </li> <li class=md-nav__item> <a href=#next-steps-structured-outputs class=md-nav__link> <span class=md-ellipsis> Next Steps: Structured Outputs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../structured-outputs/ class=md-nav__link> <span class=md-ellipsis> Structured Outputs: Ensuring Consistent Responses </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../advanced-concepts/llm-configuration-deep-dive/ class=md-nav__link> <span class=md-ellipsis> Advanced Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../models/amazon-bedrock/ class=md-nav__link> <span class=md-ellipsis> Model Providers </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../reference-agents/ class=md-nav__link> <span class=md-ellipsis> Reference Agents </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../reference-tools/ class=md-nav__link> <span class=md-ellipsis> Reference Tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api-reference/autogen/Agent/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../use-cases/use-cases/customer-service/ class=md-nav__link> <span class=md-ellipsis> Use Cases </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-nav__link> <span class=md-ellipsis> Community Insights </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#the-need-for-specialized-tools class=md-nav__link> <span class=md-ellipsis> The Need for Specialized Tools </span> </a> </li> <li class=md-nav__item> <a href=#understanding-tools-in-ag2 class=md-nav__link> <span class=md-ellipsis> Understanding Tools in AG2 </span> </a> </li> <li class=md-nav__item> <a href=#how-tool-usage-works-in-ag2 class=md-nav__link> <span class=md-ellipsis> How Tool Usage Works in AG2 </span> </a> </li> <li class=md-nav__item> <a href=#enhancing-our-financial-system-with-tools class=md-nav__link> <span class=md-ellipsis> Enhancing Our Financial System with Tools </span> </a> <nav class=md-nav aria-label="Enhancing Our Financial System with Tools"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-challenge class=md-nav__link> <span class=md-ellipsis> The Challenge </span> </a> </li> <li class=md-nav__item> <a href=#our-tools-solution class=md-nav__link> <span class=md-ellipsis> Our Tools Solution </span> </a> </li> <li class=md-nav__item> <a href=#implementation-creating-a-duplicate-detection-tool class=md-nav__link> <span class=md-ellipsis> Implementation: Creating a Duplicate Detection Tool </span> </a> </li> <li class=md-nav__item> <a href=#updating-our-agents-for-tool-usage class=md-nav__link> <span class=md-ellipsis> Updating Our Agents for Tool Usage </span> </a> </li> <li class=md-nav__item> <a href=#registering-the-tool class=md-nav__link> <span class=md-ellipsis> Registering the Tool </span> </a> </li> <li class=md-nav__item> <a href=#generating-test-data-with-duplicates class=md-nav__link> <span class=md-ellipsis> Generating Test Data with Duplicates </span> </a> </li> <li class=md-nav__item> <a href=#putting-it-all-together class=md-nav__link> <span class=md-ellipsis> Putting It All Together </span> </a> </li> <li class=md-nav__item> <a href=#understanding-the-enhanced-workflow class=md-nav__link> <span class=md-ellipsis> Understanding the Enhanced Workflow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-code-example class=md-nav__link> <span class=md-ellipsis> Complete Code Example </span> </a> <nav class=md-nav aria-label="Complete Code Example"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-to-run-this-example class=md-nav__link> <span class=md-ellipsis> How to Run This Example </span> </a> </li> <li class=md-nav__item> <a href=#example-output class=md-nav__link> <span class=md-ellipsis> Example Output </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-tool-usage class=md-nav__link> <span class=md-ellipsis> Best Practices for Tool Usage </span> </a> </li> <li class=md-nav__item> <a href=#next-steps-structured-outputs class=md-nav__link> <span class=md-ellipsis> Next Steps: Structured Outputs </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/edit/main/website/docs/user-guide/basic-concepts/introducing-tools.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>Tools: Extending Agent Capabilities</h1> <p>In our financial compliance example, we've built a system that can process transactions, flag suspicious ones for human approval, and generate summary reports. But what if we need to check for duplicate payments? Our agents currently have no way to access historical transaction data or perform specific calculations outside their knowledge.</p> <p>This is where tools come in - they bridge the gap between your agents' intelligence and the external world.</p> <h2 id=the-need-for-specialized-tools>The Need for Specialized Tools<a class=headerlink href=#the-need-for-specialized-tools title="Permanent link">#</a></h2> <p>As our financial compliance system evolves, we might need to:</p> <ul> <li>Check new transactions against a database of past payments</li> <li>Calculate risk scores based on complex algorithms</li> <li>Connect to third-party fraud detection APIs</li> <li>Access internal company systems and databases</li> </ul> <p>These tasks go beyond what an LLM can do with just its internal knowledge, requiring specialized functionality that connects to external systems.</p> <h2 id=understanding-tools-in-ag2>Understanding Tools in AG2<a class=headerlink href=#understanding-tools-in-ag2 title="Permanent link">#</a></h2> <p>In AG2, tools provide a structured way for agents to interact with the outside world. Think of tools as specialized functions that agents can choose to use when appropriate.</p> <p><strong>An Analogy for Tools:</strong></p> <p>Continuing our hospital emergency room analogy from the Group Chat pattern:</p> <ul> <li>Think of tools like specialized medical equipment in the hospital (MRI machines, blood analyzers, EKG monitors)</li> <li>When a specialist (agent) examines a patient, they might determine "We need an MRI scan to diagnose this properly"</li> <li>However, the specialist doesn't operate the MRI machine themselves</li> <li>Instead, a technician (executor agent) with expertise in that specific equipment runs the scan</li> <li>The technician returns the scan results to the specialist, who then interprets them to continue treatment</li> </ul> <p>Just as hospital specialists rely on specialized diagnostic equipment operated by trained technicians, AG2 agents can call upon tools that are executed by designated executor agents. This separation ensures that each component focuses on what it does best: the specialist on diagnosis and treatment decisions, and the technician on properly operating complex equipment.</p> <p>This approach separates "deciding what to do" from "actually doing it," creating a more robust and controlled execution model.</p> <h2 id=how-tool-usage-works-in-ag2>How Tool Usage Works in AG2<a class=headerlink href=#how-tool-usage-works-in-ag2 title="Permanent link">#</a></h2> <p>Tool usage in AG2 follows a simple but powerful two-step process:</p> <ul> <li><strong>Selection</strong>: An agent (driven by its LLM) decides which tool is appropriate based on the given task</li> <li><strong>Execution</strong>: A separate executor agent invokes the tool and returns the results</li> </ul> <pre class=mermaid><code>flowchart TB
    Task[Task] --&gt; Selector[Selector Agent]
    Selector -- "Suggests tool" --&gt; Executor[Executor Agent]
    Executor -- "Executes tool &amp; returns result" --&gt; Selector

    style Task fill:#fcf4e8,stroke:#f08a24
    style Selector fill:#e3f2fd,stroke:#1976d2
    style Executor fill:#e8f5e9,stroke:#4caf50</code></pre> <div class="admonition note"> <p class=admonition-title>Note</p> <p>For a more detailed explanation of how tools work in AG2, check out the <a href=../../advanced-concepts/tools/basics>Tools Overview</a> documentation.</p> </div> <h2 id=enhancing-our-financial-system-with-tools>Enhancing Our Financial System with Tools<a class=headerlink href=#enhancing-our-financial-system-with-tools title="Permanent link">#</a></h2> <p>Let's enhance our financial compliance system by adding a powerful new capability: <strong>duplicate payment detection</strong>.</p> <h3 id=the-challenge>The Challenge<a class=headerlink href=#the-challenge title="Permanent link">#</a></h3> <p>Duplicate payments are a common problem in financial systems. A company might accidentally pay the same invoice twice, or a fraudster might try to get multiple payments for the same service.</p> <p>Our current system can detect suspicious transactions but has no way to check if a transaction is a duplicate of one that's already been processed.</p> <h3 id=our-tools-solution>Our Tools Solution<a class=headerlink href=#our-tools-solution title="Permanent link">#</a></h3> <p>Here's how we'll enhance our system:</p> <ul> <li>Create a function that checks a transaction against a database of previous payments</li> <li>Register this function as a tool that our <code>finance_bot</code> can use</li> <li>Modify the workflow to check each transaction for duplicates before processing it</li> <li>Automatically reject duplicate payments without requiring human approval</li> </ul> <h3 id=implementation-creating-a-duplicate-detection-tool>Implementation: Creating a Duplicate Detection Tool<a class=headerlink href=#implementation-creating-a-duplicate-detection-tool title="Permanent link">#</a></h3> <p>First, let's create a function that checks for duplicate payments:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Annotated</span><span class=p>,</span> <span class=n>Any</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>timedelta</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat</span><span class=w> </span><span class=kn>import</span> <span class=n>initiate_group_chat</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat.group.patterns</span><span class=w> </span><span class=kn>import</span> <span class=n>AutoPattern</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=c1># Note: Make sure to set your API key in your environment first</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=c1># Configure the LLM</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    <span class=n>api_type</span><span class=o>=</span><span class=s2>&quot;openai&quot;</span><span class=p>,</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=n>model</span><span class=o>=</span><span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    <span class=n>api_key</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>    <span class=n>temperature</span><span class=o>=</span><span class=mf>0.2</span><span class=p>,</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=p>)</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=c1># Mock database of previous transactions</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=k>def</span><span class=w> </span><span class=nf>get_previous_transactions</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    <span class=n>today</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>    <span class=k>return</span> <span class=p>[</span>
<a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>        <span class=p>{</span>
<a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>            <span class=s2>&quot;vendor&quot;</span><span class=p>:</span> <span class=s2>&quot;Staples&quot;</span><span class=p>,</span>
<a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mi>500</span><span class=p>,</span>
<a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>3</span><span class=p>))</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>),</span>  <span class=c1># 3 days ago</span>
<a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>            <span class=s2>&quot;memo&quot;</span><span class=p>:</span> <span class=s2>&quot;Quarterly supplies&quot;</span><span class=p>,</span>
<a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>        <span class=p>},</span>
<a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>        <span class=p>{</span>
<a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>            <span class=s2>&quot;vendor&quot;</span><span class=p>:</span> <span class=s2>&quot;Acme Corp&quot;</span><span class=p>,</span>
<a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mi>1500</span><span class=p>,</span>
<a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>10</span><span class=p>))</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>),</span>  <span class=c1># 10 days ago</span>
<a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a>            <span class=s2>&quot;memo&quot;</span><span class=p>:</span> <span class=s2>&quot;NDA services&quot;</span><span class=p>,</span>
<a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a>        <span class=p>},</span>
<a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a>        <span class=p>{</span>
<a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a>            <span class=s2>&quot;vendor&quot;</span><span class=p>:</span> <span class=s2>&quot;Globex&quot;</span><span class=p>,</span>
<a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mi>12000</span><span class=p>,</span>
<a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>5</span><span class=p>))</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>),</span>  <span class=c1># 5 days ago</span>
<a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a>            <span class=s2>&quot;memo&quot;</span><span class=p>:</span> <span class=s2>&quot;Confidential&quot;</span><span class=p>,</span>
<a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a>        <span class=p>},</span>
<a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a>    <span class=p>]</span>
<a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a>
<a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a><span class=c1># Simple duplicate detection function</span>
<a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=hll><span class=k>def</span><span class=w> </span><span class=nf>check_duplicate_payment</span><span class=p>(</span>
</span><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a><span class=hll>    <span class=n>vendor</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=s2>&quot;The vendor name&quot;</span><span class=p>],</span>
</span><a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=hll>    <span class=n>amount</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>float</span><span class=p>,</span> <span class=s2>&quot;The transaction amount&quot;</span><span class=p>],</span>
</span><a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a><span class=hll>    <span class=n>memo</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=s2>&quot;The transaction memo&quot;</span><span class=p>]</span>
</span><a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a><span class=hll><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span><a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a><span class=hll><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if a transaction appears to be a duplicate of a recent payment&quot;&quot;&quot;</span>
</span><a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a><span class=hll>    <span class=n>previous_transactions</span> <span class=o>=</span> <span class=n>get_previous_transactions</span><span class=p>()</span>
</span><a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a><span class=hll>
</span><a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a><span class=hll>    <span class=n>today</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span><a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a><span class=hll>
</span><a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a><span class=hll>    <span class=k>for</span> <span class=n>tx</span> <span class=ow>in</span> <span class=n>previous_transactions</span><span class=p>:</span>
</span><a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a><span class=hll>        <span class=n>tx_date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>tx</span><span class=p>[</span><span class=s2>&quot;date&quot;</span><span class=p>],</span> <span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>)</span>
</span><a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a><span class=hll>        <span class=n>date_diff</span> <span class=o>=</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>tx_date</span><span class=p>)</span><span class=o>.</span><span class=n>days</span>
</span><a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=hll>
</span><a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a><span class=hll>        <span class=c1># If vendor, memo and amount match, and transaction is within 7 days</span>
</span><a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a><span class=hll>        <span class=k>if</span> <span class=p>(</span>
</span><a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a><span class=hll>            <span class=n>tx</span><span class=p>[</span><span class=s2>&quot;vendor&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>vendor</span> <span class=ow>and</span>
</span><a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a><span class=hll>            <span class=n>tx</span><span class=p>[</span><span class=s2>&quot;memo&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>memo</span> <span class=ow>and</span>
</span><a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a><span class=hll>            <span class=n>tx</span><span class=p>[</span><span class=s2>&quot;amount&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>amount</span> <span class=ow>and</span>
</span><a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a><span class=hll>            <span class=n>date_diff</span> <span class=o>&lt;=</span> <span class=mi>7</span>
</span><a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a><span class=hll>        <span class=p>):</span>
</span><a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a><span class=hll>            <span class=k>return</span> <span class=p>{</span>
</span><a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a><span class=hll>                <span class=s2>&quot;is_duplicate&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a><span class=hll>                <span class=s2>&quot;reason&quot;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;Duplicate payment to </span><span class=si>{</span><span class=n>vendor</span><span class=si>}</span><span class=s2> for $</span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2> on </span><span class=si>{</span><span class=n>tx</span><span class=p>[</span><span class=s1>&#39;date&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span>
</span><a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a><span class=hll>            <span class=p>}</span>
</span><a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a><span class=hll>
</span><a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a><span class=hll>    <span class=k>return</span> <span class=p>{</span>
</span><a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a><span class=hll>        <span class=s2>&quot;is_duplicate&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
</span><a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a><span class=hll>        <span class=s2>&quot;reason&quot;</span><span class=p>:</span> <span class=s2>&quot;No recent duplicates found&quot;</span>
</span><a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a><span class=hll>    <span class=p>}</span>
</span></code></pre></div> In this code:</p> <ul> <li>We created a mock database function to simulate retrieving past transactions</li> <li>We defined a duplicate detection function that compares a new transaction against past ones</li> <li>The function uses <a href=https://docs.python.org/3/library/typing.html#typing.Annotated><code>Annotated</code></a> to provide clear parameter descriptions, which helps the agent understand how to use the tool</li> <li>The function's docstring will be used to describe the tool to the LLM</li> <li>The function checks if the transaction is a duplicate <strong>based on vendor, amount, memo and transaction is within 7 days</strong></li> <li>It returns a dictionary indicating whether the transaction is a duplicate and why</li> </ul> <h3 id=updating-our-agents-for-tool-usage>Updating Our Agents for Tool Usage<a class=headerlink href=#updating-our-agents-for-tool-usage title="Permanent link">#</a></h3> <p>Now let's update our agent system messages to incorporate duplicate checking:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Define the system message for our finance bot</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>finance_system_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=s2>You are a financial compliance assistant. You will be given a set of transaction descriptions.</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=s2>For each transaction:</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=s2>1. First, extract the vendor name, amount, and memo</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=s2>2. Check if the transaction is a duplicate using the check_duplicate_payment tool</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=s2>3. If the tool identifies a duplicate, automatically reject the transaction</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=s2>4. If not a duplicate, continue with normal evaluation:</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=s2>    - If it seems suspicious (e.g., amount &gt; $10,000, vendor is unusual, memo is vague), ask the human agent for approval</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=s2>    - Otherwise, approve it automatically</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=s2>Provide clear explanations for your decisions, especially for duplicates or suspicious transactions.</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=s2>When all transactions are processed, summarize the results and say &quot;You can type exit to finish&quot;.</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=c1># Define the system message for the summary agent</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=n>summary_system_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=s2>You are a financial summary assistant. You will be given a set of transaction details and their approval status.</span>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=s2>Your task is to summarize the results of the transactions processed by the finance bot.</span>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=s2>Generate a markdown table with the following columns:</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=s2>- Vendor</span>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=s2>- Memo</span>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=s2>- Amount</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=s2>- Status (Approved/Rejected)</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=s2>- Reason (especially note if rejected due to being a duplicate)</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=s2>The summary should include the total number of transactions, the number of approved transactions, and the number of rejected transactions.</span>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=s2>The summary should be concise and clear.</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=s2>Once you&#39;ve generated the summary append the below in the summary:</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=s2>==== SUMMARY GENERATED ====</span>
</code></pre></div> <p>We've updated both agent system messages:</p> <ul> <li>The <code>finance_bot</code> now knows to extract transaction details and check for duplicates before evaluation</li> <li>The <code>summary_agent</code> knows to include the reason for rejection, which might be duplicate detection</li> </ul> <h3 id=registering-the-tool>Registering the Tool<a class=headerlink href=#registering-the-tool title="Permanent link">#</a></h3> <p>Next, we need to register our duplicate detection function as a tool:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Create the finance agent with LLM intelligence</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>finance_bot</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;finance_bot&quot;</span><span class=p>,</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>finance_system_message</span><span class=p>,</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>check_duplicate_payment</span><span class=p>],</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>    <span class=p>)</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=n>summary_bot</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;summary_bot&quot;</span><span class=p>,</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>summary_system_message</span><span class=p>,</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=p>)</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=c1># Create the human agent for oversight</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=n>human</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;human&quot;</span><span class=p>,</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>    <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>&quot;ALWAYS&quot;</span><span class=p>,</span>  <span class=c1># Always ask for human input</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=p>)</span>
</code></pre></div> <p>With this registration:</p> <ul> <li>The <code>finance_bot</code> can now suggest using the <code>check_duplicate_payment</code> tool when appropriate</li> <li>We will continue using a Group Chat and an internal tool executor will execute all tool recommendations automatically</li> </ul> <h3 id=generating-test-data-with-duplicates>Generating Test Data with Duplicates<a class=headerlink href=#generating-test-data-with-duplicates title="Permanent link">#</a></h3> <p>Let's create sample transactions that include duplicates:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># Generate new transactions including a duplicate</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>transactions</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=s2>&quot;Transaction: $500 to Staples. Memo: Quarterly supplies.&quot;</span><span class=p>,</span>  <span class=c1># Duplicate of an existing transaction</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=s2>&quot;Transaction: $4000 to Unicorn LLC. Memo: Reimbursement.&quot;</span><span class=p>,</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=s2>&quot;Transaction: $12000 to Globex. Memo: Confidential.&quot;</span><span class=p>,</span>  <span class=c1># Duplicate of an existing transaction</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=s2>&quot;Transaction: $22000 to Initech. Memo: Urgent request.&quot;</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>]</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=c1># Format the initial message</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=n>initial_prompt</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=s2>&quot;Please process the following transactions one at a time, checking for duplicates:</span><span class=se>\n\n</span><span class=s2>&quot;</span> <span class=o>+</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=si>}</span><span class=s2>. </span><span class=si>{</span><span class=n>tx</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>tx</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>transactions</span><span class=p>)])</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=p>)</span>
</code></pre></div> <h3 id=putting-it-all-together>Putting It All Together<a class=headerlink href=#putting-it-all-together title="Permanent link">#</a></h3> <p>Now let's run our enhanced financial compliance system with duplicate detection:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>pattern</span> <span class=o>=</span> <span class=n>AutoPattern</span><span class=p>(</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>initial_agent</span><span class=o>=</span><span class=n>finance_bot</span><span class=p>,</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>finance_bot</span><span class=p>,</span> <span class=n>summary_bot</span><span class=p>],</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>user_agent</span><span class=o>=</span><span class=n>human</span><span class=p>,</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>group_manager_args</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>        <span class=s2>&quot;llm_config&quot;</span><span class=p>:</span> <span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>        <span class=s2>&quot;is_termination_msg&quot;</span><span class=p>:</span> <span class=n>is_termination_msg</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>    <span class=p>},</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=p>)</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=n>result</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>initiate_group_chat</span><span class=p>(</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    <span class=n>pattern</span><span class=o>=</span><span class=n>pattern</span><span class=p>,</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>    <span class=n>messages</span><span class=o>=</span><span class=n>initial_prompt</span><span class=p>,</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=p>)</span>
</code></pre></div> <h3 id=understanding-the-enhanced-workflow>Understanding the Enhanced Workflow<a class=headerlink href=#understanding-the-enhanced-workflow title="Permanent link">#</a></h3> <p>When we run this enhanced financial compliance system, here's what happens:</p> <pre class=mermaid><code>flowchart TD
    User([User]) --&gt; |"Submits transactions"| Finance[Finance Bot]

    Finance --&gt; |"For each transaction"| Extract[Extract Details]
    Extract --&gt; |"Using tool"| Check[Check for Duplicates]

    Check --&gt; |"Duplicate?"| Duplicate[Yes: Auto-Reject]
    Check --&gt; |"Not Duplicate"| Suspicious[Check if Suspicious]

    Suspicious --&gt; |"Suspicious?"| Human[Yes: Ask Human]
    Suspicious --&gt; |"Not Suspicious"| AutoApprove[Auto-Approve]

    Human --&gt; |"Approves/Rejects"| NextTx[Next Transaction]
    Duplicate --&gt; NextTx
    AutoApprove --&gt; NextTx

    NextTx --&gt; |"All transactions processed"| Summary[Summary Bot]
    Summary --&gt; |"Generates report with termination marker"| End([End])

    style Finance fill:#e3f2fd,stroke:#1976d2
    style Extract fill:#e8f5e9,stroke:#4caf50
    style Check fill:#fff0f5,stroke:#ff69b4
    style Duplicate fill:#ffebee,stroke:#f44336
    style Suspicious fill:#e3f2fd,stroke:#1976d2
    style Human fill:#f3e5f5,stroke:#7b1fa2
    style AutoApprove fill:#e8f5e9,stroke:#4caf50
    style Summary fill:#e8f5e9,stroke:#4caf50</code></pre> <h2 id=complete-code-example>Complete Code Example<a class=headerlink href=#complete-code-example title="Permanent link">#</a></h2> <p>Here's the complete, ready-to-run code for our enhanced financial compliance system with duplicate detection:</p> <details class=info open=open> <summary>Complete Code Example</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=kn>import</span><span class=w> </span><span class=nn>random</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Annotated</span><span class=p>,</span> <span class=n>Any</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>timedelta</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat</span><span class=w> </span><span class=kn>import</span> <span class=n>initiate_group_chat</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat.group.patterns</span><span class=w> </span><span class=kn>import</span> <span class=n>AutoPattern</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=c1># Note: Make sure to set your API key in your environment first</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=c1># Configure the LLM</span>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>    <span class=n>api_type</span><span class=o>=</span><span class=s2>&quot;openai&quot;</span><span class=p>,</span>
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>    <span class=n>model</span><span class=o>=</span><span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>    <span class=n>api_key</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>    <span class=n>temperature</span><span class=o>=</span><span class=mf>0.2</span><span class=p>,</span>
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a><span class=p>)</span>
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=c1># Mock database of previous transactions</span>
<a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a><span class=k>def</span><span class=w> </span><span class=nf>get_previous_transactions</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>    <span class=n>today</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>    <span class=k>return</span> <span class=p>[</span>
<a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a>        <span class=p>{</span>
<a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a>            <span class=s2>&quot;vendor&quot;</span><span class=p>:</span> <span class=s2>&quot;Staples&quot;</span><span class=p>,</span>
<a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mi>500</span><span class=p>,</span>
<a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>3</span><span class=p>))</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>),</span>  <span class=c1># 3 days ago</span>
<a id=__codelineno-5-28 name=__codelineno-5-28 href=#__codelineno-5-28></a>            <span class=s2>&quot;memo&quot;</span><span class=p>:</span> <span class=s2>&quot;Quarterly supplies&quot;</span><span class=p>,</span>
<a id=__codelineno-5-29 name=__codelineno-5-29 href=#__codelineno-5-29></a>        <span class=p>},</span>
<a id=__codelineno-5-30 name=__codelineno-5-30 href=#__codelineno-5-30></a>        <span class=p>{</span>
<a id=__codelineno-5-31 name=__codelineno-5-31 href=#__codelineno-5-31></a>            <span class=s2>&quot;vendor&quot;</span><span class=p>:</span> <span class=s2>&quot;Acme Corp&quot;</span><span class=p>,</span>
<a id=__codelineno-5-32 name=__codelineno-5-32 href=#__codelineno-5-32></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mi>1500</span><span class=p>,</span>
<a id=__codelineno-5-33 name=__codelineno-5-33 href=#__codelineno-5-33></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>10</span><span class=p>))</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>),</span>  <span class=c1># 10 days ago</span>
<a id=__codelineno-5-34 name=__codelineno-5-34 href=#__codelineno-5-34></a>            <span class=s2>&quot;memo&quot;</span><span class=p>:</span> <span class=s2>&quot;NDA services&quot;</span><span class=p>,</span>
<a id=__codelineno-5-35 name=__codelineno-5-35 href=#__codelineno-5-35></a>        <span class=p>},</span>
<a id=__codelineno-5-36 name=__codelineno-5-36 href=#__codelineno-5-36></a>        <span class=p>{</span>
<a id=__codelineno-5-37 name=__codelineno-5-37 href=#__codelineno-5-37></a>            <span class=s2>&quot;vendor&quot;</span><span class=p>:</span> <span class=s2>&quot;Globex&quot;</span><span class=p>,</span>
<a id=__codelineno-5-38 name=__codelineno-5-38 href=#__codelineno-5-38></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mi>12000</span><span class=p>,</span>
<a id=__codelineno-5-39 name=__codelineno-5-39 href=#__codelineno-5-39></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>5</span><span class=p>))</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>),</span>  <span class=c1># 5 days ago</span>
<a id=__codelineno-5-40 name=__codelineno-5-40 href=#__codelineno-5-40></a>            <span class=s2>&quot;memo&quot;</span><span class=p>:</span> <span class=s2>&quot;Confidential&quot;</span><span class=p>,</span>
<a id=__codelineno-5-41 name=__codelineno-5-41 href=#__codelineno-5-41></a>        <span class=p>},</span>
<a id=__codelineno-5-42 name=__codelineno-5-42 href=#__codelineno-5-42></a>    <span class=p>]</span>
<a id=__codelineno-5-43 name=__codelineno-5-43 href=#__codelineno-5-43></a>
<a id=__codelineno-5-44 name=__codelineno-5-44 href=#__codelineno-5-44></a><span class=c1># Simple duplicate detection function</span>
<a id=__codelineno-5-45 name=__codelineno-5-45 href=#__codelineno-5-45></a><span class=k>def</span><span class=w> </span><span class=nf>check_duplicate_payment</span><span class=p>(</span>
<a id=__codelineno-5-46 name=__codelineno-5-46 href=#__codelineno-5-46></a>    <span class=n>vendor</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=s2>&quot;The vendor name&quot;</span><span class=p>],</span>
<a id=__codelineno-5-47 name=__codelineno-5-47 href=#__codelineno-5-47></a>    <span class=n>amount</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>float</span><span class=p>,</span> <span class=s2>&quot;The transaction amount&quot;</span><span class=p>],</span>
<a id=__codelineno-5-48 name=__codelineno-5-48 href=#__codelineno-5-48></a>    <span class=n>memo</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=s2>&quot;The transaction memo&quot;</span><span class=p>]</span>
<a id=__codelineno-5-49 name=__codelineno-5-49 href=#__codelineno-5-49></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<a id=__codelineno-5-50 name=__codelineno-5-50 href=#__codelineno-5-50></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if a transaction appears to be a duplicate of a recent payment&quot;&quot;&quot;</span>
<a id=__codelineno-5-51 name=__codelineno-5-51 href=#__codelineno-5-51></a>    <span class=n>previous_transactions</span> <span class=o>=</span> <span class=n>get_previous_transactions</span><span class=p>()</span>
<a id=__codelineno-5-52 name=__codelineno-5-52 href=#__codelineno-5-52></a>
<a id=__codelineno-5-53 name=__codelineno-5-53 href=#__codelineno-5-53></a>    <span class=n>today</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<a id=__codelineno-5-54 name=__codelineno-5-54 href=#__codelineno-5-54></a>
<a id=__codelineno-5-55 name=__codelineno-5-55 href=#__codelineno-5-55></a>    <span class=k>for</span> <span class=n>tx</span> <span class=ow>in</span> <span class=n>previous_transactions</span><span class=p>:</span>
<a id=__codelineno-5-56 name=__codelineno-5-56 href=#__codelineno-5-56></a>        <span class=n>tx_date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>tx</span><span class=p>[</span><span class=s2>&quot;date&quot;</span><span class=p>],</span> <span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-5-57 name=__codelineno-5-57 href=#__codelineno-5-57></a>        <span class=n>date_diff</span> <span class=o>=</span> <span class=p>(</span><span class=n>today</span> <span class=o>-</span> <span class=n>tx_date</span><span class=p>)</span><span class=o>.</span><span class=n>days</span>
<a id=__codelineno-5-58 name=__codelineno-5-58 href=#__codelineno-5-58></a>
<a id=__codelineno-5-59 name=__codelineno-5-59 href=#__codelineno-5-59></a>        <span class=c1># If vendor, memo and amount match, and transaction is within 7 days</span>
<a id=__codelineno-5-60 name=__codelineno-5-60 href=#__codelineno-5-60></a>        <span class=k>if</span> <span class=p>(</span>
<a id=__codelineno-5-61 name=__codelineno-5-61 href=#__codelineno-5-61></a>            <span class=n>tx</span><span class=p>[</span><span class=s2>&quot;vendor&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>vendor</span> <span class=ow>and</span>
<a id=__codelineno-5-62 name=__codelineno-5-62 href=#__codelineno-5-62></a>            <span class=n>tx</span><span class=p>[</span><span class=s2>&quot;memo&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>memo</span> <span class=ow>and</span>
<a id=__codelineno-5-63 name=__codelineno-5-63 href=#__codelineno-5-63></a>            <span class=n>tx</span><span class=p>[</span><span class=s2>&quot;amount&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>amount</span> <span class=ow>and</span>
<a id=__codelineno-5-64 name=__codelineno-5-64 href=#__codelineno-5-64></a>            <span class=n>date_diff</span> <span class=o>&lt;=</span> <span class=mi>7</span>
<a id=__codelineno-5-65 name=__codelineno-5-65 href=#__codelineno-5-65></a>        <span class=p>):</span>
<a id=__codelineno-5-66 name=__codelineno-5-66 href=#__codelineno-5-66></a>            <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-5-67 name=__codelineno-5-67 href=#__codelineno-5-67></a>                <span class=s2>&quot;is_duplicate&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-5-68 name=__codelineno-5-68 href=#__codelineno-5-68></a>                <span class=s2>&quot;reason&quot;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;Duplicate payment to </span><span class=si>{</span><span class=n>vendor</span><span class=si>}</span><span class=s2> for $</span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2> on </span><span class=si>{</span><span class=n>tx</span><span class=p>[</span><span class=s1>&#39;date&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-5-69 name=__codelineno-5-69 href=#__codelineno-5-69></a>            <span class=p>}</span>
<a id=__codelineno-5-70 name=__codelineno-5-70 href=#__codelineno-5-70></a>
<a id=__codelineno-5-71 name=__codelineno-5-71 href=#__codelineno-5-71></a>    <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-5-72 name=__codelineno-5-72 href=#__codelineno-5-72></a>        <span class=s2>&quot;is_duplicate&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-5-73 name=__codelineno-5-73 href=#__codelineno-5-73></a>        <span class=s2>&quot;reason&quot;</span><span class=p>:</span> <span class=s2>&quot;No recent duplicates found&quot;</span>
<a id=__codelineno-5-74 name=__codelineno-5-74 href=#__codelineno-5-74></a>    <span class=p>}</span>
<a id=__codelineno-5-75 name=__codelineno-5-75 href=#__codelineno-5-75></a>
<a id=__codelineno-5-76 name=__codelineno-5-76 href=#__codelineno-5-76></a><span class=c1># Define the system message for our finance bot</span>
<a id=__codelineno-5-77 name=__codelineno-5-77 href=#__codelineno-5-77></a><span class=n>finance_system_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-5-78 name=__codelineno-5-78 href=#__codelineno-5-78></a><span class=s2>You are a financial compliance assistant. You will be given a set of transaction descriptions.</span>
<a id=__codelineno-5-79 name=__codelineno-5-79 href=#__codelineno-5-79></a>
<a id=__codelineno-5-80 name=__codelineno-5-80 href=#__codelineno-5-80></a><span class=s2>For each transaction:</span>
<a id=__codelineno-5-81 name=__codelineno-5-81 href=#__codelineno-5-81></a><span class=s2>1. First, extract the vendor name, amount, and memo</span>
<a id=__codelineno-5-82 name=__codelineno-5-82 href=#__codelineno-5-82></a><span class=s2>2. Check if the transaction is a duplicate using the check_duplicate_payment tool</span>
<a id=__codelineno-5-83 name=__codelineno-5-83 href=#__codelineno-5-83></a><span class=s2>3. If the tool identifies a duplicate, automatically reject the transaction</span>
<a id=__codelineno-5-84 name=__codelineno-5-84 href=#__codelineno-5-84></a><span class=s2>4. If not a duplicate, continue with normal evaluation:</span>
<a id=__codelineno-5-85 name=__codelineno-5-85 href=#__codelineno-5-85></a><span class=s2>    - If it seems suspicious (e.g., amount &gt; $10,000, vendor is unusual, memo is vague), ask the human agent for approval</span>
<a id=__codelineno-5-86 name=__codelineno-5-86 href=#__codelineno-5-86></a><span class=s2>    - Otherwise, approve it automatically</span>
<a id=__codelineno-5-87 name=__codelineno-5-87 href=#__codelineno-5-87></a>
<a id=__codelineno-5-88 name=__codelineno-5-88 href=#__codelineno-5-88></a><span class=s2>Provide clear explanations for your decisions, especially for duplicates or suspicious transactions.</span>
<a id=__codelineno-5-89 name=__codelineno-5-89 href=#__codelineno-5-89></a><span class=s2>When all transactions are processed, summarize the results and say &quot;You can type exit to finish&quot;.</span>
<a id=__codelineno-5-90 name=__codelineno-5-90 href=#__codelineno-5-90></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-5-91 name=__codelineno-5-91 href=#__codelineno-5-91></a>
<a id=__codelineno-5-92 name=__codelineno-5-92 href=#__codelineno-5-92></a><span class=c1># Define the system message for the summary agent</span>
<a id=__codelineno-5-93 name=__codelineno-5-93 href=#__codelineno-5-93></a><span class=n>summary_system_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-5-94 name=__codelineno-5-94 href=#__codelineno-5-94></a><span class=s2>You are a financial summary assistant. You will be given a set of transaction details and their approval status.</span>
<a id=__codelineno-5-95 name=__codelineno-5-95 href=#__codelineno-5-95></a><span class=s2>Your task is to summarize the results of the transactions processed by the finance bot.</span>
<a id=__codelineno-5-96 name=__codelineno-5-96 href=#__codelineno-5-96></a><span class=s2>Generate a markdown table with the following columns:</span>
<a id=__codelineno-5-97 name=__codelineno-5-97 href=#__codelineno-5-97></a><span class=s2>- Vendor</span>
<a id=__codelineno-5-98 name=__codelineno-5-98 href=#__codelineno-5-98></a><span class=s2>- Memo</span>
<a id=__codelineno-5-99 name=__codelineno-5-99 href=#__codelineno-5-99></a><span class=s2>- Amount</span>
<a id=__codelineno-5-100 name=__codelineno-5-100 href=#__codelineno-5-100></a><span class=s2>- Status (Approved/Rejected)</span>
<a id=__codelineno-5-101 name=__codelineno-5-101 href=#__codelineno-5-101></a><span class=s2>- Reason (especially note if rejected due to being a duplicate)</span>
<a id=__codelineno-5-102 name=__codelineno-5-102 href=#__codelineno-5-102></a>
<a id=__codelineno-5-103 name=__codelineno-5-103 href=#__codelineno-5-103></a><span class=s2>The summary should include the total number of transactions, the number of approved transactions, and the number of rejected transactions.</span>
<a id=__codelineno-5-104 name=__codelineno-5-104 href=#__codelineno-5-104></a><span class=s2>The summary should be concise and clear.</span>
<a id=__codelineno-5-105 name=__codelineno-5-105 href=#__codelineno-5-105></a>
<a id=__codelineno-5-106 name=__codelineno-5-106 href=#__codelineno-5-106></a><span class=s2>Once you&#39;ve generated the summary append the below in the summary:</span>
<a id=__codelineno-5-107 name=__codelineno-5-107 href=#__codelineno-5-107></a><span class=s2>==== SUMMARY GENERATED ====</span>
<a id=__codelineno-5-108 name=__codelineno-5-108 href=#__codelineno-5-108></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-5-109 name=__codelineno-5-109 href=#__codelineno-5-109></a>
<a id=__codelineno-5-110 name=__codelineno-5-110 href=#__codelineno-5-110></a><span class=c1># Create the finance agent with LLM intelligence</span>
<a id=__codelineno-5-111 name=__codelineno-5-111 href=#__codelineno-5-111></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-5-112 name=__codelineno-5-112 href=#__codelineno-5-112></a>    <span class=n>finance_bot</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-5-113 name=__codelineno-5-113 href=#__codelineno-5-113></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;finance_bot&quot;</span><span class=p>,</span>
<a id=__codelineno-5-114 name=__codelineno-5-114 href=#__codelineno-5-114></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>finance_system_message</span><span class=p>,</span>
<a id=__codelineno-5-115 name=__codelineno-5-115 href=#__codelineno-5-115></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>check_duplicate_payment</span><span class=p>],</span>
<a id=__codelineno-5-116 name=__codelineno-5-116 href=#__codelineno-5-116></a>    <span class=p>)</span>
<a id=__codelineno-5-117 name=__codelineno-5-117 href=#__codelineno-5-117></a>    <span class=n>summary_bot</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-5-118 name=__codelineno-5-118 href=#__codelineno-5-118></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;summary_bot&quot;</span><span class=p>,</span>
<a id=__codelineno-5-119 name=__codelineno-5-119 href=#__codelineno-5-119></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>summary_system_message</span><span class=p>,</span>
<a id=__codelineno-5-120 name=__codelineno-5-120 href=#__codelineno-5-120></a>    <span class=p>)</span>
<a id=__codelineno-5-121 name=__codelineno-5-121 href=#__codelineno-5-121></a>
<a id=__codelineno-5-122 name=__codelineno-5-122 href=#__codelineno-5-122></a><span class=c1># Create the human agent for oversight</span>
<a id=__codelineno-5-123 name=__codelineno-5-123 href=#__codelineno-5-123></a><span class=n>human</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-5-124 name=__codelineno-5-124 href=#__codelineno-5-124></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;human&quot;</span><span class=p>,</span>
<a id=__codelineno-5-125 name=__codelineno-5-125 href=#__codelineno-5-125></a>    <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>&quot;ALWAYS&quot;</span><span class=p>,</span>  <span class=c1># Always ask for human input</span>
<a id=__codelineno-5-126 name=__codelineno-5-126 href=#__codelineno-5-126></a><span class=p>)</span>
<a id=__codelineno-5-127 name=__codelineno-5-127 href=#__codelineno-5-127></a>
<a id=__codelineno-5-128 name=__codelineno-5-128 href=#__codelineno-5-128></a><span class=k>def</span><span class=w> </span><span class=nf>is_termination_msg</span><span class=p>(</span><span class=n>msg</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<a id=__codelineno-5-129 name=__codelineno-5-129 href=#__codelineno-5-129></a>    <span class=n>content</span> <span class=o>=</span> <span class=n>msg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-5-130 name=__codelineno-5-130 href=#__codelineno-5-130></a>    <span class=k>return</span> <span class=p>(</span><span class=n>content</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>)</span> <span class=ow>and</span> <span class=s2>&quot;==== SUMMARY GENERATED ====&quot;</span> <span class=ow>in</span> <span class=n>content</span>
<a id=__codelineno-5-131 name=__codelineno-5-131 href=#__codelineno-5-131></a>
<a id=__codelineno-5-132 name=__codelineno-5-132 href=#__codelineno-5-132></a><span class=c1># Generate sample transactions - this creates different transactions each time you run</span>
<a id=__codelineno-5-133 name=__codelineno-5-133 href=#__codelineno-5-133></a><span class=n>VENDORS</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;Staples&quot;</span><span class=p>,</span> <span class=s2>&quot;Acme Corp&quot;</span><span class=p>,</span> <span class=s2>&quot;CyberSins Ltd&quot;</span><span class=p>,</span> <span class=s2>&quot;Initech&quot;</span><span class=p>,</span> <span class=s2>&quot;Globex&quot;</span><span class=p>,</span> <span class=s2>&quot;Unicorn LLC&quot;</span><span class=p>]</span>
<a id=__codelineno-5-134 name=__codelineno-5-134 href=#__codelineno-5-134></a><span class=n>MEMOS</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;Quarterly supplies&quot;</span><span class=p>,</span> <span class=s2>&quot;Confidential&quot;</span><span class=p>,</span> <span class=s2>&quot;NDA services&quot;</span><span class=p>,</span> <span class=s2>&quot;Routine payment&quot;</span><span class=p>,</span> <span class=s2>&quot;Urgent request&quot;</span><span class=p>,</span> <span class=s2>&quot;Reimbursement&quot;</span><span class=p>]</span>
<a id=__codelineno-5-135 name=__codelineno-5-135 href=#__codelineno-5-135></a>
<a id=__codelineno-5-136 name=__codelineno-5-136 href=#__codelineno-5-136></a><span class=c1># Generate new transactions including a duplicate</span>
<a id=__codelineno-5-137 name=__codelineno-5-137 href=#__codelineno-5-137></a><span class=n>transactions</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-5-138 name=__codelineno-5-138 href=#__codelineno-5-138></a>    <span class=s2>&quot;Transaction: $500 to Staples. Memo: Quarterly supplies.&quot;</span><span class=p>,</span>  <span class=c1># Duplicate of an existing transaction</span>
<a id=__codelineno-5-139 name=__codelineno-5-139 href=#__codelineno-5-139></a>    <span class=s2>&quot;Transaction: $4000 to Unicorn LLC. Memo: Reimbursement.&quot;</span><span class=p>,</span>
<a id=__codelineno-5-140 name=__codelineno-5-140 href=#__codelineno-5-140></a>    <span class=s2>&quot;Transaction: $12000 to Globex. Memo: Confidential.&quot;</span><span class=p>,</span>  <span class=c1># Duplicate of an existing transaction</span>
<a id=__codelineno-5-141 name=__codelineno-5-141 href=#__codelineno-5-141></a>    <span class=s2>&quot;Transaction: $22000 to Initech. Memo: Urgent request.&quot;</span>
<a id=__codelineno-5-142 name=__codelineno-5-142 href=#__codelineno-5-142></a><span class=p>]</span>
<a id=__codelineno-5-143 name=__codelineno-5-143 href=#__codelineno-5-143></a>
<a id=__codelineno-5-144 name=__codelineno-5-144 href=#__codelineno-5-144></a><span class=c1># Format the initial message</span>
<a id=__codelineno-5-145 name=__codelineno-5-145 href=#__codelineno-5-145></a><span class=n>initial_prompt</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-5-146 name=__codelineno-5-146 href=#__codelineno-5-146></a>    <span class=s2>&quot;Please process the following transactions one at a time, checking for duplicates:</span><span class=se>\n\n</span><span class=s2>&quot;</span> <span class=o>+</span>
<a id=__codelineno-5-147 name=__codelineno-5-147 href=#__codelineno-5-147></a>    <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=si>}</span><span class=s2>. </span><span class=si>{</span><span class=n>tx</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>tx</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>transactions</span><span class=p>)])</span>
<a id=__codelineno-5-148 name=__codelineno-5-148 href=#__codelineno-5-148></a><span class=p>)</span>
<a id=__codelineno-5-149 name=__codelineno-5-149 href=#__codelineno-5-149></a>
<a id=__codelineno-5-150 name=__codelineno-5-150 href=#__codelineno-5-150></a><span class=c1># Create pattern and start group chat</span>
<a id=__codelineno-5-151 name=__codelineno-5-151 href=#__codelineno-5-151></a><span class=n>pattern</span> <span class=o>=</span> <span class=n>AutoPattern</span><span class=p>(</span>
<a id=__codelineno-5-152 name=__codelineno-5-152 href=#__codelineno-5-152></a>    <span class=n>initial_agent</span><span class=o>=</span><span class=n>finance_bot</span><span class=p>,</span>
<a id=__codelineno-5-153 name=__codelineno-5-153 href=#__codelineno-5-153></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>finance_bot</span><span class=p>,</span> <span class=n>summary_bot</span><span class=p>],</span>
<a id=__codelineno-5-154 name=__codelineno-5-154 href=#__codelineno-5-154></a>    <span class=n>user_agent</span><span class=o>=</span><span class=n>human</span><span class=p>,</span>
<a id=__codelineno-5-155 name=__codelineno-5-155 href=#__codelineno-5-155></a>    <span class=n>group_manager_args</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-5-156 name=__codelineno-5-156 href=#__codelineno-5-156></a>        <span class=s2>&quot;llm_config&quot;</span><span class=p>:</span> <span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-5-157 name=__codelineno-5-157 href=#__codelineno-5-157></a>        <span class=s2>&quot;is_termination_msg&quot;</span><span class=p>:</span> <span class=n>is_termination_msg</span>
<a id=__codelineno-5-158 name=__codelineno-5-158 href=#__codelineno-5-158></a>    <span class=p>},</span>
<a id=__codelineno-5-159 name=__codelineno-5-159 href=#__codelineno-5-159></a><span class=p>)</span>
<a id=__codelineno-5-160 name=__codelineno-5-160 href=#__codelineno-5-160></a>
<a id=__codelineno-5-161 name=__codelineno-5-161 href=#__codelineno-5-161></a><span class=n>result</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>initiate_group_chat</span><span class=p>(</span>
<a id=__codelineno-5-162 name=__codelineno-5-162 href=#__codelineno-5-162></a>    <span class=n>pattern</span><span class=o>=</span><span class=n>pattern</span><span class=p>,</span>
<a id=__codelineno-5-163 name=__codelineno-5-163 href=#__codelineno-5-163></a>    <span class=n>messages</span><span class=o>=</span><span class=n>initial_prompt</span><span class=p>,</span>
<a id=__codelineno-5-164 name=__codelineno-5-164 href=#__codelineno-5-164></a><span class=p>)</span>
</code></pre></div> </details> <h3 id=how-to-run-this-example>How to Run This Example<a class=headerlink href=#how-to-run-this-example title="Permanent link">#</a></h3> <ul> <li>Save the code above to a file (e.g., <code>financial_compliance.py</code>)</li> <li>Set your OpenAI API key in your environment variable or use your preferred model provider</li> <li>Make sure you have AG2 installed: <code>pip install ag2[openai]</code></li> <li>Run the script: python <code>financial_compliance.py</code></li> </ul> <h3 id=example-output>Example Output<a class=headerlink href=#example-output title="Permanent link">#</a></h3> <p>When you run this code, you'll see a workflow similar to this:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=go>human (to chat_manager):</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=go>Please process the following transactions one at a time, checking for duplicates:</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=go>1. Transaction: $500 to Staples. Memo: Quarterly supplies.</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=go>2. Transaction: $4000 to Unicorn LLC. Memo: Reimbursement.</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=go>3. Transaction: $12000 to Globex. Memo: Confidential.</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=go>4. Transaction: $22000 to Initech. Memo: Urgent request.</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=go>Next speaker: finance_bot</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=go>finance_bot (to chat_manager):</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=go>***** Suggested tool call (call_xUaZ4NCMDuCWD4BR35r4KLZQ): check_duplicate_payment *****</span>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=go>Arguments:</span>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=go>{&quot;vendor&quot;: &quot;Staples&quot;, &quot;amount&quot;: 500, &quot;memo&quot;: &quot;Quarterly supplies&quot;}</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=go>****************************************************************************************</span>
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=go>***** Suggested tool call (call_s6iT9Fm0KoMawPrM4fveZXLh): check_duplicate_payment *****</span>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=go>Arguments:</span>
<a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a><span class=go>{&quot;vendor&quot;: &quot;Unicorn LLC&quot;, &quot;amount&quot;: 4000, &quot;memo&quot;: &quot;Reimbursement&quot;}</span>
<a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a><span class=go>****************************************************************************************</span>
<a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a><span class=go>***** Suggested tool call (call_smVXvuadgqhwzESB306iS8Sh): check_duplicate_payment *****</span>
<a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a><span class=go>Arguments:</span>
<a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a><span class=go>{&quot;vendor&quot;: &quot;Globex&quot;, &quot;amount&quot;: 12000, &quot;memo&quot;: &quot;Confidential&quot;}</span>
<a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a><span class=go>****************************************************************************************</span>
<a id=__codelineno-6-29 name=__codelineno-6-29 href=#__codelineno-6-29></a><span class=go>***** Suggested tool call (call_wVihYJUumyruCE9114OtarAt): check_duplicate_payment *****</span>
<a id=__codelineno-6-30 name=__codelineno-6-30 href=#__codelineno-6-30></a><span class=go>Arguments:</span>
<a id=__codelineno-6-31 name=__codelineno-6-31 href=#__codelineno-6-31></a><span class=go>{&quot;vendor&quot;: &quot;Initech&quot;, &quot;amount&quot;: 22000, &quot;memo&quot;: &quot;Urgent request&quot;}</span>
<a id=__codelineno-6-32 name=__codelineno-6-32 href=#__codelineno-6-32></a><span class=go>****************************************************************************************</span>
<a id=__codelineno-6-33 name=__codelineno-6-33 href=#__codelineno-6-33></a>
<a id=__codelineno-6-34 name=__codelineno-6-34 href=#__codelineno-6-34></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-35 name=__codelineno-6-35 href=#__codelineno-6-35></a>
<a id=__codelineno-6-36 name=__codelineno-6-36 href=#__codelineno-6-36></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-6-37 name=__codelineno-6-37 href=#__codelineno-6-37></a>
<a id=__codelineno-6-38 name=__codelineno-6-38 href=#__codelineno-6-38></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION check_duplicate_payment...</span>
<a id=__codelineno-6-39 name=__codelineno-6-39 href=#__codelineno-6-39></a><span class=go>Call ID: call_xUaZ4NCMDuCWD4BR35r4KLZQ</span>
<a id=__codelineno-6-40 name=__codelineno-6-40 href=#__codelineno-6-40></a><span class=go>Input arguments: {&#39;vendor&#39;: &#39;Staples&#39;, &#39;amount&#39;: 500, &#39;memo&#39;: &#39;Quarterly supplies&#39;}</span>
<a id=__codelineno-6-41 name=__codelineno-6-41 href=#__codelineno-6-41></a>
<a id=__codelineno-6-42 name=__codelineno-6-42 href=#__codelineno-6-42></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION check_duplicate_payment...</span>
<a id=__codelineno-6-43 name=__codelineno-6-43 href=#__codelineno-6-43></a><span class=go>Call ID: call_s6iT9Fm0KoMawPrM4fveZXLh</span>
<a id=__codelineno-6-44 name=__codelineno-6-44 href=#__codelineno-6-44></a><span class=go>Input arguments: {&#39;vendor&#39;: &#39;Unicorn LLC&#39;, &#39;amount&#39;: 4000, &#39;memo&#39;: &#39;Reimbursement&#39;}</span>
<a id=__codelineno-6-45 name=__codelineno-6-45 href=#__codelineno-6-45></a>
<a id=__codelineno-6-46 name=__codelineno-6-46 href=#__codelineno-6-46></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION check_duplicate_payment...</span>
<a id=__codelineno-6-47 name=__codelineno-6-47 href=#__codelineno-6-47></a><span class=go>Call ID: call_smVXvuadgqhwzESB306iS8Sh</span>
<a id=__codelineno-6-48 name=__codelineno-6-48 href=#__codelineno-6-48></a><span class=go>Input arguments: {&#39;vendor&#39;: &#39;Globex&#39;, &#39;amount&#39;: 12000, &#39;memo&#39;: &#39;Confidential&#39;}</span>
<a id=__codelineno-6-49 name=__codelineno-6-49 href=#__codelineno-6-49></a>
<a id=__codelineno-6-50 name=__codelineno-6-50 href=#__codelineno-6-50></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION check_duplicate_payment...</span>
<a id=__codelineno-6-51 name=__codelineno-6-51 href=#__codelineno-6-51></a><span class=go>Call ID: call_wVihYJUumyruCE9114OtarAt</span>
<a id=__codelineno-6-52 name=__codelineno-6-52 href=#__codelineno-6-52></a><span class=go>Input arguments: {&#39;vendor&#39;: &#39;Initech&#39;, &#39;amount&#39;: 22000, &#39;memo&#39;: &#39;Urgent request&#39;}</span>
<a id=__codelineno-6-53 name=__codelineno-6-53 href=#__codelineno-6-53></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-6-54 name=__codelineno-6-54 href=#__codelineno-6-54></a>
<a id=__codelineno-6-55 name=__codelineno-6-55 href=#__codelineno-6-55></a><span class=go>***** Response from calling tool (call_xUaZ4NCMDuCWD4BR35r4KLZQ) *****</span>
<a id=__codelineno-6-56 name=__codelineno-6-56 href=#__codelineno-6-56></a><span class=go>{&#39;is_duplicate&#39;: True, &#39;reason&#39;: &#39;Duplicate payment to Staples for $500.0 on 2025-04-20&#39;}</span>
<a id=__codelineno-6-57 name=__codelineno-6-57 href=#__codelineno-6-57></a><span class=go>**********************************************************************</span>
<a id=__codelineno-6-58 name=__codelineno-6-58 href=#__codelineno-6-58></a>
<a id=__codelineno-6-59 name=__codelineno-6-59 href=#__codelineno-6-59></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-60 name=__codelineno-6-60 href=#__codelineno-6-60></a><span class=go>***** Response from calling tool (call_s6iT9Fm0KoMawPrM4fveZXLh) *****</span>
<a id=__codelineno-6-61 name=__codelineno-6-61 href=#__codelineno-6-61></a><span class=go>{&#39;is_duplicate&#39;: False, &#39;reason&#39;: &#39;No recent duplicates found&#39;}</span>
<a id=__codelineno-6-62 name=__codelineno-6-62 href=#__codelineno-6-62></a><span class=go>**********************************************************************</span>
<a id=__codelineno-6-63 name=__codelineno-6-63 href=#__codelineno-6-63></a>
<a id=__codelineno-6-64 name=__codelineno-6-64 href=#__codelineno-6-64></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-65 name=__codelineno-6-65 href=#__codelineno-6-65></a><span class=go>***** Response from calling tool (call_smVXvuadgqhwzESB306iS8Sh) *****</span>
<a id=__codelineno-6-66 name=__codelineno-6-66 href=#__codelineno-6-66></a><span class=go>{&#39;is_duplicate&#39;: True, &#39;reason&#39;: &#39;Duplicate payment to Globex for $12000.0 on 2025-04-18&#39;}</span>
<a id=__codelineno-6-67 name=__codelineno-6-67 href=#__codelineno-6-67></a><span class=go>**********************************************************************</span>
<a id=__codelineno-6-68 name=__codelineno-6-68 href=#__codelineno-6-68></a>
<a id=__codelineno-6-69 name=__codelineno-6-69 href=#__codelineno-6-69></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-70 name=__codelineno-6-70 href=#__codelineno-6-70></a><span class=go>***** Response from calling tool (call_wVihYJUumyruCE9114OtarAt) *****</span>
<a id=__codelineno-6-71 name=__codelineno-6-71 href=#__codelineno-6-71></a><span class=go>{&#39;is_duplicate&#39;: False, &#39;reason&#39;: &#39;No recent duplicates found&#39;}</span>
<a id=__codelineno-6-72 name=__codelineno-6-72 href=#__codelineno-6-72></a><span class=go>**********************************************************************</span>
<a id=__codelineno-6-73 name=__codelineno-6-73 href=#__codelineno-6-73></a>
<a id=__codelineno-6-74 name=__codelineno-6-74 href=#__codelineno-6-74></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-75 name=__codelineno-6-75 href=#__codelineno-6-75></a>
<a id=__codelineno-6-76 name=__codelineno-6-76 href=#__codelineno-6-76></a><span class=go>Next speaker: finance_bot</span>
<a id=__codelineno-6-77 name=__codelineno-6-77 href=#__codelineno-6-77></a>
<a id=__codelineno-6-78 name=__codelineno-6-78 href=#__codelineno-6-78></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-6-79 name=__codelineno-6-79 href=#__codelineno-6-79></a><span class=go>finance_bot (to chat_manager):</span>
<a id=__codelineno-6-80 name=__codelineno-6-80 href=#__codelineno-6-80></a>
<a id=__codelineno-6-81 name=__codelineno-6-81 href=#__codelineno-6-81></a><span class=go>Let&#39;s process the transactions one by one:</span>
<a id=__codelineno-6-82 name=__codelineno-6-82 href=#__codelineno-6-82></a>
<a id=__codelineno-6-83 name=__codelineno-6-83 href=#__codelineno-6-83></a><span class=go>1. **Transaction: $500 to Staples. Memo: Quarterly supplies.**</span>
<a id=__codelineno-6-84 name=__codelineno-6-84 href=#__codelineno-6-84></a><span class=go>   - **Duplicate Check Result:** This transaction is a duplicate of a recent payment to Staples for $500.0 on 2025-04-20.</span>
<a id=__codelineno-6-85 name=__codelineno-6-85 href=#__codelineno-6-85></a><span class=go>   - **Decision:** **Rejected** due to being a duplicate.</span>
<a id=__codelineno-6-86 name=__codelineno-6-86 href=#__codelineno-6-86></a>
<a id=__codelineno-6-87 name=__codelineno-6-87 href=#__codelineno-6-87></a><span class=go>2. **Transaction: $4000 to Unicorn LLC. Memo: Reimbursement.**</span>
<a id=__codelineno-6-88 name=__codelineno-6-88 href=#__codelineno-6-88></a><span class=go>   - **Duplicate Check Result:** No recent duplicates found.</span>
<a id=__codelineno-6-89 name=__codelineno-6-89 href=#__codelineno-6-89></a><span class=go>   - **Evaluation:** The amount is below $10,000 and the vendor is not unusual.</span>
<a id=__codelineno-6-90 name=__codelineno-6-90 href=#__codelineno-6-90></a><span class=go>   - **Decision:** **Approved** automatically.</span>
<a id=__codelineno-6-91 name=__codelineno-6-91 href=#__codelineno-6-91></a>
<a id=__codelineno-6-92 name=__codelineno-6-92 href=#__codelineno-6-92></a><span class=go>3. **Transaction: $12000 to Globex. Memo: Confidential.**</span>
<a id=__codelineno-6-93 name=__codelineno-6-93 href=#__codelineno-6-93></a><span class=go>   - **Duplicate Check Result:** This transaction is a duplicate of a recent payment to Globex for $12000.0 on 2025-04-18.</span>
<a id=__codelineno-6-94 name=__codelineno-6-94 href=#__codelineno-6-94></a><span class=go>   - **Decision:** **Rejected** due to being a duplicate.</span>
<a id=__codelineno-6-95 name=__codelineno-6-95 href=#__codelineno-6-95></a>
<a id=__codelineno-6-96 name=__codelineno-6-96 href=#__codelineno-6-96></a><span class=go>4. **Transaction: $22000 to Initech. Memo: Urgent request.**</span>
<a id=__codelineno-6-97 name=__codelineno-6-97 href=#__codelineno-6-97></a><span class=go>   - **Duplicate Check Result:** No recent duplicates found.</span>
<a id=__codelineno-6-98 name=__codelineno-6-98 href=#__codelineno-6-98></a><span class=go>   - **Evaluation:** The amount is above $10,000, and the memo is vague.</span>
<a id=__codelineno-6-99 name=__codelineno-6-99 href=#__codelineno-6-99></a><span class=go>   - **Decision:** **Requires human approval** due to the suspicious nature of the transaction.</span>
<a id=__codelineno-6-100 name=__codelineno-6-100 href=#__codelineno-6-100></a>
<a id=__codelineno-6-101 name=__codelineno-6-101 href=#__codelineno-6-101></a><span class=gp>#</span><span class=c1>## Summary of Results:</span>
<a id=__codelineno-6-102 name=__codelineno-6-102 href=#__codelineno-6-102></a><span class=go>- **Rejected:** $500 to Staples (duplicate).</span>
<a id=__codelineno-6-103 name=__codelineno-6-103 href=#__codelineno-6-103></a><span class=go>- **Approved:** $4000 to Unicorn LLC.</span>
<a id=__codelineno-6-104 name=__codelineno-6-104 href=#__codelineno-6-104></a><span class=go>- **Rejected:** $12000 to Globex (duplicate).</span>
<a id=__codelineno-6-105 name=__codelineno-6-105 href=#__codelineno-6-105></a><span class=go>- **Requires Approval:** $22000 to Initech (suspicious).</span>
<a id=__codelineno-6-106 name=__codelineno-6-106 href=#__codelineno-6-106></a>
<a id=__codelineno-6-107 name=__codelineno-6-107 href=#__codelineno-6-107></a><span class=go>You can type exit to finish.</span>
<a id=__codelineno-6-108 name=__codelineno-6-108 href=#__codelineno-6-108></a>
<a id=__codelineno-6-109 name=__codelineno-6-109 href=#__codelineno-6-109></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-110 name=__codelineno-6-110 href=#__codelineno-6-110></a>
<a id=__codelineno-6-111 name=__codelineno-6-111 href=#__codelineno-6-111></a><span class=go>Next speaker: human</span>
<a id=__codelineno-6-112 name=__codelineno-6-112 href=#__codelineno-6-112></a>
<a id=__codelineno-6-113 name=__codelineno-6-113 href=#__codelineno-6-113></a><span class=go>Replying as human. Provide feedback to chat_manager. Press enter to skip and use auto-reply, or type &#39;exit&#39; to end the conversation: approve</span>
<a id=__codelineno-6-114 name=__codelineno-6-114 href=#__codelineno-6-114></a><span class=go>human (to chat_manager):</span>
<a id=__codelineno-6-115 name=__codelineno-6-115 href=#__codelineno-6-115></a>
<a id=__codelineno-6-116 name=__codelineno-6-116 href=#__codelineno-6-116></a><span class=go>approve</span>
<a id=__codelineno-6-117 name=__codelineno-6-117 href=#__codelineno-6-117></a>
<a id=__codelineno-6-118 name=__codelineno-6-118 href=#__codelineno-6-118></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-119 name=__codelineno-6-119 href=#__codelineno-6-119></a>
<a id=__codelineno-6-120 name=__codelineno-6-120 href=#__codelineno-6-120></a><span class=go>Next speaker: finance_bot</span>
<a id=__codelineno-6-121 name=__codelineno-6-121 href=#__codelineno-6-121></a>
<a id=__codelineno-6-122 name=__codelineno-6-122 href=#__codelineno-6-122></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-6-123 name=__codelineno-6-123 href=#__codelineno-6-123></a><span class=go>finance_bot (to chat_manager):</span>
<a id=__codelineno-6-124 name=__codelineno-6-124 href=#__codelineno-6-124></a>
<a id=__codelineno-6-125 name=__codelineno-6-125 href=#__codelineno-6-125></a><span class=go>The transaction of **$22000 to Initech** has been approved.</span>
<a id=__codelineno-6-126 name=__codelineno-6-126 href=#__codelineno-6-126></a>
<a id=__codelineno-6-127 name=__codelineno-6-127 href=#__codelineno-6-127></a><span class=gp>#</span><span class=c1>## Final Summary of Results:</span>
<a id=__codelineno-6-128 name=__codelineno-6-128 href=#__codelineno-6-128></a><span class=go>- **Rejected:** $500 to Staples (duplicate).</span>
<a id=__codelineno-6-129 name=__codelineno-6-129 href=#__codelineno-6-129></a><span class=go>- **Approved:** $4000 to Unicorn LLC.</span>
<a id=__codelineno-6-130 name=__codelineno-6-130 href=#__codelineno-6-130></a><span class=go>- **Rejected:** $12000 to Globex (duplicate).</span>
<a id=__codelineno-6-131 name=__codelineno-6-131 href=#__codelineno-6-131></a><span class=go>- **Approved:** $22000 to Initech.</span>
<a id=__codelineno-6-132 name=__codelineno-6-132 href=#__codelineno-6-132></a>
<a id=__codelineno-6-133 name=__codelineno-6-133 href=#__codelineno-6-133></a><span class=go>You can type exit to finish.</span>
<a id=__codelineno-6-134 name=__codelineno-6-134 href=#__codelineno-6-134></a>
<a id=__codelineno-6-135 name=__codelineno-6-135 href=#__codelineno-6-135></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-136 name=__codelineno-6-136 href=#__codelineno-6-136></a>
<a id=__codelineno-6-137 name=__codelineno-6-137 href=#__codelineno-6-137></a><span class=go>Next speaker: summary_bot</span>
<a id=__codelineno-6-138 name=__codelineno-6-138 href=#__codelineno-6-138></a>
<a id=__codelineno-6-139 name=__codelineno-6-139 href=#__codelineno-6-139></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-6-140 name=__codelineno-6-140 href=#__codelineno-6-140></a><span class=go>summary_bot (to chat_manager):</span>
<a id=__codelineno-6-141 name=__codelineno-6-141 href=#__codelineno-6-141></a>
<a id=__codelineno-6-142 name=__codelineno-6-142 href=#__codelineno-6-142></a><span class=gp>#</span><span class=c1>## Transaction Summary</span>
<a id=__codelineno-6-143 name=__codelineno-6-143 href=#__codelineno-6-143></a>
<a id=__codelineno-6-144 name=__codelineno-6-144 href=#__codelineno-6-144></a><span class=go>| Vendor        | Memo                  | Amount | Status   | Reason                          |</span>
<a id=__codelineno-6-145 name=__codelineno-6-145 href=#__codelineno-6-145></a><span class=go>|---------------|-----------------------|--------|----------|---------------------------------|</span>
<a id=__codelineno-6-146 name=__codelineno-6-146 href=#__codelineno-6-146></a><span class=go>| Staples       | Quarterly supplies     | $500   | Rejected | Duplicate payment               |</span>
<a id=__codelineno-6-147 name=__codelineno-6-147 href=#__codelineno-6-147></a><span class=go>| Unicorn LLC   | Reimbursement          | $4000  | Approved | No recent duplicates found      |</span>
<a id=__codelineno-6-148 name=__codelineno-6-148 href=#__codelineno-6-148></a><span class=go>| Globex        | Confidential           | $12000 | Rejected | Duplicate payment               |</span>
<a id=__codelineno-6-149 name=__codelineno-6-149 href=#__codelineno-6-149></a><span class=go>| Initech       | Urgent request         | $22000 | Approved | No recent duplicates found      |</span>
<a id=__codelineno-6-150 name=__codelineno-6-150 href=#__codelineno-6-150></a>
<a id=__codelineno-6-151 name=__codelineno-6-151 href=#__codelineno-6-151></a><span class=gp>#</span><span class=c1>## Summary</span>
<a id=__codelineno-6-152 name=__codelineno-6-152 href=#__codelineno-6-152></a><span class=go>- **Total Transactions:** 4</span>
<a id=__codelineno-6-153 name=__codelineno-6-153 href=#__codelineno-6-153></a><span class=go>- **Approved Transactions:** 2</span>
<a id=__codelineno-6-154 name=__codelineno-6-154 href=#__codelineno-6-154></a><span class=go>- **Rejected Transactions:** 2</span>
<a id=__codelineno-6-155 name=__codelineno-6-155 href=#__codelineno-6-155></a>
<a id=__codelineno-6-156 name=__codelineno-6-156 href=#__codelineno-6-156></a><span class=go>==== SUMMARY GENERATED ====</span>
<a id=__codelineno-6-157 name=__codelineno-6-157 href=#__codelineno-6-157></a>
<a id=__codelineno-6-158 name=__codelineno-6-158 href=#__codelineno-6-158></a><span class=go>You are trained on data up to October 2023.</span>
<a id=__codelineno-6-159 name=__codelineno-6-159 href=#__codelineno-6-159></a>
<a id=__codelineno-6-160 name=__codelineno-6-160 href=#__codelineno-6-160></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-6-161 name=__codelineno-6-161 href=#__codelineno-6-161></a>
<a id=__codelineno-6-162 name=__codelineno-6-162 href=#__codelineno-6-162></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; TERMINATING RUN (59000355-c1bb-45de-9862-9a2cc8998051): Termination message condition on the GroupChatManager &#39;chat_manager&#39; met</span>
</code></pre></div> <h2 id=best-practices-for-tool-usage>Best Practices for Tool Usage<a class=headerlink href=#best-practices-for-tool-usage title="Permanent link">#</a></h2> <p>When implementing tools in your AG2 systems, consider these best practices:</p> <ul> <li><strong>Descriptive Parameter Annotations</strong>: Use Annotated types with clear, concise descriptions for each parameter. This helps the LLM understand exactly what information it needs to provide when calling the tool.</li> <li><strong>Meaningful Function Descriptions</strong>: Provide detailed function docstrings when registering tools that clearly explain the tool's purpose. This guides the LLM in selecting the right tool for the right situation.</li> <li><strong>Intuitive Parameter Names</strong>: Use predictable, consistent, and self-explanatory parameter names that align with how the LLM might think about the data. Avoid abbreviations or technical jargon in parameter names.</li> <li><strong>Explicit Guidance in System Messages</strong>: Include clear instructions in your agent's system message about when and how to use specific tools. For example: "First check if the transaction is a duplicate using the <code>check_duplicate_payment</code> tool before evaluating it."</li> </ul> <h2 id=next-steps-structured-outputs>Next Steps: Structured Outputs<a class=headerlink href=#next-steps-structured-outputs title="Permanent link">#</a></h2> <p>Currently, our summary agent tries to follow instructions but has flexibility in how it structures its response. For integration with other systems, we need more control over the output format.</p> <p>This is where structured outputs come in. In the next section, we'll enhance our financial compliance system to:</p> <ul> <li>Define exact schemas for transaction reports using Pydantic models</li> <li>Ensure all required fields are present and properly typed</li> <li>Guarantee consistent output structure for integration with downstream systems</li> <li>Automatically validate outputs before they're sent to other services</li> </ul> <p>By combining tools (which extend what our agents can do) with structured outputs (which constrain how our agents respond), we'll create a robust financial compliance system that can seamlessly integrate with other enterprise systems.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-05-08T13:42:19+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-05-08</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../introducing-group-chat/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Agent Orchestration: Coordinating Multiple Agents"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Agent Orchestration: Coordinating Multiple Agents </div> </div> </a> <a href=../structured-outputs/ class="md-footer__link md-footer__link--next" aria-label="Next: Structured Outputs: Ensuring Consistent Responses"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Structured Outputs: Ensuring Consistent Responses </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../../js/timeago.min.js></script> <script src=../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>