<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://docs.ag2.ai/latest/docs/blog/2023/10/18/RetrieveChat/ rel=canonical><link href=../../../07/14/Local-LLMs/ rel=prev><link href=../../26/TeachableAgent/ rel=next><link rel=icon href=../../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Retrieval-Augmented Generation (RAG) Applications with AutoGen - AG2</title><link rel=stylesheet href=../../../../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../css/timeago.css><link rel=stylesheet href=../../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../../stylesheets/extra.ff0633.min.css><script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - Retrieval-Augmented Generation (RAG) Applications with AutoGen"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://docs.ag2.ai/latest/docs/blog/2023/10/18/RetrieveChat/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - Retrieval-Augmented Generation (RAG) Applications with AutoGen"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon-dark.svg type=image/x-icon media="(prefers-color-scheme: light)"><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon media="(prefers-color-scheme: dark)"><link href=../../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Retrieval-Augmented Generation (RAG) Applications with AutoGen </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../../quick-start/ class=md-tabs__link> Quick Start </a> </li> <li class=md-tabs__item> <a href=../../../../../user-guide/basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../../../api-reference/autogen/Agent/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../../../../use-cases/use-cases/customer-service/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-tabs__link> Community Insights </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../user-guide/basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../api-reference/autogen/Agent/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../use-cases/use-cases/customer-service/ class=md-nav__link> <span class=md-ellipsis> Use Cases </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-nav__link> <span class=md-ellipsis> Community Insights </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../archive/2025/ class=md-nav__link> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../category/ag2/ class=md-nav__link> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#basic-usage-of-rag-agents class=md-nav__link> <span class=md-ellipsis> Basic Usage of RAG Agents </span> </a> </li> <li class=md-nav__item> <a href=#customizing-rag-agents class=md-nav__link> <span class=md-ellipsis> Customizing RAG Agents </span> </a> <nav class=md-nav aria-label="Customizing RAG Agents"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#customizing-embedding-function class=md-nav__link> <span class=md-ellipsis> Customizing Embedding Function </span> </a> </li> <li class=md-nav__item> <a href=#customizing-text-split-function class=md-nav__link> <span class=md-ellipsis> Customizing Text Split Function </span> </a> </li> <li class=md-nav__item> <a href=#customizing-vector-database class=md-nav__link> <span class=md-ellipsis> Customizing Vector Database </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-usage-of-rag-agents class=md-nav__link> <span class=md-ellipsis> Advanced Usage of RAG Agents </span> </a> <nav class=md-nav aria-label="Advanced Usage of RAG Agents"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#integrate-with-other-agents-in-a-group-chat class=md-nav__link> <span class=md-ellipsis> Integrate with other agents in a group chat </span> </a> </li> <li class=md-nav__item> <a href=#build-a-chat-application-with-gradio class=md-nav__link> <span class=md-ellipsis> Build a Chat application with Gradio </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#read-more class=md-nav__link> <span class=md-ellipsis> Read More </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://github.com/thinkall.png alt="Li Jiang"> </span> <span class=md-profile__description> <strong> <a href=https://github.com/thinkall>Li Jiang</a> </strong> <br> Senior Software Engineer at Microsoft </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg> <time datetime="2023-10-18 00:00:00+00:00" class=md-ellipsis>October 18, 2023</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/rag/ >RAG</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg> <span class=md-ellipsis> 8 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/edit/main/website/docs/blog/posts/2023-10-18-RetrieveChat/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>Retrieval-Augmented Generation (RAG) Applications with AutoGen</h1> <p><em>Last update: August 14, 2024; AutoGen version: v0.2.35</em></p> <p><img alt="RAG Architecture" src=../../../../2023-10-18-RetrieveChat/img/retrievechat-arch.png></p> <p><strong>TL;DR:</strong> * We introduce <strong>RetrieveUserProxyAgent</strong>, RAG agents of AutoGen that allows retrieval-augmented generation, and its basic usage. * We showcase customizations of RAG agents, such as customizing the embedding function, the text split function and vector database. * We also showcase two advanced usage of RAG agents, integrating with group chat and building a Chat application with Gradio.</p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">#</a></h2> <p>Retrieval augmentation has emerged as a practical and effective approach for mitigating the intrinsic limitations of LLMs by incorporating external documents. In this blog post, we introduce RAG agents of AutoGen that allows retrieval-augmented generation. The system consists of two agents: a Retrieval-augmented User Proxy agent, called <code>RetrieveUserProxyAgent</code>, and an Assistant agent, called <code>RetrieveAssistantAgent</code>; <code>RetrieveUserProxyAgent</code> is extended from built-in agents from AutoGen, while <code>RetrieveAssistantAgent</code> can be any conversable agent with LLM configured. The overall architecture of the RAG agents is shown in the figure above.</p> <p>To use Retrieval-augmented Chat, one needs to initialize two agents including Retrieval-augmented User Proxy and Retrieval-augmented Assistant. Initializing the Retrieval-Augmented User Proxy necessitates specifying a path to the document collection. Subsequently, the Retrieval-Augmented User Proxy can download the documents, segment them into chunks of a specific size, compute embeddings, and store them in a vector database. Once a chat is initiated, the agents collaboratively engage in code generation or question-answering adhering to the procedures outlined below: 1. The Retrieval-Augmented User Proxy retrieves document chunks based on the embedding similarity, and sends them along with the question to the Retrieval-Augmented Assistant. 2. The Retrieval-Augmented Assistant employs an LLM to generate code or text as answers based on the question and context provided. If the LLM is unable to produce a satisfactory response, it is instructed to reply with “Update Context” to the Retrieval-Augmented User Proxy. 3. If a response includes code blocks, the Retrieval-Augmented User Proxy executes the code and sends the output as feedback. If there are no code blocks or instructions to update the context, it terminates the conversation. Otherwise, it updates the context and forwards the question along with the new context to the Retrieval-Augmented Assistant. Note that if human input solicitation is enabled, individuals can proactively send any feedback, including Update Context”, to the Retrieval-Augmented Assistant. 4. If the Retrieval-Augmented Assistant receives “Update Context”, it requests the next most similar chunks of documents as new context from the Retrieval-Augmented User Proxy. Otherwise, it generates new code or text based on the feedback and chat history. If the LLM fails to generate an answer, it replies with “Update Context” again. This process can be repeated several times. The conversation terminates if no more documents are available for the context.</p> <h2 id=basic-usage-of-rag-agents>Basic Usage of RAG Agents<a class=headerlink href=#basic-usage-of-rag-agents title="Permanent link">#</a></h2> <ol> <li>Install dependencies</li> </ol> <p>Please install autogen with the [retrievechat] option before using RAG agents. <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>pip<span class=w> </span>install<span class=w> </span><span class=s2>&quot;autogen[retrievechat]&quot;</span>
</code></pre></div></p> <p>RetrieveChat can handle various types of documents. By default, it can process plain text and PDF files, including formats such as 'txt', 'json', 'csv', 'tsv', 'md', 'html', 'htm', 'rtf', 'rst', 'jsonl', 'log', 'xml', 'yaml', 'yml' and 'pdf'. If you install <a href=https://unstructured-io.github.io/unstructured/installation/full_installation.html>unstructured</a>, additional document types such as 'docx', 'doc', 'odt', 'pptx', 'ppt', 'xlsx', 'eml', 'msg', 'epub' will also be supported.</p> <ul> <li>Install <code>unstructured</code> in ubuntu <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>sudo<span class=w> </span>apt-get<span class=w> </span>update
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>tesseract-ocr<span class=w> </span>poppler-utils
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>pip<span class=w> </span>install<span class=w> </span>unstructured<span class=o>[</span>all-docs<span class=o>]</span>
</code></pre></div></li> </ul> <p>You can find a list of all supported document types by using <code>autogen.retrieve_utils.TEXT_FORMATS</code>.</p> <ol> <li> <p>Import Agents <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>import</span><span class=w> </span><span class=nn>autogen</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>AssistantAgent</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat.contrib.retrieve_user_proxy_agent</span><span class=w> </span><span class=kn>import</span> <span class=n>RetrieveUserProxyAgent</span>
</code></pre></div></p> </li> <li> <p>Create an 'AssistantAgent' instance named "assistant" and an 'RetrieveUserProxyAgent' instance named "ragproxyagent"</p> </li> </ol> <p>Refer to the <a href=https://docs.ag2.ai/latest/docs/api-reference/autogen/agentchat/contrib/retrieve_user_proxy_agent/RetrieveUserProxyAgent/#autogen.agentchat.contrib.retrieve_user_proxy_agent.RetrieveUserProxyAgent>doc</a> for more information on the detailed configurations.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>assistant</span> <span class=o>=</span> <span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;assistant&quot;</span><span class=p>,</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a helpful assistant.&quot;</span><span class=p>,</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=p>)</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=n>ragproxyagent</span> <span class=o>=</span> <span class=n>RetrieveUserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;ragproxyagent&quot;</span><span class=p>,</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=n>retrieve_config</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>        <span class=s2>&quot;task&quot;</span><span class=p>:</span> <span class=s2>&quot;qa&quot;</span><span class=p>,</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>        <span class=s2>&quot;docs_path&quot;</span><span class=p>:</span> <span class=s2>&quot;https://raw.githubusercontent.com/ag2ai/ag2/main/README.md&quot;</span><span class=p>,</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=p>},</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=p>)</span>
</code></pre></div> <ol> <li>Initialize Chat and ask a question <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>assistant</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=n>ragproxyagent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span><span class=n>assistant</span><span class=p>,</span> <span class=n>message</span><span class=o>=</span><span class=n>ragproxyagent</span><span class=o>.</span><span class=n>message_generator</span><span class=p>,</span> <span class=n>problem</span><span class=o>=</span><span class=s2>&quot;What is autogen?&quot;</span><span class=p>)</span>
</code></pre></div></li> </ol> <p>Output is like: <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>--------------------------------------------------------------------------------
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>assistant (to ragproxyagent):
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>AutoGen is a framework that enables the development of large language model (LLM) applications using multiple agents that can converse with each other to solve tasks. The agents are customizable, conversable, and allow human participation. They can operate in various modes that employ combinations of LLMs, human inputs, and tools.
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>--------------------------------------------------------------------------------
</code></pre></div></p> <ol> <li>Create a UserProxyAgent and ask the same question <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>assistant</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>userproxyagent</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>UserProxyAgent</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;userproxyagent&quot;</span><span class=p>)</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=n>userproxyagent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span><span class=n>assistant</span><span class=p>,</span> <span class=n>message</span><span class=o>=</span><span class=s2>&quot;What is autogen?&quot;</span><span class=p>)</span>
</code></pre></div></li> </ol> <p>Output is like: <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>--------------------------------------------------------------------------------
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>assistant (to userproxyagent):
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>In computer software, autogen is a tool that generates program code automatically, without the need for manual coding. It is commonly used in fields such as software engineering, game development, and web development to speed up the development process and reduce errors. Autogen tools typically use pre-programmed rules, templates, and data to create code for repetitive tasks, such as generating user interfaces, database schemas, and data models. Some popular autogen tools include Visual Studio&#39;s Code Generator and Unity&#39;s Asset Store.
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>--------------------------------------------------------------------------------
</code></pre></div></p> <p>You can see that the output of <code>UserProxyAgent</code> is not related to our <code>autogen</code> since the latest info of <code>autogen</code> is not in ChatGPT's training data. The output of <code>RetrieveUserProxyAgent</code> is correct as it can perform retrieval-augmented generation based on the given documentation file.</p> <h2 id=customizing-rag-agents>Customizing RAG Agents<a class=headerlink href=#customizing-rag-agents title="Permanent link">#</a></h2> <p><code>RetrieveUserProxyAgent</code> is customizable with <code>retrieve_config</code>. There are several parameters to configure based on different use cases. In this section, we'll show how to customize embedding function, text split function and vector database.</p> <h3 id=customizing-embedding-function>Customizing Embedding Function<a class=headerlink href=#customizing-embedding-function title="Permanent link">#</a></h3> <p>By default, <a href=https://www.sbert.net>Sentence Transformers</a> and its pretrained models will be used to compute embeddings. It's possible that you want to use OpenAI, Cohere, HuggingFace or other embedding functions.</p> <ul> <li> <p>OpenAI <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kn>from</span><span class=w> </span><span class=nn>chromadb.utils</span><span class=w> </span><span class=kn>import</span> <span class=n>embedding_functions</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>openai_ef</span> <span class=o>=</span> <span class=n>embedding_functions</span><span class=o>.</span><span class=n>OpenAIEmbeddingFunction</span><span class=p>(</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=n>api_key</span><span class=o>=</span><span class=s2>&quot;YOUR_API_KEY&quot;</span><span class=p>,</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>    <span class=n>model_name</span><span class=o>=</span><span class=s2>&quot;text-embedding-ada-002&quot;</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=p>)</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=n>ragproxyagent</span> <span class=o>=</span> <span class=n>RetrieveUserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;ragproxyagent&quot;</span><span class=p>,</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>    <span class=n>retrieve_config</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>        <span class=s2>&quot;task&quot;</span><span class=p>:</span> <span class=s2>&quot;qa&quot;</span><span class=p>,</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>        <span class=s2>&quot;docs_path&quot;</span><span class=p>:</span> <span class=s2>&quot;https://raw.githubusercontent.com/microsoft/autogen/main/README.md&quot;</span><span class=p>,</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>        <span class=s2>&quot;embedding_function&quot;</span><span class=p>:</span> <span class=n>openai_ef</span><span class=p>,</span>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>    <span class=p>},</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=p>)</span>
</code></pre></div></p> </li> <li> <p>HuggingFace <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>huggingface_ef</span> <span class=o>=</span> <span class=n>embedding_functions</span><span class=o>.</span><span class=n>HuggingFaceEmbeddingFunction</span><span class=p>(</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=n>api_key</span><span class=o>=</span><span class=s2>&quot;YOUR_API_KEY&quot;</span><span class=p>,</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=n>model_name</span><span class=o>=</span><span class=s2>&quot;sentence-transformers/all-MiniLM-L6-v2&quot;</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=p>)</span>
</code></pre></div></p> </li> </ul> <p>More examples can be found <a href=https://docs.trychroma.com/docs/embeddings/embedding-functions>here</a>.</p> <h3 id=customizing-text-split-function>Customizing Text Split Function<a class=headerlink href=#customizing-text-split-function title="Permanent link">#</a></h3> <p>Before we can store the documents into a vector database, we need to split the texts into chunks. Although we have implemented a flexible text splitter in autogen, you may still want to use different text splitters. There are also some existing text split tools which are good to reuse.</p> <p>For example, you can use all the text splitters in langchain.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kn>from</span><span class=w> </span><span class=nn>langchain.text_splitter</span><span class=w> </span><span class=kn>import</span> <span class=n>RecursiveCharacterTextSplitter</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=n>recur_spliter</span> <span class=o>=</span> <span class=n>RecursiveCharacterTextSplitter</span><span class=p>(</span><span class=n>separators</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;</span><span class=se>\r</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span><span class=p>])</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=n>ragproxyagent</span> <span class=o>=</span> <span class=n>RetrieveUserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;ragproxyagent&quot;</span><span class=p>,</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=n>retrieve_config</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        <span class=s2>&quot;task&quot;</span><span class=p>:</span> <span class=s2>&quot;qa&quot;</span><span class=p>,</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>        <span class=s2>&quot;docs_path&quot;</span><span class=p>:</span> <span class=s2>&quot;https://raw.githubusercontent.com/microsoft/autogen/main/README.md&quot;</span><span class=p>,</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>        <span class=s2>&quot;custom_text_split_function&quot;</span><span class=p>:</span> <span class=n>recur_spliter</span><span class=o>.</span><span class=n>split_text</span><span class=p>,</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>    <span class=p>},</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=p>)</span>
</code></pre></div> <h3 id=customizing-vector-database>Customizing Vector Database<a class=headerlink href=#customizing-vector-database title="Permanent link">#</a></h3> <p>We are using chromadb as the default vector database, you can also use mongodb, pgvectordb, qdrantdb and couchbase by simply set <code>vector_db</code> to <code>mongodb</code>, <code>pgvector</code>, <code>qdrant</code> and <code>couchbase</code> in <code>retrieve_config</code>, respectively.</p> <p>To plugin any other dbs, you can also extend class <code>agentchat.contrib.vectordb.base</code>, check out the code <a href=https://github.com/ag2ai/ag2/blob/main/autogen/agentchat/contrib/vectordb/base.py>here</a>.</p> <h2 id=advanced-usage-of-rag-agents>Advanced Usage of RAG Agents<a class=headerlink href=#advanced-usage-of-rag-agents title="Permanent link">#</a></h2> <h3 id=integrate-with-other-agents-in-a-group-chat>Integrate with other agents in a group chat<a class=headerlink href=#integrate-with-other-agents-in-a-group-chat title="Permanent link">#</a></h3> <p>To use <code>RetrieveUserProxyAgent</code> in a group chat is almost the same as you use it in a two agents chat. The only thing is that you need to <strong>initialize the chat with <code>RetrieveUserProxyAgent</code></strong>. The <code>RetrieveAssistantAgent</code> is not necessary in a group chat.</p> <p>However, you may want to initialize the chat with another agent in some cases. To leverage the best of <code>RetrieveUserProxyAgent</code>, you'll need to call it from a function.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=o>.</span><span class=n>from_json</span><span class=p>(</span><span class=n>path</span><span class=o>=</span><span class=s2>&quot;OAI_CONFIG_LIST&quot;</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>60</span><span class=p>,</span> <span class=n>temperature</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=n>boss</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>UserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Boss&quot;</span><span class=p>,</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>    <span class=n>is_termination_msg</span><span class=o>=</span><span class=n>termination_msg</span><span class=p>,</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>    <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>&quot;TERMINATE&quot;</span><span class=p>,</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;The boss who ask questions and give tasks.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=p>)</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=n>boss_aid</span> <span class=o>=</span> <span class=n>RetrieveUserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Boss_Assistant&quot;</span><span class=p>,</span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>    <span class=n>is_termination_msg</span><span class=o>=</span><span class=n>termination_msg</span><span class=p>,</span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;Assistant who has extra content retrieval power for solving difficult problems.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>    <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>&quot;NEVER&quot;</span><span class=p>,</span>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>    <span class=n>max_consecutive_auto_reply</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>    <span class=n>retrieve_config</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>        <span class=s2>&quot;task&quot;</span><span class=p>:</span> <span class=s2>&quot;qa&quot;</span><span class=p>,</span>
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>    <span class=p>},</span>
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>    <span class=n>code_execution_config</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># we don&#39;t want to execute code in this case.</span>
<a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a><span class=p>)</span>
<a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>
<a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>    <span class=n>coder</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Senior_Python_Engineer&quot;</span><span class=p>,</span>
<a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>        <span class=n>is_termination_msg</span><span class=o>=</span><span class=n>termination_msg</span><span class=p>,</span>
<a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a senior python engineer. Reply `TERMINATE` in the end when everything is done.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>    <span class=p>)</span>
<a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a>
<a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a>    <span class=n>pm</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Product_Manager&quot;</span><span class=p>,</span>
<a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a>        <span class=n>is_termination_msg</span><span class=o>=</span><span class=n>termination_msg</span><span class=p>,</span>
<a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a product manager. Reply `TERMINATE` in the end when everything is done.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a>    <span class=p>)</span>
<a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>
<a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a>    <span class=n>reviewer</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Code_Reviewer&quot;</span><span class=p>,</span>
<a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>        <span class=n>is_termination_msg</span><span class=o>=</span><span class=n>termination_msg</span><span class=p>,</span>
<a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a code reviewer. Reply `TERMINATE` in the end when everything is done.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a>    <span class=p>)</span>
<a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a>
<a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a><span class=k>def</span><span class=w> </span><span class=nf>retrieve_content</span><span class=p>(</span>
<a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span>
<a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>        <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a>        <span class=s2>&quot;Refined message which keeps the original meaning and can be used to retrieve content for code generation and question answering.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a>    <span class=p>],</span>
<a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a>    <span class=n>n_results</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=s2>&quot;number of results&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-11-47 name=__codelineno-11-47 href=#__codelineno-11-47></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-11-48 name=__codelineno-11-48 href=#__codelineno-11-48></a>    <span class=n>boss_aid</span><span class=o>.</span><span class=n>n_results</span> <span class=o>=</span> <span class=n>n_results</span>  <span class=c1># Set the number of results to be retrieved.</span>
<a id=__codelineno-11-49 name=__codelineno-11-49 href=#__codelineno-11-49></a>    <span class=n>_context</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;problem&quot;</span><span class=p>:</span> <span class=n>message</span><span class=p>,</span> <span class=s2>&quot;n_results&quot;</span><span class=p>:</span> <span class=n>n_results</span><span class=p>}</span>
<a id=__codelineno-11-50 name=__codelineno-11-50 href=#__codelineno-11-50></a>    <span class=n>ret_msg</span> <span class=o>=</span> <span class=n>boss_aid</span><span class=o>.</span><span class=n>message_generator</span><span class=p>(</span><span class=n>boss_aid</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>_context</span><span class=p>)</span>
<a id=__codelineno-11-51 name=__codelineno-11-51 href=#__codelineno-11-51></a>    <span class=k>return</span> <span class=n>ret_msg</span> <span class=ow>or</span> <span class=n>message</span>
<a id=__codelineno-11-52 name=__codelineno-11-52 href=#__codelineno-11-52></a>
<a id=__codelineno-11-53 name=__codelineno-11-53 href=#__codelineno-11-53></a><span class=k>for</span> <span class=n>caller</span> <span class=ow>in</span> <span class=p>[</span><span class=n>pm</span><span class=p>,</span> <span class=n>coder</span><span class=p>,</span> <span class=n>reviewer</span><span class=p>]:</span>
<a id=__codelineno-11-54 name=__codelineno-11-54 href=#__codelineno-11-54></a>    <span class=n>d_retrieve_content</span> <span class=o>=</span> <span class=n>caller</span><span class=o>.</span><span class=n>register_for_llm</span><span class=p>(</span>
<a id=__codelineno-11-55 name=__codelineno-11-55 href=#__codelineno-11-55></a>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;retrieve content for code generation and question answering.&quot;</span><span class=p>,</span> <span class=n>api_style</span><span class=o>=</span><span class=s2>&quot;function&quot;</span>
<a id=__codelineno-11-56 name=__codelineno-11-56 href=#__codelineno-11-56></a>    <span class=p>)(</span><span class=n>retrieve_content</span><span class=p>)</span>
<a id=__codelineno-11-57 name=__codelineno-11-57 href=#__codelineno-11-57></a>
<a id=__codelineno-11-58 name=__codelineno-11-58 href=#__codelineno-11-58></a><span class=k>for</span> <span class=n>executor</span> <span class=ow>in</span> <span class=p>[</span><span class=n>boss</span><span class=p>,</span> <span class=n>pm</span><span class=p>]:</span>
<a id=__codelineno-11-59 name=__codelineno-11-59 href=#__codelineno-11-59></a>    <span class=n>executor</span><span class=o>.</span><span class=n>register_for_execution</span><span class=p>()(</span><span class=n>d_retrieve_content</span><span class=p>)</span>
<a id=__codelineno-11-60 name=__codelineno-11-60 href=#__codelineno-11-60></a>
<a id=__codelineno-11-61 name=__codelineno-11-61 href=#__codelineno-11-61></a><span class=n>groupchat</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-11-62 name=__codelineno-11-62 href=#__codelineno-11-62></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>boss</span><span class=p>,</span> <span class=n>pm</span><span class=p>,</span> <span class=n>coder</span><span class=p>,</span> <span class=n>reviewer</span><span class=p>],</span>
<a id=__codelineno-11-63 name=__codelineno-11-63 href=#__codelineno-11-63></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-11-64 name=__codelineno-11-64 href=#__codelineno-11-64></a>    <span class=n>max_round</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span>
<a id=__codelineno-11-65 name=__codelineno-11-65 href=#__codelineno-11-65></a>    <span class=n>speaker_selection_method</span><span class=o>=</span><span class=s2>&quot;round_robin&quot;</span><span class=p>,</span>
<a id=__codelineno-11-66 name=__codelineno-11-66 href=#__codelineno-11-66></a>    <span class=n>allow_repeat_speaker</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-11-67 name=__codelineno-11-67 href=#__codelineno-11-67></a><span class=p>)</span>
<a id=__codelineno-11-68 name=__codelineno-11-68 href=#__codelineno-11-68></a>
<a id=__codelineno-11-69 name=__codelineno-11-69 href=#__codelineno-11-69></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=o>.</span><span class=n>from_json</span><span class=p>(</span><span class=n>path</span><span class=o>=</span><span class=s2>&quot;OAI_CONFIG_LIST&quot;</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>60</span><span class=p>,</span> <span class=n>temperature</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-11-70 name=__codelineno-11-70 href=#__codelineno-11-70></a><span class=n>manager</span> <span class=o>=</span> <span class=n>autogen</span><span class=o>.</span><span class=n>GroupChatManager</span><span class=p>(</span><span class=n>groupchat</span><span class=o>=</span><span class=n>groupchat</span><span class=p>,</span> <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>)</span>
<a id=__codelineno-11-71 name=__codelineno-11-71 href=#__codelineno-11-71></a>
<a id=__codelineno-11-72 name=__codelineno-11-72 href=#__codelineno-11-72></a><span class=c1># Start chatting with the boss as this is the user proxy agent.</span>
<a id=__codelineno-11-73 name=__codelineno-11-73 href=#__codelineno-11-73></a><span class=n>boss</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-11-74 name=__codelineno-11-74 href=#__codelineno-11-74></a>    <span class=n>manager</span><span class=p>,</span>
<a id=__codelineno-11-75 name=__codelineno-11-75 href=#__codelineno-11-75></a>    <span class=n>message</span><span class=o>=</span><span class=s2>&quot;How to use spark for parallel training in FLAML? Give me sample code.&quot;</span><span class=p>,</span>
<a id=__codelineno-11-76 name=__codelineno-11-76 href=#__codelineno-11-76></a><span class=p>)</span>
</code></pre></div> <h3 id=build-a-chat-application-with-gradio>Build a Chat application with Gradio<a class=headerlink href=#build-a-chat-application-with-gradio title="Permanent link">#</a></h3> <p>Now, let's wrap it up and make a Chat application with AutoGen and Gradio.</p> <p><img alt="RAG ChatBot" src=../../../../2023-10-18-RetrieveChat/img/autogen-rag.gif></p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># Initialize Agents</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=k>def</span><span class=w> </span><span class=nf>initialize_agents</span><span class=p>(</span><span class=n>config_list</span><span class=p>,</span> <span class=n>docs_path</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    <span class=o>...</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=k>return</span> <span class=n>assistant</span><span class=p>,</span> <span class=n>ragproxyagent</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=c1># Initialize Chat</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=k>def</span><span class=w> </span><span class=nf>initiate_chat</span><span class=p>(</span><span class=n>config_list</span><span class=p>,</span> <span class=n>problem</span><span class=p>,</span> <span class=n>queue</span><span class=p>,</span> <span class=n>n_results</span><span class=o>=</span><span class=mi>3</span><span class=p>):</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>    <span class=o>...</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>    <span class=n>assistant</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>        <span class=n>ragproxyagent</span><span class=o>.</span><span class=n>a_initiate_chat</span><span class=p>(</span>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>            <span class=n>assistant</span><span class=p>,</span> <span class=n>problem</span><span class=o>=</span><span class=n>problem</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>n_results</span><span class=o>=</span><span class=n>n_results</span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>        <span class=p>)</span>
<a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>        <span class=n>messages</span> <span class=o>=</span> <span class=n>ragproxyagent</span><span class=o>.</span><span class=n>chat_messages</span>
<a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>        <span class=n>messages</span> <span class=o>=</span> <span class=p>[</span><span class=n>messages</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>messages</span><span class=o>.</span><span class=n>keys</span><span class=p>()][</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>        <span class=n>messages</span> <span class=o>=</span> <span class=p>[</span><span class=n>m</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>messages</span> <span class=k>if</span> <span class=n>m</span><span class=p>[</span><span class=s2>&quot;role&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;user&quot;</span><span class=p>]</span>
<a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;messages: &quot;</span><span class=p>,</span> <span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a>        <span class=n>messages</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)]</span>
<a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a>    <span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>
<a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a><span class=c1># Wrap AutoGen part into a function</span>
<a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a><span class=k>def</span><span class=w> </span><span class=nf>chatbot_reply</span><span class=p>(</span><span class=n>input_text</span><span class=p>):</span>
<a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Chat with the agent through terminal.&quot;&quot;&quot;</span>
<a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a>    <span class=n>queue</span> <span class=o>=</span> <span class=n>mp</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
<a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a>    <span class=n>process</span> <span class=o>=</span> <span class=n>mp</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span>
<a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a>        <span class=n>target</span><span class=o>=</span><span class=n>initiate_chat</span><span class=p>,</span>
<a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a>        <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>config_list</span><span class=p>,</span> <span class=n>input_text</span><span class=p>,</span> <span class=n>queue</span><span class=p>),</span>
<a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a>    <span class=p>)</span>
<a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a>    <span class=n>process</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a>        <span class=n>messages</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=n>TIMEOUT</span><span class=p>)</span>
<a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a>        <span class=n>messages</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=s2>&quot;Invalid Request to OpenAI, please check your API keys.&quot;</span><span class=p>]</span>
<a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a>    <span class=k>finally</span><span class=p>:</span>
<a id=__codelineno-12-36 name=__codelineno-12-36 href=#__codelineno-12-36></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-12-37 name=__codelineno-12-37 href=#__codelineno-12-37></a>            <span class=n>process</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
<a id=__codelineno-12-38 name=__codelineno-12-38 href=#__codelineno-12-38></a>        <span class=k>except</span><span class=p>:</span>
<a id=__codelineno-12-39 name=__codelineno-12-39 href=#__codelineno-12-39></a>            <span class=k>pass</span>
<a id=__codelineno-12-40 name=__codelineno-12-40 href=#__codelineno-12-40></a>    <span class=k>return</span> <span class=n>messages</span>
<a id=__codelineno-12-41 name=__codelineno-12-41 href=#__codelineno-12-41></a>
<a id=__codelineno-12-42 name=__codelineno-12-42 href=#__codelineno-12-42></a><span class=o>...</span>
<a id=__codelineno-12-43 name=__codelineno-12-43 href=#__codelineno-12-43></a>
<a id=__codelineno-12-44 name=__codelineno-12-44 href=#__codelineno-12-44></a><span class=c1># Set up UI with Gradio</span>
<a id=__codelineno-12-45 name=__codelineno-12-45 href=#__codelineno-12-45></a><span class=k>with</span> <span class=n>gr</span><span class=o>.</span><span class=n>Blocks</span><span class=p>()</span> <span class=k>as</span> <span class=n>demo</span><span class=p>:</span>
<a id=__codelineno-12-46 name=__codelineno-12-46 href=#__codelineno-12-46></a>    <span class=o>...</span>
<a id=__codelineno-12-47 name=__codelineno-12-47 href=#__codelineno-12-47></a>    <span class=n>assistant</span><span class=p>,</span> <span class=n>ragproxyagent</span> <span class=o>=</span> <span class=n>initialize_agents</span><span class=p>(</span><span class=n>config_list</span><span class=p>)</span>
<a id=__codelineno-12-48 name=__codelineno-12-48 href=#__codelineno-12-48></a>
<a id=__codelineno-12-49 name=__codelineno-12-49 href=#__codelineno-12-49></a>    <span class=n>chatbot</span> <span class=o>=</span> <span class=n>gr</span><span class=o>.</span><span class=n>Chatbot</span><span class=p>(</span>
<a id=__codelineno-12-50 name=__codelineno-12-50 href=#__codelineno-12-50></a>        <span class=p>[],</span>
<a id=__codelineno-12-51 name=__codelineno-12-51 href=#__codelineno-12-51></a>        <span class=n>elem_id</span><span class=o>=</span><span class=s2>&quot;chatbot&quot;</span><span class=p>,</span>
<a id=__codelineno-12-52 name=__codelineno-12-52 href=#__codelineno-12-52></a>        <span class=n>bubble_full_width</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-12-53 name=__codelineno-12-53 href=#__codelineno-12-53></a>        <span class=n>avatar_images</span><span class=o>=</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>&quot;autogen.png&quot;</span><span class=p>))),</span>
<a id=__codelineno-12-54 name=__codelineno-12-54 href=#__codelineno-12-54></a>        <span class=c1># height=600,</span>
<a id=__codelineno-12-55 name=__codelineno-12-55 href=#__codelineno-12-55></a>    <span class=p>)</span>
<a id=__codelineno-12-56 name=__codelineno-12-56 href=#__codelineno-12-56></a>
<a id=__codelineno-12-57 name=__codelineno-12-57 href=#__codelineno-12-57></a>    <span class=n>txt_input</span> <span class=o>=</span> <span class=n>gr</span><span class=o>.</span><span class=n>Textbox</span><span class=p>(</span>
<a id=__codelineno-12-58 name=__codelineno-12-58 href=#__codelineno-12-58></a>        <span class=n>scale</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>
<a id=__codelineno-12-59 name=__codelineno-12-59 href=#__codelineno-12-59></a>        <span class=n>show_label</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-12-60 name=__codelineno-12-60 href=#__codelineno-12-60></a>        <span class=n>placeholder</span><span class=o>=</span><span class=s2>&quot;Enter text and press enter&quot;</span><span class=p>,</span>
<a id=__codelineno-12-61 name=__codelineno-12-61 href=#__codelineno-12-61></a>        <span class=n>container</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-12-62 name=__codelineno-12-62 href=#__codelineno-12-62></a>    <span class=p>)</span>
<a id=__codelineno-12-63 name=__codelineno-12-63 href=#__codelineno-12-63></a>
<a id=__codelineno-12-64 name=__codelineno-12-64 href=#__codelineno-12-64></a>    <span class=k>with</span> <span class=n>gr</span><span class=o>.</span><span class=n>Row</span><span class=p>():</span>
<a id=__codelineno-12-65 name=__codelineno-12-65 href=#__codelineno-12-65></a>        <span class=n>txt_model</span> <span class=o>=</span> <span class=n>gr</span><span class=o>.</span><span class=n>Dropdown</span><span class=p>(</span>
<a id=__codelineno-12-66 name=__codelineno-12-66 href=#__codelineno-12-66></a>            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;Model&quot;</span><span class=p>,</span>
<a id=__codelineno-12-67 name=__codelineno-12-67 href=#__codelineno-12-67></a>            <span class=n>choices</span><span class=o>=</span><span class=p>[</span>
<a id=__codelineno-12-68 name=__codelineno-12-68 href=#__codelineno-12-68></a>                <span class=s2>&quot;gpt-4&quot;</span><span class=p>,</span>
<a id=__codelineno-12-69 name=__codelineno-12-69 href=#__codelineno-12-69></a>                <span class=s2>&quot;gpt-35-turbo&quot;</span><span class=p>,</span>
<a id=__codelineno-12-70 name=__codelineno-12-70 href=#__codelineno-12-70></a>                <span class=s2>&quot;gpt-3.5-turbo&quot;</span><span class=p>,</span>
<a id=__codelineno-12-71 name=__codelineno-12-71 href=#__codelineno-12-71></a>            <span class=p>],</span>
<a id=__codelineno-12-72 name=__codelineno-12-72 href=#__codelineno-12-72></a>            <span class=n>allow_custom_value</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-12-73 name=__codelineno-12-73 href=#__codelineno-12-73></a>            <span class=n>value</span><span class=o>=</span><span class=s2>&quot;gpt-35-turbo&quot;</span><span class=p>,</span>
<a id=__codelineno-12-74 name=__codelineno-12-74 href=#__codelineno-12-74></a>            <span class=n>container</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-12-75 name=__codelineno-12-75 href=#__codelineno-12-75></a>        <span class=p>)</span>
<a id=__codelineno-12-76 name=__codelineno-12-76 href=#__codelineno-12-76></a>        <span class=n>txt_oai_key</span> <span class=o>=</span> <span class=n>gr</span><span class=o>.</span><span class=n>Textbox</span><span class=p>(</span>
<a id=__codelineno-12-77 name=__codelineno-12-77 href=#__codelineno-12-77></a>            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;OpenAI API Key&quot;</span><span class=p>,</span>
<a id=__codelineno-12-78 name=__codelineno-12-78 href=#__codelineno-12-78></a>            <span class=n>placeholder</span><span class=o>=</span><span class=s2>&quot;Enter key and press enter&quot;</span><span class=p>,</span>
<a id=__codelineno-12-79 name=__codelineno-12-79 href=#__codelineno-12-79></a>            <span class=n>max_lines</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-12-80 name=__codelineno-12-80 href=#__codelineno-12-80></a>            <span class=n>show_label</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-12-81 name=__codelineno-12-81 href=#__codelineno-12-81></a>            <span class=n>value</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>),</span>
<a id=__codelineno-12-82 name=__codelineno-12-82 href=#__codelineno-12-82></a>            <span class=n>container</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-12-83 name=__codelineno-12-83 href=#__codelineno-12-83></a>            <span class=nb>type</span><span class=o>=</span><span class=s2>&quot;password&quot;</span><span class=p>,</span>
<a id=__codelineno-12-84 name=__codelineno-12-84 href=#__codelineno-12-84></a>        <span class=p>)</span>
<a id=__codelineno-12-85 name=__codelineno-12-85 href=#__codelineno-12-85></a>        <span class=o>...</span>
<a id=__codelineno-12-86 name=__codelineno-12-86 href=#__codelineno-12-86></a>
<a id=__codelineno-12-87 name=__codelineno-12-87 href=#__codelineno-12-87></a>    <span class=n>clear</span> <span class=o>=</span> <span class=n>gr</span><span class=o>.</span><span class=n>ClearButton</span><span class=p>([</span><span class=n>txt_input</span><span class=p>,</span> <span class=n>chatbot</span><span class=p>])</span>
<a id=__codelineno-12-88 name=__codelineno-12-88 href=#__codelineno-12-88></a>
<a id=__codelineno-12-89 name=__codelineno-12-89 href=#__codelineno-12-89></a><span class=o>...</span>
<a id=__codelineno-12-90 name=__codelineno-12-90 href=#__codelineno-12-90></a>
<a id=__codelineno-12-91 name=__codelineno-12-91 href=#__codelineno-12-91></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
<a id=__codelineno-12-92 name=__codelineno-12-92 href=#__codelineno-12-92></a>    <span class=n>demo</span><span class=o>.</span><span class=n>launch</span><span class=p>(</span><span class=n>share</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <p>The online app and the source code are hosted in <a href=https://huggingface.co/spaces/thinkall/autogen-demos>HuggingFace</a>. Feel free to give it a try!</p> <h2 id=read-more>Read More<a class=headerlink href=#read-more title="Permanent link">#</a></h2> <p>You can check out more example notebooks for RAG use cases: - <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_RetrieveChat.ipynb>Automated Code Generation and Question Answering with Retrieval Augmented Agents</a> - <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_groupchat_RAG.ipynb>Group Chat with Retrieval Augmented Generation (with 5 group member agents and 1 manager agent)</a> - <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_RetrieveChat_qdrant.ipynb>Using RetrieveChat with Qdrant for Retrieve Augmented Code Generation and Question Answering</a> - <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_RetrieveChat_pgvector.ipynb>Using RetrieveChat Powered by PGVector for Retrieve Augmented Code Generation and Question Answering</a> - <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_RetrieveChat_mongodb.ipynb>Using RetrieveChat Powered by MongoDB Atlas for Retrieve Augmented Code Generation and Question Answering</a> - <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_RetrieveChat_couchbase.ipynb>Using RetrieveChat Powered by Couchbase for Retrieve Augmented Code Generation and Question Answering</a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-05-08T13:41:59+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-05-08</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../../07/14/Local-LLMs/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Use AutoGen for Local LLMs"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Use AutoGen for Local LLMs </div> </div> </a> <a href=../../26/TeachableAgent/ class="md-footer__link md-footer__link--next" aria-label="Next: AutoGen's Teachable Agents"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> AutoGen's Teachable Agents </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../../../../js/timeago.min.js></script> <script src=../../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>