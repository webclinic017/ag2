<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://docs.ag2.ai/latest/docs/user-guide/advanced-concepts/groupchat/groupchat/ rel=canonical><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>GroupChat - AG2</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../css/timeago.css><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../stylesheets/extra.ff0633.min.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - GroupChat"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://docs.ag2.ai/latest/docs/user-guide/advanced-concepts/groupchat/groupchat/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - GroupChat"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon-dark.svg type=image/x-icon media="(prefers-color-scheme: light)"><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon media="(prefers-color-scheme: dark)"><link href=../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#send-introductions class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> GroupChat </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../quick-start/ class=md-tabs__link> Quick Start </a> </li> <li class=md-tabs__item> <a href=../../../basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../../api-reference/autogen/Agent/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../../../use-cases/use-cases/customer-service/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-tabs__link> Community Insights </a> </li> <li class=md-tabs__item> <a href=../../../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../api-reference/autogen/Agent/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../use-cases/use-cases/customer-service/ class=md-nav__link> <span class=md-ellipsis> Use Cases </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-nav__link> <span class=md-ellipsis> Community Insights </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#send-introductions class=md-nav__link> <span class=md-ellipsis> Send Introductions </span> </a> </li> <li class=md-nav__item> <a href=#group-chat-in-a-sequential-chat class=md-nav__link> <span class=md-ellipsis> Group Chat in a Sequential Chat </span> </a> </li> <li class=md-nav__item> <a href=#constrained-speaker-selection class=md-nav__link> <span class=md-ellipsis> Constrained Speaker Selection </span> </a> </li> <li class=md-nav__item> <a href=#changing-the-select-speaker-role-name class=md-nav__link> <span class=md-ellipsis> Changing the select speaker role name </span> </a> </li> <li class=md-nav__item> <a href=#conversation-patterns class=md-nav__link> <span class=md-ellipsis> Conversation Patterns </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/edit/main/website/docs/user-guide/advanced-concepts/groupchat/groupchat.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>GroupChat</h1> <p>So far we have only seen conversation patterns that involve two agents or a sequence of two-agent chats. AutoGen provides a more general conversation pattern called group chat, which involves more than two agents.</p> <p>The core idea of group chat is that all agents contribute to a single conversation thread and share the same context.</p> <p>This is useful for tasks that require collaboration among multiple agents.</p> <p>The figure below illustrates how group chat works.</p> <p><img alt=group_chat src=../../assets/group-chat.png></p> <p>A group chat is orchestrated by a special agent type <code>GroupChatManager</code>. In the first step of the group chat, the Group Chat Manager selects an agent to speak. Then, the selected agent speaks and the message is sent back to the Group Chat Manager, who <strong>broadcasts</strong> the message to all other agents in the group.</p> <p>This process repeats until the conversation stops.</p> <p>The Group Chat Manager can use several strategies to select the next agent.</p> <p>Currently, the following strategies are supported:</p> <ol> <li><code>round_robin</code>: The Group Chat Manager selects agents in a round-robin fashion based on the order of the agents provided.</li> <li><code>random</code>: The Group Chat Manager selects agents randomly.</li> <li><code>manual</code>: The Group Chat Manager selects agents by asking for human input.</li> <li><code>auto</code>: The default strategy, which selects agents using the Group Chat Manager's LLM.</li> </ol> <p>To illustrate this pattern, let's consider a simple example of a group chat among the same arithmetic operator agents as in the previous example, with the objective of turning a number into a specific target number using a sequence of arithmetic operations powered by the agents.</p> <p>In this example, we use the <code>auto</code> strategy to select the next agent.</p> <p>To help the Group Chat Manager select the next agent, we also set the <code>description</code> of the agents. Without the <code>description</code>, the Group Chat Manager will use the agents' <code>system_message</code>, which may be not be the best choice.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># The `description` attribute is a string that describes the agent.</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=c1># It can also be set in `ConversableAgent` constructor.</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>adder_agent</span><span class=o>.</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&quot;Add 1 to each input number.&quot;</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>multiplier_agent</span><span class=o>.</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&quot;Multiply each input number by 2.&quot;</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>subtracter_agent</span><span class=o>.</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&quot;Subtract 1 from each input number.&quot;</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>divider_agent</span><span class=o>.</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&quot;Divide each input number by 2.&quot;</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>number_agent</span><span class=o>.</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&quot;Return the numbers given.&quot;</span>
</code></pre></div> <p>We first create a <code>GroupChat</code> object and provide the list of agents. If we were to use the <code>round_robin</code> strategy, this list would specify the order of the agents to be selected.</p> <p>We also initialize the group chat with an empty message list and a maximum round of 6, which means there will be at most 6 iteratiosn of selecting speaker, agent speaks and broadcasting message.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>GroupChat</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>group_chat</span> <span class=o>=</span> <span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>adder_agent</span><span class=p>,</span> <span class=n>multiplier_agent</span><span class=p>,</span> <span class=n>subtracter_agent</span><span class=p>,</span> <span class=n>divider_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=n>max_round</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=p>)</span>
</code></pre></div> <p>Now we create a <code>GroupChatManager</code> object and provide the <code>GroupChat</code> object as input. We also need to specify the <code>llm_config</code> of the Group Chat Manager so it can use the LLM to select the next agent (the <code>auto</code> strategy).</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>GroupChatManager</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=n>group_chat_manager</span> <span class=o>=</span> <span class=n>GroupChatManager</span><span class=p>(</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>groupchat</span><span class=o>=</span><span class=n>group_chat</span><span class=p>,</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=p>)</span>
</code></pre></div> <p>Finally, we have the Number Agent from before to start a two-agent chat with the Group Chat Manager, which runs the group chat internally and terminates the two-agent chat when the internal group chat is done. Because the Number Agent is selected to speak by us, it counts as the first round of the group chat.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>chat_result</span> <span class=o>=</span> <span class=n>number_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>group_chat_manager</span><span class=p>,</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>message</span><span class=o>=</span><span class=s2>&quot;My number is 3, I want to turn it into 13.&quot;</span><span class=p>,</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=p>)</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=nb>print</span><span class=p>(</span><span class=n>chat_result</span><span class=o>.</span><span class=n>summary</span><span class=p>)</span>
</code></pre></div> <p>You will see that the Number Agent is selected to speak first, then the Group Chat Manager selects the Multiplier Agent to speak, then the Adder Agent, and so on. The number is operated upon by each agent in the group chat, and the final result is 13.</p> <h3 id=send-introductions>Send Introductions<a class=headerlink href=#send-introductions title="Permanent link">#</a></h3> <p>In the previous example, we set the <code>description</code> of the agents to help the Group Chat Manager select the next agent. This only helps the Group Chat Manager, however, does not help the participating agents to know about each other.</p> <p>Sometimes it is useful have each agent introduce themselves to other agents in the group chat. This can be done by setting the <code>send_introductions=True</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>group_chat_with_introductions</span> <span class=o>=</span> <span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>adder_agent</span><span class=p>,</span> <span class=n>multiplier_agent</span><span class=p>,</span> <span class=n>subtracter_agent</span><span class=p>,</span> <span class=n>divider_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>max_round</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>send_introductions</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=p>)</span>
</code></pre></div> <p>Under the hood, the Group Chat Manager sends a message containing the agents' names and descriptions to all agents in the group chat before the group chat starts.</p> <h3 id=group-chat-in-a-sequential-chat>Group Chat in a Sequential Chat<a class=headerlink href=#group-chat-in-a-sequential-chat title="Permanent link">#</a></h3> <p>Group chat can also be used as a part of a sequential chat.</p> <p>In this case, the Group Chat Manager is treated as a regular agent in the sequence of two-agent chats.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># Let&#39;s use the group chat with introduction messages created above.</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=n>group_chat_manager_with_intros</span> <span class=o>=</span> <span class=n>GroupChatManager</span><span class=p>(</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=n>groupchat</span><span class=o>=</span><span class=n>group_chat_with_introductions</span><span class=p>,</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=p>)</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=c1># Start a sequence of two-agent chats between the number agent and</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=c1># the group chat manager.</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=n>chat_result</span> <span class=o>=</span> <span class=n>number_agent</span><span class=o>.</span><span class=n>initiate_chats</span><span class=p>(</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>    <span class=p>[</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>        <span class=p>{</span>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>            <span class=s2>&quot;recipient&quot;</span><span class=p>:</span> <span class=n>group_chat_manager_with_intros</span><span class=p>,</span>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>            <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;My number is 3, I want to turn it into 13.&quot;</span><span class=p>,</span>
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>        <span class=p>},</span>
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>        <span class=p>{</span>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>            <span class=s2>&quot;recipient&quot;</span><span class=p>:</span> <span class=n>group_chat_manager_with_intros</span><span class=p>,</span>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>            <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Turn this number to 32.&quot;</span><span class=p>,</span>
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>        <span class=p>},</span>
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>    <span class=p>]</span>
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=p>)</span>
</code></pre></div> <p>In the above example, the Group Chat Manager runs the group chat two times. In the first time the number 3 becomes 13, and the last message of this group chat is being used as the carryover for the next group chat, which starts from 13.</p> <p>You will also see from the warning message that the Group Chat Manager's history is being cleared after the first group chat, which is the default.</p> <p>To keep the history of the Group Chat Manager, you can set the <code>clear_history=False</code> for the first chat.</p> <h3 id=constrained-speaker-selection>Constrained Speaker Selection<a class=headerlink href=#constrained-speaker-selection title="Permanent link">#</a></h3> <p>Group chat is a powerful conversation pattern, but it can be hard to control if the number of participating agents is large.</p> <p>AG2 provides a way to constrain the selection of the next speaker by using the <code>allowed_or_disallowed_speaker_transitions</code> argument of the <code>GroupChat</code> class.</p> <p>The <code>allowed_or_disallowed_speaker_transitions</code> argument is a dictionary that maps a given agent to a list of agents that can (or cannot) be selected to speak next. The <code>speaker_transitions_type</code> argument specifies whether the transitions are allowed or disallowed.</p> <p>Here is an example:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>allowed_transitions</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>    <span class=n>number_agent</span><span class=p>:</span> <span class=p>[</span><span class=n>adder_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=n>adder_agent</span><span class=p>:</span> <span class=p>[</span><span class=n>multiplier_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>    <span class=n>subtracter_agent</span><span class=p>:</span> <span class=p>[</span><span class=n>divider_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>    <span class=n>multiplier_agent</span><span class=p>:</span> <span class=p>[</span><span class=n>subtracter_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>    <span class=n>divider_agent</span><span class=p>:</span> <span class=p>[</span><span class=n>adder_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=p>}</span>
</code></pre></div> <p>In this example, the allowed transitions are specified for each agent.</p> <p>The Number Agent can be followed by the Adder Agent and the Number Agent, the Adder Agent can be followed by the Multiplier Agent and the Number Agent, and so on.</p> <p>Let's put this into the group chat and see how it works.</p> <p>The <code>speaker_transitions_type</code> is set to <code>allowed</code> so the transitions are positive constraints.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>constrained_graph_chat</span> <span class=o>=</span> <span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>adder_agent</span><span class=p>,</span> <span class=n>multiplier_agent</span><span class=p>,</span> <span class=n>subtracter_agent</span><span class=p>,</span> <span class=n>divider_agent</span><span class=p>,</span> <span class=n>number_agent</span><span class=p>],</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>allowed_or_disallowed_speaker_transitions</span><span class=o>=</span><span class=n>allowed_transitions</span><span class=p>,</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    <span class=n>speaker_transitions_type</span><span class=o>=</span><span class=s2>&quot;allowed&quot;</span><span class=p>,</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>    <span class=n>max_round</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>    <span class=n>send_introductions</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=p>)</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=n>constrained_group_chat_manager</span> <span class=o>=</span> <span class=n>GroupChatManager</span><span class=p>(</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>    <span class=n>groupchat</span><span class=o>=</span><span class=n>constrained_graph_chat</span><span class=p>,</span>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=p>)</span>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=n>chat_result</span> <span class=o>=</span> <span class=n>number_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>    <span class=n>constrained_group_chat_manager</span><span class=p>,</span>
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>    <span class=n>message</span><span class=o>=</span><span class=s2>&quot;My number is 3, I want to turn it into 10. Once I get to 10, keep it there.&quot;</span><span class=p>,</span>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a>    <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=p>)</span>
</code></pre></div> <p>When this is run, the agents are selected following the constraints we have specified.</p> <h3 id=changing-the-select-speaker-role-name>Changing the select speaker role name<a class=headerlink href=#changing-the-select-speaker-role-name title="Permanent link">#</a></h3> <p>As part of the Group chat process, when the select_speaker_method is set to 'auto' (the default value), a select speaker message is sent to the LLM to determine the next speaker.</p> <p>Each message in the chat sequence has a <code>role</code> attribute that is typically <code>user</code>, <code>assistant</code>, or <code>system</code>. The select speaker message is the last in the chat sequence when used and, by default, has a role of <code>system</code>.</p> <p>When using some models, such as Mistral through Mistral.AI's API, the role on the last message in the chat sequence has to be <code>user</code>.</p> <p>To change the default behaviour, Autogen provides a way to set the value of the select speaker message's role to any string value by setting the <code>role_for_select_speaker_messages</code> parameter in the GroupChat's constructor. The default value is <code>system</code> and by setting it to <code>user</code> you can accommodate the last message role requirement of Mistral.AI's API.</p> <h2 id=conversation-patterns>Conversation Patterns<a class=headerlink href=#conversation-patterns title="Permanent link">#</a></h2> <p><code>GroupChat</code> has four built-in conversation patterns:</p> <table> <thead> <tr> <th>Method</th> <th>Agent selection</th> </tr> </thead> <tbody> <tr> <td><code>auto</code> <em>(default)</em></td> <td>Automatic, chosen by the <code>GroupChatManager</code> using an LLM</td> </tr> <tr> <td><code>round_robin</code></td> <td>Sequentially in their added order</td> </tr> <tr> <td><code>random</code></td> <td>Randomly</td> </tr> <tr> <td><code>manual</code></td> <td>Selected by you at each turn</td> </tr> <tr> <td><em>Callable</em></td> <td>Create your own flow</td> </tr> </tbody> </table> <p>Coordinating the <code>GroupChat</code> is the <code>GroupChatManager</code>, an agent that provides a way to start and resume multi-agent chats.</p> <p>Let's continue our lesson planner example to include a lesson reviewer and a teacher agent.</p> <p>Before jumping into the code, here's a quick run down of what you need to do: - If using <code>auto</code> speaker selection, add specific descriptions to agents for GroupChatManager to use - Create a <code>GroupChat</code> and a <code>GroupChatManager</code> - Start the chat with the <code>GroupChatManager</code></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>You can start any multi-agent chats using the <code>initiate_chat</code> method</p> </div> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>GroupChat</span><span class=p>,</span> <span class=n>GroupChatManager</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=c1># Put your key in the OPENAI_API_KEY environment variable</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span><span class=n>api_type</span><span class=o>=</span><span class=s2>&quot;openai&quot;</span><span class=p>,</span> <span class=n>model</span><span class=o>=</span><span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>)</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=n>planner_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;You are a classroom lesson agent.</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=s2>Given a topic, write a lesson plan for a fourth grade class.</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=s2>Use the following format:</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=s2>&lt;title&gt;Lesson plan title&lt;/title&gt;</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=s2>&lt;learning_objectives&gt;Key learning objectives&lt;/learning_objectives&gt;</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=s2>&lt;script&gt;How to introduce the topic to the kids&lt;/script&gt;</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=n>reviewer_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;You are a classroom lesson reviewer.</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=s2>You compare the lesson plan to the fourth grade curriculum and provide a maximum of 3 recommended changes.</span>
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=s2>Provide only one round of reviews to a lesson plan.</span>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=c1># 1. Add a separate &#39;description&#39; for our planner and reviewer agents</span>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=n>planner_description</span> <span class=o>=</span> <span class=s2>&quot;Creates or revises lesson plans.&quot;</span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=n>reviewer_description</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;Provides one round of reviews to a lesson plan</span>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=s2>for the lesson_planner to revise.&quot;&quot;&quot;</span>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>    <span class=n>lesson_planner</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;planner_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>planner_message</span><span class=p>,</span>
<a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a>        <span class=n>description</span><span class=o>=</span><span class=n>planner_description</span><span class=p>,</span>
<a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a>    <span class=p>)</span>
<a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>
<a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a>    <span class=n>lesson_reviewer</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;reviewer_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-8-34 name=__codelineno-8-34 href=#__codelineno-8-34></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>reviewer_message</span><span class=p>,</span>
<a id=__codelineno-8-35 name=__codelineno-8-35 href=#__codelineno-8-35></a>        <span class=n>description</span><span class=o>=</span><span class=n>reviewer_description</span><span class=p>,</span>
<a id=__codelineno-8-36 name=__codelineno-8-36 href=#__codelineno-8-36></a>    <span class=p>)</span>
<a id=__codelineno-8-37 name=__codelineno-8-37 href=#__codelineno-8-37></a>
<a id=__codelineno-8-38 name=__codelineno-8-38 href=#__codelineno-8-38></a><span class=c1># 2. The teacher&#39;s system message can also be used as a description, so we don&#39;t define it</span>
<a id=__codelineno-8-39 name=__codelineno-8-39 href=#__codelineno-8-39></a><span class=n>teacher_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;You are a classroom teacher.</span>
<a id=__codelineno-8-40 name=__codelineno-8-40 href=#__codelineno-8-40></a><span class=s2>You decide topics for lessons and work with a lesson planner.</span>
<a id=__codelineno-8-41 name=__codelineno-8-41 href=#__codelineno-8-41></a><span class=s2>and reviewer to create and finalise lesson plans.</span>
<a id=__codelineno-8-42 name=__codelineno-8-42 href=#__codelineno-8-42></a><span class=s2>When you are happy with a lesson plan, output &quot;DONE!&quot;.</span>
<a id=__codelineno-8-43 name=__codelineno-8-43 href=#__codelineno-8-43></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-8-44 name=__codelineno-8-44 href=#__codelineno-8-44></a>
<a id=__codelineno-8-45 name=__codelineno-8-45 href=#__codelineno-8-45></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-8-46 name=__codelineno-8-46 href=#__codelineno-8-46></a>    <span class=n>teacher</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-8-47 name=__codelineno-8-47 href=#__codelineno-8-47></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;teacher_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-8-48 name=__codelineno-8-48 href=#__codelineno-8-48></a>        <span class=n>system_message</span><span class=o>=</span><span class=n>teacher_message</span><span class=p>,</span>
<a id=__codelineno-8-49 name=__codelineno-8-49 href=#__codelineno-8-49></a>        <span class=c1># 3. Our teacher can end the conversation by saying DONE!</span>
<a id=__codelineno-8-50 name=__codelineno-8-50 href=#__codelineno-8-50></a>        <span class=n>is_termination_msg</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s2>&quot;DONE!&quot;</span> <span class=ow>in</span> <span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>upper</span><span class=p>(),</span>
<a id=__codelineno-8-51 name=__codelineno-8-51 href=#__codelineno-8-51></a>    <span class=p>)</span>
<a id=__codelineno-8-52 name=__codelineno-8-52 href=#__codelineno-8-52></a>
<a id=__codelineno-8-53 name=__codelineno-8-53 href=#__codelineno-8-53></a><span class=c1># 4. Create the GroupChat with agents and selection method</span>
<a id=__codelineno-8-54 name=__codelineno-8-54 href=#__codelineno-8-54></a><span class=n>groupchat</span> <span class=o>=</span> <span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-8-55 name=__codelineno-8-55 href=#__codelineno-8-55></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>teacher</span><span class=p>,</span> <span class=n>lesson_planner</span><span class=p>,</span> <span class=n>lesson_reviewer</span><span class=p>],</span>
<a id=__codelineno-8-56 name=__codelineno-8-56 href=#__codelineno-8-56></a>    <span class=n>speaker_selection_method</span><span class=o>=</span><span class=s2>&quot;auto&quot;</span><span class=p>,</span>
<a id=__codelineno-8-57 name=__codelineno-8-57 href=#__codelineno-8-57></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-8-58 name=__codelineno-8-58 href=#__codelineno-8-58></a><span class=p>)</span>
<a id=__codelineno-8-59 name=__codelineno-8-59 href=#__codelineno-8-59></a>
<a id=__codelineno-8-60 name=__codelineno-8-60 href=#__codelineno-8-60></a><span class=c1># 5. Our GroupChatManager will manage the conversation and uses an LLM to select the next agent</span>
<a id=__codelineno-8-61 name=__codelineno-8-61 href=#__codelineno-8-61></a><span class=n>manager</span> <span class=o>=</span> <span class=n>GroupChatManager</span><span class=p>(</span>
<a id=__codelineno-8-62 name=__codelineno-8-62 href=#__codelineno-8-62></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;group_manager&quot;</span><span class=p>,</span>
<a id=__codelineno-8-63 name=__codelineno-8-63 href=#__codelineno-8-63></a>    <span class=n>groupchat</span><span class=o>=</span><span class=n>groupchat</span><span class=p>,</span>
<a id=__codelineno-8-64 name=__codelineno-8-64 href=#__codelineno-8-64></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-8-65 name=__codelineno-8-65 href=#__codelineno-8-65></a><span class=p>)</span>
<a id=__codelineno-8-66 name=__codelineno-8-66 href=#__codelineno-8-66></a>
<a id=__codelineno-8-67 name=__codelineno-8-67 href=#__codelineno-8-67></a><span class=c1># 6. Initiate the chat with the GroupChatManager as the recipient</span>
<a id=__codelineno-8-68 name=__codelineno-8-68 href=#__codelineno-8-68></a><span class=n>teacher</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-8-69 name=__codelineno-8-69 href=#__codelineno-8-69></a>    <span class=n>recipient</span><span class=o>=</span><span class=n>manager</span><span class=p>,</span>
<a id=__codelineno-8-70 name=__codelineno-8-70 href=#__codelineno-8-70></a>    <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Today, let&#39;s introduce our kids to the solar system.&quot;</span>
<a id=__codelineno-8-71 name=__codelineno-8-71 href=#__codelineno-8-71></a><span class=p>)</span>
</code></pre></div> <p><example/></p> <ol> <li> <p>Separate to <code>system_message</code>, we add a <code>description</code> for our planner and reviewer agents and this is used exclusively for the purposes of determining the next agent by the <code>GroupChatManager</code> when using automatic speaker selection.</p> </li> <li> <p>The teacher's <code>system_message</code> is suitable as a description so, by not setting it, the <code>GroupChatManager</code> will use the <code>system_message</code> for the teacher when determining the next agent.</p> </li> <li> <p>The workflow is ended when the teacher's message contains the phrase "DONE!".</p> </li> <li> <p>Construct the <code>GroupChat</code> with our agents and selection method as automatic (which is the default).</p> </li> <li> <p><code>GroupChat</code> requires a <code>GroupChatManager</code> to manage the chat and an LLM configuration is needed because they'll use an LLM to decide the next agent.</p> </li> <li> <p>Starting a chat with the <code>GroupChatManager</code> as the <code>recipient</code> kicks off the group chat.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=go>teacher_agent (to group_manager):</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=go>Today, let&#39;s introduce our kids to the solar system.</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=go>Next speaker: planner_agent</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=go>planner_agent (to group_manager):</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=go>&lt;title&gt;Exploring the Solar System&lt;/title&gt;</span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=go>&lt;learning_objectives&gt;</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=go>1. Identify and name the planets in the solar system.</span>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=go>2. Describe key characteristics of each planet.</span>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=go>3. Understand the concept of orbit and how planets revolve around the sun.</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=go>4. Develop an appreciation for the scale and structure of our solar system.</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=go>&lt;/learning_objectives&gt;</span>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=go>&lt;script&gt;</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a><span class=go>&quot;Good morning, class! Today, we are going to embark on an exciting journey through our solar system. Have any of you ever looked up at the night sky and wondered what those bright dots are? Well, those dots are often stars, but some of them are planets in our own solar system!</span>
<a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>
<a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a><span class=go>To start our adventure, I want you to close your eyes and imagine standing on a giant spaceship, ready to zoom past the sun. Does anyone know what the sun is? (Pause for responses.) Right! The sun is a star at the center of our solar system.</span>
<a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>
<a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a><span class=go>Today, we are going to learn about the planets that travel around the sun - but not just their names, we&#39;re going to explore what makes each of them special! We will create a model of the solar system together, and by the end of the lesson, you will be able to name all the planets and tell me something interesting about each one.</span>
<a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>
<a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a><span class=go>So, are you ready to blast off and discover the wonders of space? Let&#39;s begin!&quot;</span>
<a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a><span class=go>&lt;/script&gt;</span>
<a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a>
<a id=__codelineno-9-29 name=__codelineno-9-29 href=#__codelineno-9-29></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-9-30 name=__codelineno-9-30 href=#__codelineno-9-30></a>
<a id=__codelineno-9-31 name=__codelineno-9-31 href=#__codelineno-9-31></a><span class=go>Next speaker: reviewer_agent</span>
<a id=__codelineno-9-32 name=__codelineno-9-32 href=#__codelineno-9-32></a>
<a id=__codelineno-9-33 name=__codelineno-9-33 href=#__codelineno-9-33></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-9-34 name=__codelineno-9-34 href=#__codelineno-9-34></a><span class=go>reviewer_agent (to group_manager):</span>
<a id=__codelineno-9-35 name=__codelineno-9-35 href=#__codelineno-9-35></a>
<a id=__codelineno-9-36 name=__codelineno-9-36 href=#__codelineno-9-36></a><span class=go>**Review of the Lesson Plan: Exploring the Solar System**</span>
<a id=__codelineno-9-37 name=__codelineno-9-37 href=#__codelineno-9-37></a>
<a id=__codelineno-9-38 name=__codelineno-9-38 href=#__codelineno-9-38></a><span class=go>1. **Alignment with Curriculum Standards**: Ensure that the lesson includes specific references to the fourth grade science standards for the solar system. This could include discussing gravity, the differences between inner and outer planets, and the role of the sun as a stable center of our solar system. Adding this information will support a deeper understanding of the topic and ensure compliance with state educational standards.</span>
<a id=__codelineno-9-39 name=__codelineno-9-39 href=#__codelineno-9-39></a>
<a id=__codelineno-9-40 name=__codelineno-9-40 href=#__codelineno-9-40></a><span class=go>2. **Interactive Activities**: While creating a model of the solar system is a great hands-on activity, consider including additional interactive elements such as a group discussion or a game that reinforces the learning objectives. For instance, incorporating a &quot;planet facts&quot; game where students can share interesting facts about each planet would further engage the students and foster collaborative learning.</span>
<a id=__codelineno-9-41 name=__codelineno-9-41 href=#__codelineno-9-41></a>
<a id=__codelineno-9-42 name=__codelineno-9-42 href=#__codelineno-9-42></a><span class=go>3. **Assessment of Learning**: It would be beneficial to include a formative assessment to gauge students&#39; understanding at the end of the lesson. This could be a quick quiz, a group presentation about one planet, or a drawing activity where students depict their favorite planet and share one fact about it. This will help reinforce the learning objectives and provide students with an opportunity to demonstrate their knowledge.</span>
<a id=__codelineno-9-43 name=__codelineno-9-43 href=#__codelineno-9-43></a>
<a id=__codelineno-9-44 name=__codelineno-9-44 href=#__codelineno-9-44></a><span class=go>Making these adjustments will enhance the educational experience and align it more closely with fourth-grade learning goals.</span>
<a id=__codelineno-9-45 name=__codelineno-9-45 href=#__codelineno-9-45></a>
<a id=__codelineno-9-46 name=__codelineno-9-46 href=#__codelineno-9-46></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-9-47 name=__codelineno-9-47 href=#__codelineno-9-47></a>
<a id=__codelineno-9-48 name=__codelineno-9-48 href=#__codelineno-9-48></a><span class=go>Next speaker: planner_agent</span>
<a id=__codelineno-9-49 name=__codelineno-9-49 href=#__codelineno-9-49></a>
<a id=__codelineno-9-50 name=__codelineno-9-50 href=#__codelineno-9-50></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-9-51 name=__codelineno-9-51 href=#__codelineno-9-51></a><span class=go>planner_agent (to group_manager):</span>
<a id=__codelineno-9-52 name=__codelineno-9-52 href=#__codelineno-9-52></a>
<a id=__codelineno-9-53 name=__codelineno-9-53 href=#__codelineno-9-53></a><span class=go>**Revised Lesson Plan: Exploring the Solar System**</span>
<a id=__codelineno-9-54 name=__codelineno-9-54 href=#__codelineno-9-54></a>
<a id=__codelineno-9-55 name=__codelineno-9-55 href=#__codelineno-9-55></a><span class=go>&lt;title&gt;Exploring the Solar System&lt;/title&gt;</span>
<a id=__codelineno-9-56 name=__codelineno-9-56 href=#__codelineno-9-56></a><span class=go>&lt;learning_objectives&gt;</span>
<a id=__codelineno-9-57 name=__codelineno-9-57 href=#__codelineno-9-57></a><span class=go>1. Identify and name the planets in the solar system according to grade-level science standards.</span>
<a id=__codelineno-9-58 name=__codelineno-9-58 href=#__codelineno-9-58></a><span class=go>2. Describe key characteristics of each planet, including differences between inner and outer planets.</span>
<a id=__codelineno-9-59 name=__codelineno-9-59 href=#__codelineno-9-59></a><span class=go>3. Understand the concept of orbit and how gravity keeps planets revolving around the sun.</span>
<a id=__codelineno-9-60 name=__codelineno-9-60 href=#__codelineno-9-60></a><span class=go>4. Develop an appreciation for the scale and structure of our solar system and the sun&#39;s role as the center.</span>
<a id=__codelineno-9-61 name=__codelineno-9-61 href=#__codelineno-9-61></a><span class=go>&lt;/learning_objectives&gt;</span>
<a id=__codelineno-9-62 name=__codelineno-9-62 href=#__codelineno-9-62></a><span class=go>&lt;script&gt;</span>
<a id=__codelineno-9-63 name=__codelineno-9-63 href=#__codelineno-9-63></a><span class=go>&quot;Good morning, class! Today, we are going to embark on an exciting journey through our solar system. Have any of you ever looked up at the night sky and wondered what those bright dots are? Well, those dots are often stars, but some of them are planets in our own solar system!</span>
<a id=__codelineno-9-64 name=__codelineno-9-64 href=#__codelineno-9-64></a>
<a id=__codelineno-9-65 name=__codelineno-9-65 href=#__codelineno-9-65></a><span class=go>To start our adventure, I want you to close your eyes and imagine standing on a giant spaceship, ready to zoom past the sun. Does anyone know what the sun is? (Pause for responses.) That&#39;s right! The sun is a star at the center of our solar system.</span>
<a id=__codelineno-9-66 name=__codelineno-9-66 href=#__codelineno-9-66></a>
<a id=__codelineno-9-67 name=__codelineno-9-67 href=#__codelineno-9-67></a><span class=go>Now, today&#39;s goal is not only to learn the names of the planets but also to explore what makes each of them unique. We&#39;ll create a model of the solar system together, and through this process, we will also talk about the differences between the inner and outer planets.</span>
<a id=__codelineno-9-68 name=__codelineno-9-68 href=#__codelineno-9-68></a>
<a id=__codelineno-9-69 name=__codelineno-9-69 href=#__codelineno-9-69></a><span class=go>As part of our exploration, we&#39;ll play a fun &quot;planet facts&quot; game. After learning about the planets, I will divide you into small groups, and each group will get a planet to research. You’ll find interesting facts about the planet, and we will come together to share what you discovered!</span>
<a id=__codelineno-9-70 name=__codelineno-9-70 href=#__codelineno-9-70></a>
<a id=__codelineno-9-71 name=__codelineno-9-71 href=#__codelineno-9-71></a><span class=go>At the end of our lesson, I&#39;ll give you a quick quiz to see how much you&#39;ve learned about the planets, or you can draw your favorite planet and share one cool fact you found with the class.</span>
<a id=__codelineno-9-72 name=__codelineno-9-72 href=#__codelineno-9-72></a>
<a id=__codelineno-9-73 name=__codelineno-9-73 href=#__codelineno-9-73></a><span class=go>So, are you ready to blast off and discover the wonders of space? Let&#39;s begin!&quot;</span>
<a id=__codelineno-9-74 name=__codelineno-9-74 href=#__codelineno-9-74></a><span class=go>&lt;/script&gt;</span>
<a id=__codelineno-9-75 name=__codelineno-9-75 href=#__codelineno-9-75></a>
<a id=__codelineno-9-76 name=__codelineno-9-76 href=#__codelineno-9-76></a><span class=go>**Interactive Activities**:</span>
<a id=__codelineno-9-77 name=__codelineno-9-77 href=#__codelineno-9-77></a><span class=go>- **Planet Facts Game**: After discussing each planet, students will work in groups to find and share a unique fact about their assigned planet.</span>
<a id=__codelineno-9-78 name=__codelineno-9-78 href=#__codelineno-9-78></a>
<a id=__codelineno-9-79 name=__codelineno-9-79 href=#__codelineno-9-79></a><span class=go>**Assessment of Learning**:</span>
<a id=__codelineno-9-80 name=__codelineno-9-80 href=#__codelineno-9-80></a><span class=go>- **Individual Reflection Drawing**: Students draw their favorite planet and write one fact about it.</span>
<a id=__codelineno-9-81 name=__codelineno-9-81 href=#__codelineno-9-81></a><span class=go>- **Quick Quiz**: A short quiz at the end to assess understanding of the planets and their characteristics.</span>
<a id=__codelineno-9-82 name=__codelineno-9-82 href=#__codelineno-9-82></a>
<a id=__codelineno-9-83 name=__codelineno-9-83 href=#__codelineno-9-83></a><span class=go>This revised plan incorporates additional interactive elements and assessments that align with educational standards and enhance the overall learning experience.</span>
<a id=__codelineno-9-84 name=__codelineno-9-84 href=#__codelineno-9-84></a>
<a id=__codelineno-9-85 name=__codelineno-9-85 href=#__codelineno-9-85></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-9-86 name=__codelineno-9-86 href=#__codelineno-9-86></a>
<a id=__codelineno-9-87 name=__codelineno-9-87 href=#__codelineno-9-87></a><span class=go>Next speaker: teacher_agent</span>
<a id=__codelineno-9-88 name=__codelineno-9-88 href=#__codelineno-9-88></a>
<a id=__codelineno-9-89 name=__codelineno-9-89 href=#__codelineno-9-89></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-9-90 name=__codelineno-9-90 href=#__codelineno-9-90></a><span class=go>teacher_agent (to group_manager):</span>
<a id=__codelineno-9-91 name=__codelineno-9-91 href=#__codelineno-9-91></a>
<a id=__codelineno-9-92 name=__codelineno-9-92 href=#__codelineno-9-92></a><span class=go>DONE!</span>
<a id=__codelineno-9-93 name=__codelineno-9-93 href=#__codelineno-9-93></a>
<a id=__codelineno-9-94 name=__codelineno-9-94 href=#__codelineno-9-94></a><span class=go>--------------------------------------------------------------------------------</span>
</code></pre></div> </li> </ol> <p>Now, let's look at how this is done in a Swarm.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-05-08T13:42:15+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-05-08</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../../../js/timeago.min.js></script> <script src=../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>