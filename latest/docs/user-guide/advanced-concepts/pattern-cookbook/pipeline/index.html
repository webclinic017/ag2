<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://docs.ag2.ai/latest/docs/user-guide/advanced-concepts/pattern-cookbook/pipeline/ rel=canonical><link href=../organic/ rel=prev><link href=../redundant/ rel=next><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Pipeline / Sequential Processing - AG2</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../css/timeago.css><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../stylesheets/extra.ff0633.min.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - Pipeline / Sequential Processing"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://docs.ag2.ai/latest/docs/user-guide/advanced-concepts/pattern-cookbook/pipeline/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - Pipeline / Sequential Processing"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon-dark.svg type=image/x-icon media="(prefers-color-scheme: light)"><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon media="(prefers-color-scheme: dark)"><link href=../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#key-characteristics class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Pipeline / Sequential Processing </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../quick-start/ class=md-tabs__link> Quick Start </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../../api-reference/autogen/Agent/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../../../use-cases/use-cases/customer-service/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-tabs__link> Community Insights </a> </li> <li class=md-tabs__item> <a href=../../../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> Installing AG2 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../basic-concepts/overview/ class=md-nav__link> <span class=md-ellipsis> Basic Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Advanced Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Advanced Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../llm-configuration-deep-dive/ class=md-nav__link> <span class=md-ellipsis> LLM Configuration Deep Dive </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_2 checked> <label class=md-nav__link for=__nav_2_3_2 id=__nav_2_3_2_label tabindex=0> <span class=md-ellipsis> Agent Orchestration Deep Dive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3_2> <span class="md-nav__icon md-icon"></span> Agent Orchestration Deep Dive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../orchestration/orchestrations/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../orchestration/two-agent-chat/ class=md-nav__link> <span class=md-ellipsis> Two Agent Chat </span> </a> </li> <li class=md-nav__item> <a href=../../orchestration/sequential-chat/ class=md-nav__link> <span class=md-ellipsis> Sequential Chat </span> </a> </li> <li class=md-nav__item> <a href=../../orchestration/nested-chat/ class=md-nav__link> <span class=md-ellipsis> Nested Chat </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../orchestration/group-chat/introduction/ class=md-nav__link> <span class=md-ellipsis> Group Chats </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../orchestration/swarm/deprecation/ class=md-nav__link> <span class=md-ellipsis> Swarm </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../orchestration/ending-a-chat/ class=md-nav__link> <span class=md-ellipsis> Ending A Chat </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_2_8 checked> <label class=md-nav__link for=__nav_2_3_2_8 id=__nav_2_3_2_8_label tabindex=0> <span class=md-ellipsis> Pattern Cookbook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_2_8_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3_2_8> <span class="md-nav__icon md-icon"></span> Pattern Cookbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../context_aware_routing/ class=md-nav__link> <span class=md-ellipsis> Context-Aware Routing </span> </a> </li> <li class=md-nav__item> <a href=../escalation/ class=md-nav__link> <span class=md-ellipsis> Escalation </span> </a> </li> <li class=md-nav__item> <a href=../feedback_loop/ class=md-nav__link> <span class=md-ellipsis> Feedback Loop </span> </a> </li> <li class=md-nav__item> <a href=../hierarchical/ class=md-nav__link> <span class=md-ellipsis> Hierarchical </span> </a> </li> <li class=md-nav__item> <a href=../organic/ class=md-nav__link> <span class=md-ellipsis> Organic </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Pipeline / Sequential </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Pipeline / Sequential </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#key-characteristics class=md-nav__link> <span class=md-ellipsis> Key Characteristics </span> </a> </li> <li class=md-nav__item> <a href=#information-flow class=md-nav__link> <span class=md-ellipsis> Information Flow </span> </a> </li> <li class=md-nav__item> <a href=#implementation class=md-nav__link> <span class=md-ellipsis> Implementation </span> </a> </li> <li class=md-nav__item> <a href=#agent-flow class=md-nav__link> <span class=md-ellipsis> Agent Flow </span> </a> </li> <li class=md-nav__item> <a href=#code class=md-nav__link> <span class=md-ellipsis> Code </span> </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> <span class=md-ellipsis> Output </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../redundant/ class=md-nav__link> <span class=md-ellipsis> Redundant </span> </a> </li> <li class=md-nav__item> <a href=../star/ class=md-nav__link> <span class=md-ellipsis> Star </span> </a> </li> <li class=md-nav__item> <a href=../triage_with_tasks/ class=md-nav__link> <span class=md-ellipsis> Triage with Tasks </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tools/ class=md-nav__link> <span class=md-ellipsis> Tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../realtime-agent/ class=md-nav__link> <span class=md-ellipsis> RealtimeAgent </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../rag/ class=md-nav__link> <span class=md-ellipsis> RAG </span> </a> </li> <li class=md-nav__item> <a href=../../code-execution/ class=md-nav__link> <span class=md-ellipsis> Code Execution </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../models/amazon-bedrock/ class=md-nav__link> <span class=md-ellipsis> Model Providers </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../reference-agents/ class=md-nav__link> <span class=md-ellipsis> Reference Agents </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../reference-tools/ class=md-nav__link> <span class=md-ellipsis> Reference Tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../api-reference/autogen/Agent/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../use-cases/use-cases/customer-service/ class=md-nav__link> <span class=md-ellipsis> Use Cases </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-nav__link> <span class=md-ellipsis> Community Insights </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#key-characteristics class=md-nav__link> <span class=md-ellipsis> Key Characteristics </span> </a> </li> <li class=md-nav__item> <a href=#information-flow class=md-nav__link> <span class=md-ellipsis> Information Flow </span> </a> </li> <li class=md-nav__item> <a href=#implementation class=md-nav__link> <span class=md-ellipsis> Implementation </span> </a> </li> <li class=md-nav__item> <a href=#agent-flow class=md-nav__link> <span class=md-ellipsis> Agent Flow </span> </a> </li> <li class=md-nav__item> <a href=#code class=md-nav__link> <span class=md-ellipsis> Code </span> </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> <span class=md-ellipsis> Output </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/edit/main/website/docs/user-guide/advanced-concepts/pattern-cookbook/pipeline.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>Pipeline / Sequential</h1> <p>The Pipeline Pattern is a powerful orchestration approach that organizes agents into a linear sequence where each agent performs a specific transformation on data before passing it to the next agent in the chain. This pattern mirrors traditional assembly lines or data processing pipelines where information flows through a series of specialized stages, with each stage adding value or transforming the data in some way. Like an assembly line in manufacturing, the Pipeline Pattern maximizes efficiency by allowing each agent to focus exclusively on its specialized task.</p> <h3 id=key-characteristics>Key Characteristics<a class=headerlink href=#key-characteristics title="Permanent link">#</a></h3> <p><img alt="Pipeline Pattern" src=../assets/pipeline.jpeg></p> <p>The Pipeline Pattern creates a streamlined, sequential processing flow where data moves through a series of specialized transformations. Each agent in the pipeline receives input from its predecessor, performs its specific processing, and passes the result to its successor. This approach simplifies complex workflows by breaking them into discrete, manageable stages.</p> <ul> <li> <p><strong>Specialized Stages</strong>: Each agent in the pipeline specializes in a specific type of data transformation or processing task, focusing exclusively on its area of expertise.</p> </li> <li> <p><strong>Unidirectional Flow</strong>: Information typically flows in one direction from the beginning to the end of the pipeline, with clear handoffs between stages.</p> </li> <li> <p><strong>Progressive Refinement</strong>: Data is progressively refined, enhanced, and transformed as it moves through each stage, with each agent building upon the work of previous agents.</p> </li> <li> <p><strong>Well-Defined Interfaces</strong>: Each agent has clear expectations about the format and content of both its inputs and outputs, ensuring smooth transitions between stages.</p> </li> </ul> <h3 id=information-flow>Information Flow<a class=headerlink href=#information-flow title="Permanent link">#</a></h3> <p><img alt="Pipeline Flow Pattern" src=../assets/pipeline_flow.jpeg></p> <p>In the Pipeline Pattern, information flows along a predetermined path, creating a predictable sequence of transformations. The pattern enforces a disciplined approach to data processing, where each stage contributes its specific expertise to the evolving data. This linear progression ensures that data undergoes all necessary transformations in the correct order, with each agent focusing solely on its specialized processing.</p> <p>The workflow begins with raw input data entering the first stage of the pipeline. Each agent applies its specific transformation before passing the enriched data to the next agent. This continues until the data reaches the final stage, which produces the fully processed output. If an error occurs at any point, the pipeline can terminate early, with error information flowing back to the user rather than proceeding to subsequent stages.</p> <ul> <li> <p><strong>Sequential Progression</strong>: Data moves through a predetermined sequence of processing stages, with each agent receiving, transforming, and passing data forward.</p> </li> <li> <p><strong>Transformation Focus</strong>: Each stage applies its specialized expertise to the data, progressively refining it toward the final output.</p> </li> <li> <p><strong>Accumulative Value</strong>: Each transformation builds upon previous ones, with the data becoming more refined and complete as it progresses through the pipeline.</p> </li> </ul> <h3 id=implementation>Implementation<a class=headerlink href=#implementation title="Permanent link">#</a></h3> <p>Our implementation using AG2's Swarm demonstrates the Pipeline Pattern in an e-commerce order processing workflow. We've created a linear sequence of specialized agents that process an order from initial receipt through notification. The implementation showcases how complex workflows can be broken into discrete, manageable stages with clear responsibilities and interfaces.</p> <p>The pipeline begins with an Entry Agent that receives the order data and initiates processing. The order then flows sequentially through specialized stages: Validation checks the order's correctness, Inventory verifies item availability, Payment processes the transaction, Fulfillment prepares shipping instructions, and finally, Notification sends confirmation to the customer. Each agent focuses exclusively on its stage of the process, applying its specialized transformation before passing the enhanced data to the next agent.</p> <ul> <li> <p><strong>Structured Data Models</strong>: Pydantic models define the input/output for each stage, creating clear contracts between pipeline stages and ensuring type safety.</p> </li> <li> <p><strong>Stage-Specific Functions</strong>: Each processing stage has dedicated functions that transform the input, update the shared context, and determine whether to proceed or terminate with an error.</p> </li> <li> <p><strong>Strategic Handoffs</strong>: AfterWork handlers and context variables manage transitions between agents, with SwarmResult directing the flow based on each stage's outcome.</p> </li> </ul> <p>The Pipeline Pattern excels at tasks requiring sequential processing with progressive refinement, particularly when the output of one stage naturally serves as the input to the next. This makes it ideal for workflows like document processing, approval sequences, and e-commerce transactions where data needs to undergo a series of distinct transformations in a specific order.</p> <h2 id=agent-flow>Agent Flow<a class=headerlink href=#agent-flow title="Permanent link">#</a></h2> <pre class=mermaid><code>sequenceDiagram
    participant User
    participant EntryAgent as Entry Agent
    participant ValidationAgent as Validation Agent
    participant InventoryAgent as Inventory Agent
    participant PaymentAgent as Payment Agent
    participant FulfillmentAgent as Fulfillment Agent
    participant NotificationAgent as Notification Agent
    participant ToolExecutor as Tool Executor

    User-&gt;&gt;EntryAgent: Order JSON data
    EntryAgent-&gt;&gt;ToolExecutor: start_order_processing
    ToolExecutor-&gt;&gt;ValidationAgent: Forward order for validation

    ValidationAgent-&gt;&gt;ToolExecutor: run_validation_check
    ToolExecutor-&gt;&gt;ValidationAgent: Validation check results
    ValidationAgent-&gt;&gt;ToolExecutor: complete_validation
    ToolExecutor-&gt;&gt;InventoryAgent: Pass validated order

    InventoryAgent-&gt;&gt;ToolExecutor: run_inventory_check
    ToolExecutor-&gt;&gt;InventoryAgent: Inventory check results
    InventoryAgent-&gt;&gt;ToolExecutor: complete_inventory_check
    ToolExecutor-&gt;&gt;PaymentAgent: Pass inventory-verified order

    PaymentAgent-&gt;&gt;ToolExecutor: check_payment_info
    ToolExecutor-&gt;&gt;PaymentAgent: Payment verification results
    PaymentAgent-&gt;&gt;ToolExecutor: complete_payment_processing
    ToolExecutor-&gt;&gt;FulfillmentAgent: Pass payment-processed order

    FulfillmentAgent-&gt;&gt;ToolExecutor: complete_fulfillment
    ToolExecutor-&gt;&gt;NotificationAgent: Pass fulfilled order

    NotificationAgent-&gt;&gt;ToolExecutor: complete_notification
    ToolExecutor-&gt;&gt;User: Return order confirmation

    Note over User,ToolExecutor: Sequential processing with progressive data transformation at each stage</code></pre> <h2 id=code>Code<a class=headerlink href=#code title="Permanent link">#</a></h2> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>In this code example we use OpenAI's GPT-4o mini with structured outputs.</p> <p>We also set the LLM parameter <code>parallel_tool_calls</code> to False so that our agents don't recommend more than one tool call at a time. This parameter may not be available with all model providers.</p> </div> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>import</span><span class=w> </span><span class=nn>json</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Optional</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kn>from</span><span class=w> </span><span class=nn>pydantic</span><span class=w> </span><span class=kn>import</span> <span class=n>BaseModel</span><span class=p>,</span> <span class=n>Field</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>ConversableAgent</span><span class=p>,</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>UserProxyAgent</span><span class=p>,</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>LLMConfig</span><span class=p>,</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>)</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat</span><span class=w> </span><span class=kn>import</span> <span class=n>initiate_group_chat</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat.group.patterns</span><span class=w> </span><span class=kn>import</span> <span class=n>DefaultPattern</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agentchat.group</span><span class=w> </span><span class=kn>import</span> <span class=n>AgentTarget</span><span class=p>,</span> <span class=n>AgentNameTarget</span><span class=p>,</span> <span class=n>OnContextCondition</span><span class=p>,</span> <span class=n>ContextExpression</span><span class=p>,</span> <span class=n>ExpressionContextCondition</span><span class=p>,</span> <span class=n>ReplyResult</span><span class=p>,</span> <span class=n>ContextVariables</span><span class=p>,</span> <span class=n>RevertToUserTarget</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=c1># E-commerce order processing pipeline</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=c1># Each agent handles a specific stage of order processing in sequence</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=c1># Setup LLM configuration</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span><span class=n>api_type</span><span class=o>=</span><span class=s2>&quot;openai&quot;</span><span class=p>,</span> <span class=n>model</span><span class=o>=</span><span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span> <span class=n>parallel_tool_calls</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>cache_seed</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=c1># Shared context for tracking order processing state</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=n>shared_context</span> <span class=o>=</span> <span class=n>ContextVariables</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    <span class=c1># Pipeline state</span>
<a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>    <span class=s2>&quot;pipeline_started&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>    <span class=s2>&quot;pipeline_completed&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>
<a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>    <span class=c1># Stage completion tracking</span>
<a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>    <span class=s2>&quot;validation_completed&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>    <span class=s2>&quot;inventory_completed&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>    <span class=s2>&quot;payment_completed&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>    <span class=s2>&quot;fulfillment_completed&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>    <span class=s2>&quot;notification_completed&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>
<a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a>    <span class=c1># Order data</span>
<a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a>    <span class=s2>&quot;order_details&quot;</span><span class=p>:</span> <span class=p>{},</span>
<a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a>    <span class=s2>&quot;validation_results&quot;</span><span class=p>:</span> <span class=p>{},</span>
<a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a>    <span class=s2>&quot;inventory_results&quot;</span><span class=p>:</span> <span class=p>{},</span>
<a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a>    <span class=s2>&quot;payment_results&quot;</span><span class=p>:</span> <span class=p>{},</span>
<a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a>    <span class=s2>&quot;fulfillment_results&quot;</span><span class=p>:</span> <span class=p>{},</span>
<a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a>    <span class=s2>&quot;notification_results&quot;</span><span class=p>:</span> <span class=p>{},</span>
<a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a>
<a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a>    <span class=c1># Error state</span>
<a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a>    <span class=s2>&quot;has_error&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a>    <span class=s2>&quot;error_message&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a>    <span class=s2>&quot;error_stage&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=p>})</span>
<a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a>
<a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=c1># Pydantic models for pipeline stages</span>
<a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a><span class=k>class</span><span class=w> </span><span class=nc>ValidationResult</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
<a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a>    <span class=n>is_valid</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Boolean indicating if the order passed validation&quot;</span><span class=p>)</span>
<a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a>    <span class=n>error_message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Explanation if validation failed&quot;</span><span class=p>)</span>
<a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a>    <span class=n>validation_details</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>]</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Any additional validation information&quot;</span><span class=p>)</span>
<a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a>
<a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a><span class=k>class</span><span class=w> </span><span class=nc>InventoryResult</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
<a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a>    <span class=n>items_available</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Boolean indicating if all items are available&quot;</span><span class=p>)</span>
<a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a>    <span class=n>error_message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Explanation if any items are out of stock&quot;</span><span class=p>)</span>
<a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a>    <span class=n>reserved_items</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>]</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Details of items reserved for this order&quot;</span><span class=p>)</span>
<a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a>
<a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=k>class</span><span class=w> </span><span class=nc>PaymentResult</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
<a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a>    <span class=n>payment_successful</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Boolean indicating if payment was processed successfully&quot;</span><span class=p>)</span>
<a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a>    <span class=n>error_message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Explanation if payment failed&quot;</span><span class=p>)</span>
<a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a>    <span class=n>transaction_details</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>]</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Details of the payment transaction&quot;</span><span class=p>)</span>
<a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a>
<a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a><span class=k>class</span><span class=w> </span><span class=nc>FulfillmentResult</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
<a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a>    <span class=n>fulfillment_instructions</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Detailed instructions for order fulfillment&quot;</span><span class=p>)</span>
<a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a>    <span class=n>shipping_details</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Information about shipping method, tracking, etc.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a>    <span class=n>estimated_delivery</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Expected delivery timeframe&quot;</span><span class=p>)</span>
<a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a>
<a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a><span class=k>class</span><span class=w> </span><span class=nc>NotificationResult</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
<a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a>    <span class=n>notification_sent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Boolean indicating if notification was sent&quot;</span><span class=p>)</span>
<a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a>    <span class=n>notification_method</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Method used to notify the customer (email, SMS, etc.)&quot;</span><span class=p>)</span>
<a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a>    <span class=n>notification_content</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Content of the notification message&quot;</span><span class=p>)</span>
<a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a>
<a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a><span class=c1># Pipeline stage functions</span>
<a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a><span class=k>def</span><span class=w> </span><span class=nf>start_order_processing</span><span class=p>(</span><span class=n>order_json</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ReplyResult</span><span class=p>:</span>
<a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Start the order processing pipeline with provided order details JSON string&quot;&quot;&quot;</span>
<a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;pipeline_started&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a>
<a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a>    <span class=c1># Parse the order JSON</span>
<a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a>        <span class=n>order_details</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>order_json</span><span class=p>)</span>
<a id=__codelineno-0-80 name=__codelineno-0-80 href=#__codelineno-0-80></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;order_details&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>order_details</span>
<a id=__codelineno-0-81 name=__codelineno-0-81 href=#__codelineno-0-81></a>
<a id=__codelineno-0-82 name=__codelineno-0-82 href=#__codelineno-0-82></a>        <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-83 name=__codelineno-0-83 href=#__codelineno-0-83></a>            <span class=n>message</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;Order processing started for Order #</span><span class=si>{</span><span class=n>order_details</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;order_id&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Unknown&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-84 name=__codelineno-0-84 href=#__codelineno-0-84></a>            <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-85 name=__codelineno-0-85 href=#__codelineno-0-85></a>            <span class=n>target</span><span class=o>=</span><span class=n>AgentNameTarget</span><span class=p>(</span><span class=s2>&quot;validation_agent&quot;</span><span class=p>)</span>
<a id=__codelineno-0-86 name=__codelineno-0-86 href=#__codelineno-0-86></a>        <span class=p>)</span>
<a id=__codelineno-0-87 name=__codelineno-0-87 href=#__codelineno-0-87></a>    <span class=k>except</span> <span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>:</span>
<a id=__codelineno-0-88 name=__codelineno-0-88 href=#__codelineno-0-88></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;has_error&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-89 name=__codelineno-0-89 href=#__codelineno-0-89></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_message&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;Invalid order JSON format&quot;</span>
<a id=__codelineno-0-90 name=__codelineno-0-90 href=#__codelineno-0-90></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_stage&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;entry&quot;</span>
<a id=__codelineno-0-91 name=__codelineno-0-91 href=#__codelineno-0-91></a>
<a id=__codelineno-0-92 name=__codelineno-0-92 href=#__codelineno-0-92></a>        <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-93 name=__codelineno-0-93 href=#__codelineno-0-93></a>            <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Failed to process order: Invalid JSON format&quot;</span><span class=p>,</span>
<a id=__codelineno-0-94 name=__codelineno-0-94 href=#__codelineno-0-94></a>            <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-95 name=__codelineno-0-95 href=#__codelineno-0-95></a>            <span class=n>target</span><span class=o>=</span><span class=n>RevertToUserTarget</span><span class=p>()</span>
<a id=__codelineno-0-96 name=__codelineno-0-96 href=#__codelineno-0-96></a>        <span class=p>)</span>
<a id=__codelineno-0-97 name=__codelineno-0-97 href=#__codelineno-0-97></a>
<a id=__codelineno-0-98 name=__codelineno-0-98 href=#__codelineno-0-98></a><span class=k>def</span><span class=w> </span><span class=nf>run_validation_check</span><span class=p>(</span><span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-99 name=__codelineno-0-99 href=#__codelineno-0-99></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the validation check for the order&quot;&quot;&quot;</span>
<a id=__codelineno-0-100 name=__codelineno-0-100 href=#__codelineno-0-100></a>    <span class=k>return</span> <span class=s2>&quot;Validation check completed successfully.&quot;</span>
<a id=__codelineno-0-101 name=__codelineno-0-101 href=#__codelineno-0-101></a>
<a id=__codelineno-0-102 name=__codelineno-0-102 href=#__codelineno-0-102></a><span class=k>def</span><span class=w> </span><span class=nf>complete_validation</span><span class=p>(</span><span class=n>validation_result</span><span class=p>:</span> <span class=n>ValidationResult</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ReplyResult</span><span class=p>:</span>
<a id=__codelineno-0-103 name=__codelineno-0-103 href=#__codelineno-0-103></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Complete the validation stage and pass to inventory check&quot;&quot;&quot;</span>
<a id=__codelineno-0-104 name=__codelineno-0-104 href=#__codelineno-0-104></a>    <span class=c1># Store the validation result in context variables</span>
<a id=__codelineno-0-105 name=__codelineno-0-105 href=#__codelineno-0-105></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;validation_results&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>validation_result</span><span class=o>.</span><span class=n>model_dump</span><span class=p>()</span>
<a id=__codelineno-0-106 name=__codelineno-0-106 href=#__codelineno-0-106></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;validation_completed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-107 name=__codelineno-0-107 href=#__codelineno-0-107></a>
<a id=__codelineno-0-108 name=__codelineno-0-108 href=#__codelineno-0-108></a>    <span class=c1># Check if validation failed</span>
<a id=__codelineno-0-109 name=__codelineno-0-109 href=#__codelineno-0-109></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>validation_result</span><span class=o>.</span><span class=n>is_valid</span><span class=p>:</span>
<a id=__codelineno-0-110 name=__codelineno-0-110 href=#__codelineno-0-110></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;has_error&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-111 name=__codelineno-0-111 href=#__codelineno-0-111></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_message&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>validation_result</span><span class=o>.</span><span class=n>error_message</span> <span class=ow>or</span> <span class=s2>&quot;Validation failed&quot;</span>
<a id=__codelineno-0-112 name=__codelineno-0-112 href=#__codelineno-0-112></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_stage&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;validation&quot;</span>
<a id=__codelineno-0-113 name=__codelineno-0-113 href=#__codelineno-0-113></a>
<a id=__codelineno-0-114 name=__codelineno-0-114 href=#__codelineno-0-114></a>        <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-115 name=__codelineno-0-115 href=#__codelineno-0-115></a>            <span class=n>message</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;Validation failed: </span><span class=si>{</span><span class=n>validation_result</span><span class=o>.</span><span class=n>error_message</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=s1>&#39;Unknown error&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-116 name=__codelineno-0-116 href=#__codelineno-0-116></a>            <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-117 name=__codelineno-0-117 href=#__codelineno-0-117></a>            <span class=n>target</span><span class=o>=</span><span class=n>RevertToUserTarget</span><span class=p>()</span>
<a id=__codelineno-0-118 name=__codelineno-0-118 href=#__codelineno-0-118></a>        <span class=p>)</span>
<a id=__codelineno-0-119 name=__codelineno-0-119 href=#__codelineno-0-119></a>
<a id=__codelineno-0-120 name=__codelineno-0-120 href=#__codelineno-0-120></a>    <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-121 name=__codelineno-0-121 href=#__codelineno-0-121></a>        <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Order validated successfully. Proceeding to inventory check.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-122 name=__codelineno-0-122 href=#__codelineno-0-122></a>        <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-123 name=__codelineno-0-123 href=#__codelineno-0-123></a>        <span class=n>target</span><span class=o>=</span><span class=n>AgentNameTarget</span><span class=p>(</span><span class=s2>&quot;inventory_agent&quot;</span><span class=p>)</span>
<a id=__codelineno-0-124 name=__codelineno-0-124 href=#__codelineno-0-124></a>    <span class=p>)</span>
<a id=__codelineno-0-125 name=__codelineno-0-125 href=#__codelineno-0-125></a>
<a id=__codelineno-0-126 name=__codelineno-0-126 href=#__codelineno-0-126></a><span class=k>def</span><span class=w> </span><span class=nf>run_inventory_check</span><span class=p>(</span><span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-127 name=__codelineno-0-127 href=#__codelineno-0-127></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the inventory check for the order&quot;&quot;&quot;</span>
<a id=__codelineno-0-128 name=__codelineno-0-128 href=#__codelineno-0-128></a>    <span class=k>return</span> <span class=s2>&quot;Inventory check completed successfully.&quot;</span>
<a id=__codelineno-0-129 name=__codelineno-0-129 href=#__codelineno-0-129></a>
<a id=__codelineno-0-130 name=__codelineno-0-130 href=#__codelineno-0-130></a><span class=k>def</span><span class=w> </span><span class=nf>complete_inventory_check</span><span class=p>(</span><span class=n>inventory_result</span><span class=p>:</span> <span class=n>InventoryResult</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ReplyResult</span><span class=p>:</span>
<a id=__codelineno-0-131 name=__codelineno-0-131 href=#__codelineno-0-131></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Complete the inventory check stage and pass to payment processing&quot;&quot;&quot;</span>
<a id=__codelineno-0-132 name=__codelineno-0-132 href=#__codelineno-0-132></a>    <span class=c1># Store the inventory result in context variables</span>
<a id=__codelineno-0-133 name=__codelineno-0-133 href=#__codelineno-0-133></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;inventory_results&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>inventory_result</span><span class=o>.</span><span class=n>model_dump</span><span class=p>()</span>
<a id=__codelineno-0-134 name=__codelineno-0-134 href=#__codelineno-0-134></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;inventory_completed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-135 name=__codelineno-0-135 href=#__codelineno-0-135></a>
<a id=__codelineno-0-136 name=__codelineno-0-136 href=#__codelineno-0-136></a>    <span class=c1># Check if inventory check failed</span>
<a id=__codelineno-0-137 name=__codelineno-0-137 href=#__codelineno-0-137></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>inventory_result</span><span class=o>.</span><span class=n>items_available</span><span class=p>:</span>
<a id=__codelineno-0-138 name=__codelineno-0-138 href=#__codelineno-0-138></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;has_error&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-139 name=__codelineno-0-139 href=#__codelineno-0-139></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_message&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>inventory_result</span><span class=o>.</span><span class=n>error_message</span> <span class=ow>or</span> <span class=s2>&quot;Inventory check failed&quot;</span>
<a id=__codelineno-0-140 name=__codelineno-0-140 href=#__codelineno-0-140></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_stage&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;inventory&quot;</span>
<a id=__codelineno-0-141 name=__codelineno-0-141 href=#__codelineno-0-141></a>
<a id=__codelineno-0-142 name=__codelineno-0-142 href=#__codelineno-0-142></a>        <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-143 name=__codelineno-0-143 href=#__codelineno-0-143></a>            <span class=n>message</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;Inventory check failed: </span><span class=si>{</span><span class=n>inventory_result</span><span class=o>.</span><span class=n>error_message</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=s1>&#39;Unknown error&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-144 name=__codelineno-0-144 href=#__codelineno-0-144></a>            <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-145 name=__codelineno-0-145 href=#__codelineno-0-145></a>            <span class=n>target</span><span class=o>=</span><span class=n>RevertToUserTarget</span><span class=p>()</span>
<a id=__codelineno-0-146 name=__codelineno-0-146 href=#__codelineno-0-146></a>        <span class=p>)</span>
<a id=__codelineno-0-147 name=__codelineno-0-147 href=#__codelineno-0-147></a>
<a id=__codelineno-0-148 name=__codelineno-0-148 href=#__codelineno-0-148></a>    <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-149 name=__codelineno-0-149 href=#__codelineno-0-149></a>        <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Inventory check completed successfully. Proceeding to payment processing.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-150 name=__codelineno-0-150 href=#__codelineno-0-150></a>        <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-151 name=__codelineno-0-151 href=#__codelineno-0-151></a>        <span class=n>target</span><span class=o>=</span><span class=n>AgentNameTarget</span><span class=p>(</span><span class=s2>&quot;payment_agent&quot;</span><span class=p>)</span>
<a id=__codelineno-0-152 name=__codelineno-0-152 href=#__codelineno-0-152></a>    <span class=p>)</span>
<a id=__codelineno-0-153 name=__codelineno-0-153 href=#__codelineno-0-153></a>
<a id=__codelineno-0-154 name=__codelineno-0-154 href=#__codelineno-0-154></a><span class=k>def</span><span class=w> </span><span class=nf>check_payment_info</span><span class=p>(</span><span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-155 name=__codelineno-0-155 href=#__codelineno-0-155></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check the payment information for the order&quot;&quot;&quot;</span>
<a id=__codelineno-0-156 name=__codelineno-0-156 href=#__codelineno-0-156></a>    <span class=k>return</span> <span class=s2>&quot;Payment information verified successfully.&quot;</span>
<a id=__codelineno-0-157 name=__codelineno-0-157 href=#__codelineno-0-157></a>
<a id=__codelineno-0-158 name=__codelineno-0-158 href=#__codelineno-0-158></a><span class=k>def</span><span class=w> </span><span class=nf>complete_payment_processing</span><span class=p>(</span><span class=n>payment_result</span><span class=p>:</span> <span class=n>PaymentResult</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ReplyResult</span><span class=p>:</span>
<a id=__codelineno-0-159 name=__codelineno-0-159 href=#__codelineno-0-159></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Complete the payment processing stage and pass to fulfillment&quot;&quot;&quot;</span>
<a id=__codelineno-0-160 name=__codelineno-0-160 href=#__codelineno-0-160></a>    <span class=c1># Store the payment result in context variables</span>
<a id=__codelineno-0-161 name=__codelineno-0-161 href=#__codelineno-0-161></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;payment_results&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>payment_result</span><span class=o>.</span><span class=n>model_dump</span><span class=p>()</span>
<a id=__codelineno-0-162 name=__codelineno-0-162 href=#__codelineno-0-162></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;payment_completed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-163 name=__codelineno-0-163 href=#__codelineno-0-163></a>
<a id=__codelineno-0-164 name=__codelineno-0-164 href=#__codelineno-0-164></a>    <span class=c1># Check if payment processing failed</span>
<a id=__codelineno-0-165 name=__codelineno-0-165 href=#__codelineno-0-165></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>payment_result</span><span class=o>.</span><span class=n>payment_successful</span><span class=p>:</span>
<a id=__codelineno-0-166 name=__codelineno-0-166 href=#__codelineno-0-166></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;has_error&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-167 name=__codelineno-0-167 href=#__codelineno-0-167></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_message&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>payment_result</span><span class=o>.</span><span class=n>error_message</span> <span class=ow>or</span> <span class=s2>&quot;Payment processing failed&quot;</span>
<a id=__codelineno-0-168 name=__codelineno-0-168 href=#__codelineno-0-168></a>        <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;error_stage&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;payment&quot;</span>
<a id=__codelineno-0-169 name=__codelineno-0-169 href=#__codelineno-0-169></a>
<a id=__codelineno-0-170 name=__codelineno-0-170 href=#__codelineno-0-170></a>        <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-171 name=__codelineno-0-171 href=#__codelineno-0-171></a>            <span class=n>message</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;Payment processing failed: </span><span class=si>{</span><span class=n>payment_result</span><span class=o>.</span><span class=n>error_message</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=s1>&#39;Unknown error&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-172 name=__codelineno-0-172 href=#__codelineno-0-172></a>            <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-173 name=__codelineno-0-173 href=#__codelineno-0-173></a>            <span class=n>target</span><span class=o>=</span><span class=n>RevertToUserTarget</span><span class=p>()</span>
<a id=__codelineno-0-174 name=__codelineno-0-174 href=#__codelineno-0-174></a>        <span class=p>)</span>
<a id=__codelineno-0-175 name=__codelineno-0-175 href=#__codelineno-0-175></a>
<a id=__codelineno-0-176 name=__codelineno-0-176 href=#__codelineno-0-176></a>    <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-177 name=__codelineno-0-177 href=#__codelineno-0-177></a>        <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Payment processed successfully. Proceeding to order fulfillment.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-178 name=__codelineno-0-178 href=#__codelineno-0-178></a>        <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-179 name=__codelineno-0-179 href=#__codelineno-0-179></a>        <span class=n>target</span><span class=o>=</span><span class=n>AgentNameTarget</span><span class=p>(</span><span class=s2>&quot;fulfillment_agent&quot;</span><span class=p>)</span>
<a id=__codelineno-0-180 name=__codelineno-0-180 href=#__codelineno-0-180></a>    <span class=p>)</span>
<a id=__codelineno-0-181 name=__codelineno-0-181 href=#__codelineno-0-181></a>
<a id=__codelineno-0-182 name=__codelineno-0-182 href=#__codelineno-0-182></a><span class=k>def</span><span class=w> </span><span class=nf>complete_fulfillment</span><span class=p>(</span><span class=n>fulfillment_result</span><span class=p>:</span> <span class=n>FulfillmentResult</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ReplyResult</span><span class=p>:</span>
<a id=__codelineno-0-183 name=__codelineno-0-183 href=#__codelineno-0-183></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Complete the fulfillment stage and pass to notification&quot;&quot;&quot;</span>
<a id=__codelineno-0-184 name=__codelineno-0-184 href=#__codelineno-0-184></a>    <span class=c1># Store the fulfillment result in context variables</span>
<a id=__codelineno-0-185 name=__codelineno-0-185 href=#__codelineno-0-185></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;fulfillment_results&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>fulfillment_result</span><span class=o>.</span><span class=n>model_dump</span><span class=p>()</span>
<a id=__codelineno-0-186 name=__codelineno-0-186 href=#__codelineno-0-186></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;fulfillment_completed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-187 name=__codelineno-0-187 href=#__codelineno-0-187></a>
<a id=__codelineno-0-188 name=__codelineno-0-188 href=#__codelineno-0-188></a>    <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-189 name=__codelineno-0-189 href=#__codelineno-0-189></a>        <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Order fulfillment completed. Proceeding to customer notification.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-190 name=__codelineno-0-190 href=#__codelineno-0-190></a>        <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-191 name=__codelineno-0-191 href=#__codelineno-0-191></a>        <span class=n>target</span><span class=o>=</span><span class=n>AgentNameTarget</span><span class=p>(</span><span class=s2>&quot;notification_agent&quot;</span><span class=p>)</span>
<a id=__codelineno-0-192 name=__codelineno-0-192 href=#__codelineno-0-192></a>    <span class=p>)</span>
<a id=__codelineno-0-193 name=__codelineno-0-193 href=#__codelineno-0-193></a>
<a id=__codelineno-0-194 name=__codelineno-0-194 href=#__codelineno-0-194></a><span class=k>def</span><span class=w> </span><span class=nf>complete_notification</span><span class=p>(</span><span class=n>notification_result</span><span class=p>:</span> <span class=n>NotificationResult</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=n>ContextVariables</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ReplyResult</span><span class=p>:</span>
<a id=__codelineno-0-195 name=__codelineno-0-195 href=#__codelineno-0-195></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Complete the notification stage and finish the pipeline&quot;&quot;&quot;</span>
<a id=__codelineno-0-196 name=__codelineno-0-196 href=#__codelineno-0-196></a>    <span class=c1># Store the notification result in context variables</span>
<a id=__codelineno-0-197 name=__codelineno-0-197 href=#__codelineno-0-197></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;notification_results&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>notification_result</span><span class=o>.</span><span class=n>model_dump</span><span class=p>()</span>
<a id=__codelineno-0-198 name=__codelineno-0-198 href=#__codelineno-0-198></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;notification_completed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-199 name=__codelineno-0-199 href=#__codelineno-0-199></a>    <span class=n>context_variables</span><span class=p>[</span><span class=s2>&quot;pipeline_completed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-200 name=__codelineno-0-200 href=#__codelineno-0-200></a>
<a id=__codelineno-0-201 name=__codelineno-0-201 href=#__codelineno-0-201></a>    <span class=k>return</span> <span class=n>ReplyResult</span><span class=p>(</span>
<a id=__codelineno-0-202 name=__codelineno-0-202 href=#__codelineno-0-202></a>        <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Customer notification sent. Order processing completed successfully.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-203 name=__codelineno-0-203 href=#__codelineno-0-203></a>        <span class=n>context_variables</span><span class=o>=</span><span class=n>context_variables</span><span class=p>,</span>
<a id=__codelineno-0-204 name=__codelineno-0-204 href=#__codelineno-0-204></a>        <span class=n>target</span><span class=o>=</span><span class=n>RevertToUserTarget</span><span class=p>()</span>
<a id=__codelineno-0-205 name=__codelineno-0-205 href=#__codelineno-0-205></a>    <span class=p>)</span>
<a id=__codelineno-0-206 name=__codelineno-0-206 href=#__codelineno-0-206></a>
<a id=__codelineno-0-207 name=__codelineno-0-207 href=#__codelineno-0-207></a><span class=c1># Pipeline agents</span>
<a id=__codelineno-0-208 name=__codelineno-0-208 href=#__codelineno-0-208></a><span class=k>with</span> <span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-0-209 name=__codelineno-0-209 href=#__codelineno-0-209></a>    <span class=n>entry_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-210 name=__codelineno-0-210 href=#__codelineno-0-210></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;entry_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-211 name=__codelineno-0-211 href=#__codelineno-0-211></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;You are the entry point for the e-commerce order processing pipeline.</span>
<a id=__codelineno-0-212 name=__codelineno-0-212 href=#__codelineno-0-212></a><span class=s2>        Your task is to receive the order details and start the order processing.</span>
<a id=__codelineno-0-213 name=__codelineno-0-213 href=#__codelineno-0-213></a>
<a id=__codelineno-0-214 name=__codelineno-0-214 href=#__codelineno-0-214></a><span class=s2>        When you receive an order in JSON format, you should:</span>
<a id=__codelineno-0-215 name=__codelineno-0-215 href=#__codelineno-0-215></a><span class=s2>        1. Extract the full JSON string from the message</span>
<a id=__codelineno-0-216 name=__codelineno-0-216 href=#__codelineno-0-216></a><span class=s2>        2. Use the start_order_processing tool with the complete JSON string</span>
<a id=__codelineno-0-217 name=__codelineno-0-217 href=#__codelineno-0-217></a><span class=s2>        3. Do not modify or reformat the JSON</span>
<a id=__codelineno-0-218 name=__codelineno-0-218 href=#__codelineno-0-218></a>
<a id=__codelineno-0-219 name=__codelineno-0-219 href=#__codelineno-0-219></a><span class=s2>        The order details will be in a valid JSON format containing information about the customer, items, payment, etc.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-220 name=__codelineno-0-220 href=#__codelineno-0-220></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>start_order_processing</span><span class=p>]</span>
<a id=__codelineno-0-221 name=__codelineno-0-221 href=#__codelineno-0-221></a>    <span class=p>)</span>
<a id=__codelineno-0-222 name=__codelineno-0-222 href=#__codelineno-0-222></a>
<a id=__codelineno-0-223 name=__codelineno-0-223 href=#__codelineno-0-223></a>    <span class=n>validation_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-224 name=__codelineno-0-224 href=#__codelineno-0-224></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;validation_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-225 name=__codelineno-0-225 href=#__codelineno-0-225></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;You are the validation stage of the order processing pipeline.</span>
<a id=__codelineno-0-226 name=__codelineno-0-226 href=#__codelineno-0-226></a>
<a id=__codelineno-0-227 name=__codelineno-0-227 href=#__codelineno-0-227></a><span class=s2>        Your specific role is to validate the order details before further processing.</span>
<a id=__codelineno-0-228 name=__codelineno-0-228 href=#__codelineno-0-228></a><span class=s2>        Focus on:</span>
<a id=__codelineno-0-229 name=__codelineno-0-229 href=#__codelineno-0-229></a><span class=s2>        - Running a validation check, using the run_validation_check tool</span>
<a id=__codelineno-0-230 name=__codelineno-0-230 href=#__codelineno-0-230></a>
<a id=__codelineno-0-231 name=__codelineno-0-231 href=#__codelineno-0-231></a><span class=s2>        When submitting your results, create a ValidationResult object with:</span>
<a id=__codelineno-0-232 name=__codelineno-0-232 href=#__codelineno-0-232></a><span class=s2>        - is_valid: boolean indicating if the order passed validation</span>
<a id=__codelineno-0-233 name=__codelineno-0-233 href=#__codelineno-0-233></a><span class=s2>        - error_message: explanation if validation failed (optional)</span>
<a id=__codelineno-0-234 name=__codelineno-0-234 href=#__codelineno-0-234></a><span class=s2>        - validation_details: any additional validation information (optional)</span>
<a id=__codelineno-0-235 name=__codelineno-0-235 href=#__codelineno-0-235></a>
<a id=__codelineno-0-236 name=__codelineno-0-236 href=#__codelineno-0-236></a><span class=s2>        Always use the run_validation_check tool before using the complete_validation tool to submit your ValidationResult and move the order to the next stage.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-237 name=__codelineno-0-237 href=#__codelineno-0-237></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>run_validation_check</span><span class=p>,</span> <span class=n>complete_validation</span><span class=p>]</span>
<a id=__codelineno-0-238 name=__codelineno-0-238 href=#__codelineno-0-238></a>    <span class=p>)</span>
<a id=__codelineno-0-239 name=__codelineno-0-239 href=#__codelineno-0-239></a>
<a id=__codelineno-0-240 name=__codelineno-0-240 href=#__codelineno-0-240></a>    <span class=n>inventory_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-241 name=__codelineno-0-241 href=#__codelineno-0-241></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;inventory_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-242 name=__codelineno-0-242 href=#__codelineno-0-242></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;You are the inventory stage of the order processing pipeline.</span>
<a id=__codelineno-0-243 name=__codelineno-0-243 href=#__codelineno-0-243></a>
<a id=__codelineno-0-244 name=__codelineno-0-244 href=#__codelineno-0-244></a><span class=s2>        Your specific role is to check if all items in the order are available in inventory.</span>
<a id=__codelineno-0-245 name=__codelineno-0-245 href=#__codelineno-0-245></a><span class=s2>        Focus on:</span>
<a id=__codelineno-0-246 name=__codelineno-0-246 href=#__codelineno-0-246></a><span class=s2>        - Running an inventory check using the run_inventory_check tool</span>
<a id=__codelineno-0-247 name=__codelineno-0-247 href=#__codelineno-0-247></a><span class=s2>        - Verifying each item&#39;s availability</span>
<a id=__codelineno-0-248 name=__codelineno-0-248 href=#__codelineno-0-248></a><span class=s2>        - Checking if requested quantities are in stock</span>
<a id=__codelineno-0-249 name=__codelineno-0-249 href=#__codelineno-0-249></a><span class=s2>        - Reserving the items for this order</span>
<a id=__codelineno-0-250 name=__codelineno-0-250 href=#__codelineno-0-250></a><span class=s2>        - Updating inventory counts</span>
<a id=__codelineno-0-251 name=__codelineno-0-251 href=#__codelineno-0-251></a>
<a id=__codelineno-0-252 name=__codelineno-0-252 href=#__codelineno-0-252></a><span class=s2>        When submitting your results, create an InventoryResult object with:</span>
<a id=__codelineno-0-253 name=__codelineno-0-253 href=#__codelineno-0-253></a><span class=s2>        - items_available: boolean indicating if all items are available</span>
<a id=__codelineno-0-254 name=__codelineno-0-254 href=#__codelineno-0-254></a><span class=s2>        - error_message: explanation if any items are out of stock (optional)</span>
<a id=__codelineno-0-255 name=__codelineno-0-255 href=#__codelineno-0-255></a><span class=s2>        - reserved_items: details of items reserved for this order (optional)</span>
<a id=__codelineno-0-256 name=__codelineno-0-256 href=#__codelineno-0-256></a>
<a id=__codelineno-0-257 name=__codelineno-0-257 href=#__codelineno-0-257></a><span class=s2>        Always use the run_inventory_check tool to do an inventory check before using the complete_inventory_check tool to submit your InventoryResult and move the order to the next stage.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-258 name=__codelineno-0-258 href=#__codelineno-0-258></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>run_inventory_check</span><span class=p>,</span> <span class=n>complete_inventory_check</span><span class=p>]</span>
<a id=__codelineno-0-259 name=__codelineno-0-259 href=#__codelineno-0-259></a>    <span class=p>)</span>
<a id=__codelineno-0-260 name=__codelineno-0-260 href=#__codelineno-0-260></a>
<a id=__codelineno-0-261 name=__codelineno-0-261 href=#__codelineno-0-261></a>    <span class=n>payment_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-262 name=__codelineno-0-262 href=#__codelineno-0-262></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;payment_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-263 name=__codelineno-0-263 href=#__codelineno-0-263></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;You are the payment processing stage of the order processing pipeline.</span>
<a id=__codelineno-0-264 name=__codelineno-0-264 href=#__codelineno-0-264></a>
<a id=__codelineno-0-265 name=__codelineno-0-265 href=#__codelineno-0-265></a><span class=s2>        Your specific role is to process the payment for the order.</span>
<a id=__codelineno-0-266 name=__codelineno-0-266 href=#__codelineno-0-266></a><span class=s2>        Focus on:</span>
<a id=__codelineno-0-267 name=__codelineno-0-267 href=#__codelineno-0-267></a><span class=s2>        - Running the check_payment_info tool to check the validity of the payment information</span>
<a id=__codelineno-0-268 name=__codelineno-0-268 href=#__codelineno-0-268></a><span class=s2>        - Verifying payment information</span>
<a id=__codelineno-0-269 name=__codelineno-0-269 href=#__codelineno-0-269></a><span class=s2>        - Processing the payment transaction</span>
<a id=__codelineno-0-270 name=__codelineno-0-270 href=#__codelineno-0-270></a><span class=s2>        - Recording payment details</span>
<a id=__codelineno-0-271 name=__codelineno-0-271 href=#__codelineno-0-271></a><span class=s2>        - Handling payment errors or rejections</span>
<a id=__codelineno-0-272 name=__codelineno-0-272 href=#__codelineno-0-272></a>
<a id=__codelineno-0-273 name=__codelineno-0-273 href=#__codelineno-0-273></a><span class=s2>        When submitting your results, create a PaymentResult object with:</span>
<a id=__codelineno-0-274 name=__codelineno-0-274 href=#__codelineno-0-274></a><span class=s2>        - payment_successful: boolean indicating if payment was processed successfully</span>
<a id=__codelineno-0-275 name=__codelineno-0-275 href=#__codelineno-0-275></a><span class=s2>        - error_message: explanation if payment failed (optional)</span>
<a id=__codelineno-0-276 name=__codelineno-0-276 href=#__codelineno-0-276></a><span class=s2>        - transaction_details: details of the payment transaction (optional)</span>
<a id=__codelineno-0-277 name=__codelineno-0-277 href=#__codelineno-0-277></a>
<a id=__codelineno-0-278 name=__codelineno-0-278 href=#__codelineno-0-278></a><span class=s2>        Always use the check_payment_info tool before running the complete_payment_processing tool to submit your PaymentResult and move the order to the next stage.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-279 name=__codelineno-0-279 href=#__codelineno-0-279></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>check_payment_info</span><span class=p>,</span> <span class=n>complete_payment_processing</span><span class=p>]</span>
<a id=__codelineno-0-280 name=__codelineno-0-280 href=#__codelineno-0-280></a>    <span class=p>)</span>
<a id=__codelineno-0-281 name=__codelineno-0-281 href=#__codelineno-0-281></a>
<a id=__codelineno-0-282 name=__codelineno-0-282 href=#__codelineno-0-282></a>    <span class=n>fulfillment_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-283 name=__codelineno-0-283 href=#__codelineno-0-283></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;fulfillment_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-284 name=__codelineno-0-284 href=#__codelineno-0-284></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;You are the fulfillment stage of the order processing pipeline.</span>
<a id=__codelineno-0-285 name=__codelineno-0-285 href=#__codelineno-0-285></a>
<a id=__codelineno-0-286 name=__codelineno-0-286 href=#__codelineno-0-286></a><span class=s2>        Your specific role is to create fulfillment instructions for the order.</span>
<a id=__codelineno-0-287 name=__codelineno-0-287 href=#__codelineno-0-287></a><span class=s2>        Focus on:</span>
<a id=__codelineno-0-288 name=__codelineno-0-288 href=#__codelineno-0-288></a><span class=s2>        - Creating picking instructions for warehouse staff</span>
<a id=__codelineno-0-289 name=__codelineno-0-289 href=#__codelineno-0-289></a><span class=s2>        - Generating shipping labels</span>
<a id=__codelineno-0-290 name=__codelineno-0-290 href=#__codelineno-0-290></a><span class=s2>        - Selecting appropriate packaging</span>
<a id=__codelineno-0-291 name=__codelineno-0-291 href=#__codelineno-0-291></a><span class=s2>        - Determining shipping method based on customer selection</span>
<a id=__codelineno-0-292 name=__codelineno-0-292 href=#__codelineno-0-292></a>
<a id=__codelineno-0-293 name=__codelineno-0-293 href=#__codelineno-0-293></a><span class=s2>        When submitting your results, create a FulfillmentResult object with:</span>
<a id=__codelineno-0-294 name=__codelineno-0-294 href=#__codelineno-0-294></a><span class=s2>        - fulfillment_instructions: detailed instructions for order fulfillment</span>
<a id=__codelineno-0-295 name=__codelineno-0-295 href=#__codelineno-0-295></a><span class=s2>        - shipping_details: information about shipping method, tracking, etc.</span>
<a id=__codelineno-0-296 name=__codelineno-0-296 href=#__codelineno-0-296></a><span class=s2>        - estimated_delivery: expected delivery timeframe</span>
<a id=__codelineno-0-297 name=__codelineno-0-297 href=#__codelineno-0-297></a>
<a id=__codelineno-0-298 name=__codelineno-0-298 href=#__codelineno-0-298></a><span class=s2>        Always use the complete_fulfillment tool to submit your FulfillmentResult and move the order to the next stage.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-299 name=__codelineno-0-299 href=#__codelineno-0-299></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>complete_fulfillment</span><span class=p>]</span>
<a id=__codelineno-0-300 name=__codelineno-0-300 href=#__codelineno-0-300></a>    <span class=p>)</span>
<a id=__codelineno-0-301 name=__codelineno-0-301 href=#__codelineno-0-301></a>
<a id=__codelineno-0-302 name=__codelineno-0-302 href=#__codelineno-0-302></a>    <span class=n>notification_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-303 name=__codelineno-0-303 href=#__codelineno-0-303></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;notification_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-304 name=__codelineno-0-304 href=#__codelineno-0-304></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;You are the notification stage of the order processing pipeline.</span>
<a id=__codelineno-0-305 name=__codelineno-0-305 href=#__codelineno-0-305></a>
<a id=__codelineno-0-306 name=__codelineno-0-306 href=#__codelineno-0-306></a><span class=s2>        Your specific role is to notify the customer about their order status.</span>
<a id=__codelineno-0-307 name=__codelineno-0-307 href=#__codelineno-0-307></a><span class=s2>        Focus on:</span>
<a id=__codelineno-0-308 name=__codelineno-0-308 href=#__codelineno-0-308></a><span class=s2>        - Creating a clear order confirmation message</span>
<a id=__codelineno-0-309 name=__codelineno-0-309 href=#__codelineno-0-309></a><span class=s2>        - Including all relevant order details</span>
<a id=__codelineno-0-310 name=__codelineno-0-310 href=#__codelineno-0-310></a><span class=s2>        - Providing shipping and tracking information</span>
<a id=__codelineno-0-311 name=__codelineno-0-311 href=#__codelineno-0-311></a><span class=s2>        - Setting expectations for next steps</span>
<a id=__codelineno-0-312 name=__codelineno-0-312 href=#__codelineno-0-312></a>
<a id=__codelineno-0-313 name=__codelineno-0-313 href=#__codelineno-0-313></a><span class=s2>        When submitting your results, create a NotificationResult object with:</span>
<a id=__codelineno-0-314 name=__codelineno-0-314 href=#__codelineno-0-314></a><span class=s2>        - notification_sent: boolean indicating if notification was sent</span>
<a id=__codelineno-0-315 name=__codelineno-0-315 href=#__codelineno-0-315></a><span class=s2>        - notification_method: method used to notify the customer (email, SMS, etc.)</span>
<a id=__codelineno-0-316 name=__codelineno-0-316 href=#__codelineno-0-316></a><span class=s2>        - notification_content: content of the notification message</span>
<a id=__codelineno-0-317 name=__codelineno-0-317 href=#__codelineno-0-317></a>
<a id=__codelineno-0-318 name=__codelineno-0-318 href=#__codelineno-0-318></a><span class=s2>        Always use the complete_notification tool to submit your NotificationResult and complete the order processing pipeline.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-319 name=__codelineno-0-319 href=#__codelineno-0-319></a>        <span class=n>functions</span><span class=o>=</span><span class=p>[</span><span class=n>complete_notification</span><span class=p>]</span>
<a id=__codelineno-0-320 name=__codelineno-0-320 href=#__codelineno-0-320></a>    <span class=p>)</span>
<a id=__codelineno-0-321 name=__codelineno-0-321 href=#__codelineno-0-321></a>
<a id=__codelineno-0-322 name=__codelineno-0-322 href=#__codelineno-0-322></a><span class=c1># User agent for interaction</span>
<a id=__codelineno-0-323 name=__codelineno-0-323 href=#__codelineno-0-323></a><span class=n>user</span> <span class=o>=</span> <span class=n>UserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-0-324 name=__codelineno-0-324 href=#__codelineno-0-324></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-325 name=__codelineno-0-325 href=#__codelineno-0-325></a>    <span class=n>code_execution_config</span><span class=o>=</span><span class=kc>False</span>
<a id=__codelineno-0-326 name=__codelineno-0-326 href=#__codelineno-0-326></a><span class=p>)</span>
<a id=__codelineno-0-327 name=__codelineno-0-327 href=#__codelineno-0-327></a>
<a id=__codelineno-0-328 name=__codelineno-0-328 href=#__codelineno-0-328></a><span class=c1># Register handoffs for the pipeline</span>
<a id=__codelineno-0-329 name=__codelineno-0-329 href=#__codelineno-0-329></a><span class=c1># Entry agent starts the pipeline</span>
<a id=__codelineno-0-330 name=__codelineno-0-330 href=#__codelineno-0-330></a><span class=n>entry_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>add_context_condition</span><span class=p>(</span>
<a id=__codelineno-0-331 name=__codelineno-0-331 href=#__codelineno-0-331></a>    <span class=n>OnContextCondition</span><span class=p>(</span>
<a id=__codelineno-0-332 name=__codelineno-0-332 href=#__codelineno-0-332></a>        <span class=n>target</span><span class=o>=</span><span class=n>AgentTarget</span><span class=p>(</span><span class=n>validation_agent</span><span class=p>),</span>
<a id=__codelineno-0-333 name=__codelineno-0-333 href=#__codelineno-0-333></a>        <span class=n>condition</span><span class=o>=</span><span class=n>ExpressionContextCondition</span><span class=p>(</span><span class=n>ContextExpression</span><span class=p>(</span><span class=s2>&quot;$</span><span class=si>{pipeline_started}</span><span class=s2> == True and $</span><span class=si>{validation_completed}</span><span class=s2> == False&quot;</span><span class=p>))</span>
<a id=__codelineno-0-334 name=__codelineno-0-334 href=#__codelineno-0-334></a>    <span class=p>),</span>
<a id=__codelineno-0-335 name=__codelineno-0-335 href=#__codelineno-0-335></a><span class=p>)</span>
<a id=__codelineno-0-336 name=__codelineno-0-336 href=#__codelineno-0-336></a><span class=n>entry_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>set_after_work</span><span class=p>(</span><span class=n>RevertToUserTarget</span><span class=p>())</span>
<a id=__codelineno-0-337 name=__codelineno-0-337 href=#__codelineno-0-337></a>
<a id=__codelineno-0-338 name=__codelineno-0-338 href=#__codelineno-0-338></a><span class=c1># Validation agent passes to Inventory agent if validation succeeds</span>
<a id=__codelineno-0-339 name=__codelineno-0-339 href=#__codelineno-0-339></a><span class=n>validation_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>set_after_work</span><span class=p>(</span><span class=n>RevertToUserTarget</span><span class=p>())</span>
<a id=__codelineno-0-340 name=__codelineno-0-340 href=#__codelineno-0-340></a>
<a id=__codelineno-0-341 name=__codelineno-0-341 href=#__codelineno-0-341></a><span class=c1># Inventory agent passes to Payment agent if inventory check succeeds</span>
<a id=__codelineno-0-342 name=__codelineno-0-342 href=#__codelineno-0-342></a><span class=n>inventory_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>set_after_work</span><span class=p>(</span><span class=n>RevertToUserTarget</span><span class=p>())</span>
<a id=__codelineno-0-343 name=__codelineno-0-343 href=#__codelineno-0-343></a>
<a id=__codelineno-0-344 name=__codelineno-0-344 href=#__codelineno-0-344></a><span class=c1># Payment agent passes to Fulfillment agent if payment succeeds</span>
<a id=__codelineno-0-345 name=__codelineno-0-345 href=#__codelineno-0-345></a><span class=n>payment_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>set_after_work</span><span class=p>(</span><span class=n>RevertToUserTarget</span><span class=p>())</span>
<a id=__codelineno-0-346 name=__codelineno-0-346 href=#__codelineno-0-346></a>
<a id=__codelineno-0-347 name=__codelineno-0-347 href=#__codelineno-0-347></a><span class=c1># Fulfillment agent passes to Notification agent</span>
<a id=__codelineno-0-348 name=__codelineno-0-348 href=#__codelineno-0-348></a><span class=n>fulfillment_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>set_after_work</span><span class=p>(</span><span class=n>AgentTarget</span><span class=p>(</span><span class=n>notification_agent</span><span class=p>))</span>
<a id=__codelineno-0-349 name=__codelineno-0-349 href=#__codelineno-0-349></a>
<a id=__codelineno-0-350 name=__codelineno-0-350 href=#__codelineno-0-350></a><span class=c1># Notification agent finishes the pipeline and returns to user</span>
<a id=__codelineno-0-351 name=__codelineno-0-351 href=#__codelineno-0-351></a><span class=n>notification_agent</span><span class=o>.</span><span class=n>handoffs</span><span class=o>.</span><span class=n>set_after_work</span><span class=p>(</span><span class=n>RevertToUserTarget</span><span class=p>())</span>
<a id=__codelineno-0-352 name=__codelineno-0-352 href=#__codelineno-0-352></a>
<a id=__codelineno-0-353 name=__codelineno-0-353 href=#__codelineno-0-353></a><span class=c1># Run the pipeline</span>
<a id=__codelineno-0-354 name=__codelineno-0-354 href=#__codelineno-0-354></a><span class=k>def</span><span class=w> </span><span class=nf>run_pipeline_pattern</span><span class=p>():</span>
<a id=__codelineno-0-355 name=__codelineno-0-355 href=#__codelineno-0-355></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the pipeline pattern for e-commerce order processing&quot;&quot;&quot;</span>
<a id=__codelineno-0-356 name=__codelineno-0-356 href=#__codelineno-0-356></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Initiating Pipeline Pattern for E-commerce Order Processing...&quot;</span><span class=p>)</span>
<a id=__codelineno-0-357 name=__codelineno-0-357 href=#__codelineno-0-357></a>
<a id=__codelineno-0-358 name=__codelineno-0-358 href=#__codelineno-0-358></a>    <span class=c1># Sample order to process</span>
<a id=__codelineno-0-359 name=__codelineno-0-359 href=#__codelineno-0-359></a>    <span class=n>sample_order</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-360 name=__codelineno-0-360 href=#__codelineno-0-360></a>        <span class=s2>&quot;order_id&quot;</span><span class=p>:</span> <span class=s2>&quot;ORD-12345&quot;</span><span class=p>,</span>
<a id=__codelineno-0-361 name=__codelineno-0-361 href=#__codelineno-0-361></a>        <span class=s2>&quot;customer&quot;</span><span class=p>:</span> <span class=p>{</span>
<a id=__codelineno-0-362 name=__codelineno-0-362 href=#__codelineno-0-362></a>            <span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=s2>&quot;CUST-789&quot;</span><span class=p>,</span>
<a id=__codelineno-0-363 name=__codelineno-0-363 href=#__codelineno-0-363></a>            <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Jane Smith&quot;</span><span class=p>,</span>
<a id=__codelineno-0-364 name=__codelineno-0-364 href=#__codelineno-0-364></a>            <span class=s2>&quot;email&quot;</span><span class=p>:</span> <span class=s2>&quot;jane.smith@example.com&quot;</span><span class=p>,</span>
<a id=__codelineno-0-365 name=__codelineno-0-365 href=#__codelineno-0-365></a>            <span class=s2>&quot;phone&quot;</span><span class=p>:</span> <span class=s2>&quot;555-123-4567&quot;</span><span class=p>,</span>
<a id=__codelineno-0-366 name=__codelineno-0-366 href=#__codelineno-0-366></a>            <span class=s2>&quot;shipping_address&quot;</span><span class=p>:</span> <span class=p>{</span>
<a id=__codelineno-0-367 name=__codelineno-0-367 href=#__codelineno-0-367></a>                <span class=s2>&quot;street&quot;</span><span class=p>:</span> <span class=s2>&quot;123 Main St&quot;</span><span class=p>,</span>
<a id=__codelineno-0-368 name=__codelineno-0-368 href=#__codelineno-0-368></a>                <span class=s2>&quot;city&quot;</span><span class=p>:</span> <span class=s2>&quot;Anytown&quot;</span><span class=p>,</span>
<a id=__codelineno-0-369 name=__codelineno-0-369 href=#__codelineno-0-369></a>                <span class=s2>&quot;state&quot;</span><span class=p>:</span> <span class=s2>&quot;CA&quot;</span><span class=p>,</span>
<a id=__codelineno-0-370 name=__codelineno-0-370 href=#__codelineno-0-370></a>                <span class=s2>&quot;zip&quot;</span><span class=p>:</span> <span class=s2>&quot;90210&quot;</span><span class=p>,</span>
<a id=__codelineno-0-371 name=__codelineno-0-371 href=#__codelineno-0-371></a>                <span class=s2>&quot;country&quot;</span><span class=p>:</span> <span class=s2>&quot;USA&quot;</span>
<a id=__codelineno-0-372 name=__codelineno-0-372 href=#__codelineno-0-372></a>            <span class=p>},</span>
<a id=__codelineno-0-373 name=__codelineno-0-373 href=#__codelineno-0-373></a>            <span class=s2>&quot;billing_address&quot;</span><span class=p>:</span> <span class=p>{</span>
<a id=__codelineno-0-374 name=__codelineno-0-374 href=#__codelineno-0-374></a>                <span class=s2>&quot;street&quot;</span><span class=p>:</span> <span class=s2>&quot;123 Main St&quot;</span><span class=p>,</span>
<a id=__codelineno-0-375 name=__codelineno-0-375 href=#__codelineno-0-375></a>                <span class=s2>&quot;city&quot;</span><span class=p>:</span> <span class=s2>&quot;Anytown&quot;</span><span class=p>,</span>
<a id=__codelineno-0-376 name=__codelineno-0-376 href=#__codelineno-0-376></a>                <span class=s2>&quot;state&quot;</span><span class=p>:</span> <span class=s2>&quot;CA&quot;</span><span class=p>,</span>
<a id=__codelineno-0-377 name=__codelineno-0-377 href=#__codelineno-0-377></a>                <span class=s2>&quot;zip&quot;</span><span class=p>:</span> <span class=s2>&quot;90210&quot;</span><span class=p>,</span>
<a id=__codelineno-0-378 name=__codelineno-0-378 href=#__codelineno-0-378></a>                <span class=s2>&quot;country&quot;</span><span class=p>:</span> <span class=s2>&quot;USA&quot;</span>
<a id=__codelineno-0-379 name=__codelineno-0-379 href=#__codelineno-0-379></a>            <span class=p>}</span>
<a id=__codelineno-0-380 name=__codelineno-0-380 href=#__codelineno-0-380></a>        <span class=p>},</span>
<a id=__codelineno-0-381 name=__codelineno-0-381 href=#__codelineno-0-381></a>        <span class=s2>&quot;order_items&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-0-382 name=__codelineno-0-382 href=#__codelineno-0-382></a>            <span class=p>{</span>
<a id=__codelineno-0-383 name=__codelineno-0-383 href=#__codelineno-0-383></a>                <span class=s2>&quot;item_id&quot;</span><span class=p>:</span> <span class=s2>&quot;PROD-001&quot;</span><span class=p>,</span>
<a id=__codelineno-0-384 name=__codelineno-0-384 href=#__codelineno-0-384></a>                <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Smartphone XYZ&quot;</span><span class=p>,</span>
<a id=__codelineno-0-385 name=__codelineno-0-385 href=#__codelineno-0-385></a>                <span class=s2>&quot;quantity&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-0-386 name=__codelineno-0-386 href=#__codelineno-0-386></a>                <span class=s2>&quot;price&quot;</span><span class=p>:</span> <span class=mf>699.99</span>
<a id=__codelineno-0-387 name=__codelineno-0-387 href=#__codelineno-0-387></a>            <span class=p>},</span>
<a id=__codelineno-0-388 name=__codelineno-0-388 href=#__codelineno-0-388></a>            <span class=p>{</span>
<a id=__codelineno-0-389 name=__codelineno-0-389 href=#__codelineno-0-389></a>                <span class=s2>&quot;item_id&quot;</span><span class=p>:</span> <span class=s2>&quot;PROD-042&quot;</span><span class=p>,</span>
<a id=__codelineno-0-390 name=__codelineno-0-390 href=#__codelineno-0-390></a>                <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Phone Case&quot;</span><span class=p>,</span>
<a id=__codelineno-0-391 name=__codelineno-0-391 href=#__codelineno-0-391></a>                <span class=s2>&quot;quantity&quot;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-0-392 name=__codelineno-0-392 href=#__codelineno-0-392></a>                <span class=s2>&quot;price&quot;</span><span class=p>:</span> <span class=mf>24.99</span>
<a id=__codelineno-0-393 name=__codelineno-0-393 href=#__codelineno-0-393></a>            <span class=p>}</span>
<a id=__codelineno-0-394 name=__codelineno-0-394 href=#__codelineno-0-394></a>        <span class=p>],</span>
<a id=__codelineno-0-395 name=__codelineno-0-395 href=#__codelineno-0-395></a>        <span class=s2>&quot;shipping_method&quot;</span><span class=p>:</span> <span class=s2>&quot;express&quot;</span><span class=p>,</span>
<a id=__codelineno-0-396 name=__codelineno-0-396 href=#__codelineno-0-396></a>        <span class=s2>&quot;payment_info&quot;</span><span class=p>:</span> <span class=p>{</span>
<a id=__codelineno-0-397 name=__codelineno-0-397 href=#__codelineno-0-397></a>            <span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;credit_card&quot;</span><span class=p>,</span>
<a id=__codelineno-0-398 name=__codelineno-0-398 href=#__codelineno-0-398></a>            <span class=s2>&quot;card_last_four&quot;</span><span class=p>:</span> <span class=s2>&quot;4242&quot;</span><span class=p>,</span>
<a id=__codelineno-0-399 name=__codelineno-0-399 href=#__codelineno-0-399></a>            <span class=s2>&quot;amount&quot;</span><span class=p>:</span> <span class=mf>749.97</span><span class=p>,</span>
<a id=__codelineno-0-400 name=__codelineno-0-400 href=#__codelineno-0-400></a>            <span class=s2>&quot;currency&quot;</span><span class=p>:</span> <span class=s2>&quot;USD&quot;</span>
<a id=__codelineno-0-401 name=__codelineno-0-401 href=#__codelineno-0-401></a>        <span class=p>},</span>
<a id=__codelineno-0-402 name=__codelineno-0-402 href=#__codelineno-0-402></a>        <span class=s2>&quot;promocode&quot;</span><span class=p>:</span> <span class=s2>&quot;SUMMER10&quot;</span><span class=p>,</span>
<a id=__codelineno-0-403 name=__codelineno-0-403 href=#__codelineno-0-403></a>        <span class=s2>&quot;order_date&quot;</span><span class=p>:</span> <span class=s2>&quot;2025-03-08T14:30:00Z&quot;</span>
<a id=__codelineno-0-404 name=__codelineno-0-404 href=#__codelineno-0-404></a>    <span class=p>}</span>
<a id=__codelineno-0-405 name=__codelineno-0-405 href=#__codelineno-0-405></a>
<a id=__codelineno-0-406 name=__codelineno-0-406 href=#__codelineno-0-406></a>    <span class=n>sample_order_json</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>sample_order</span><span class=p>)</span>
<a id=__codelineno-0-407 name=__codelineno-0-407 href=#__codelineno-0-407></a>
<a id=__codelineno-0-408 name=__codelineno-0-408 href=#__codelineno-0-408></a>    <span class=n>agent_pattern</span> <span class=o>=</span> <span class=n>DefaultPattern</span><span class=p>(</span>
<a id=__codelineno-0-409 name=__codelineno-0-409 href=#__codelineno-0-409></a>        <span class=n>initial_agent</span><span class=o>=</span><span class=n>entry_agent</span><span class=p>,</span>
<a id=__codelineno-0-410 name=__codelineno-0-410 href=#__codelineno-0-410></a>        <span class=n>agents</span><span class=o>=</span><span class=p>[</span>
<a id=__codelineno-0-411 name=__codelineno-0-411 href=#__codelineno-0-411></a>            <span class=n>entry_agent</span><span class=p>,</span>
<a id=__codelineno-0-412 name=__codelineno-0-412 href=#__codelineno-0-412></a>            <span class=n>validation_agent</span><span class=p>,</span>
<a id=__codelineno-0-413 name=__codelineno-0-413 href=#__codelineno-0-413></a>            <span class=n>inventory_agent</span><span class=p>,</span>
<a id=__codelineno-0-414 name=__codelineno-0-414 href=#__codelineno-0-414></a>            <span class=n>payment_agent</span><span class=p>,</span>
<a id=__codelineno-0-415 name=__codelineno-0-415 href=#__codelineno-0-415></a>            <span class=n>fulfillment_agent</span><span class=p>,</span>
<a id=__codelineno-0-416 name=__codelineno-0-416 href=#__codelineno-0-416></a>            <span class=n>notification_agent</span>
<a id=__codelineno-0-417 name=__codelineno-0-417 href=#__codelineno-0-417></a>        <span class=p>],</span>
<a id=__codelineno-0-418 name=__codelineno-0-418 href=#__codelineno-0-418></a>        <span class=n>user_agent</span><span class=o>=</span><span class=n>user</span><span class=p>,</span>
<a id=__codelineno-0-419 name=__codelineno-0-419 href=#__codelineno-0-419></a>        <span class=n>context_variables</span><span class=o>=</span><span class=n>shared_context</span><span class=p>,</span>
<a id=__codelineno-0-420 name=__codelineno-0-420 href=#__codelineno-0-420></a>    <span class=p>)</span>
<a id=__codelineno-0-421 name=__codelineno-0-421 href=#__codelineno-0-421></a>
<a id=__codelineno-0-422 name=__codelineno-0-422 href=#__codelineno-0-422></a>    <span class=n>chat_result</span><span class=p>,</span> <span class=n>final_context</span><span class=p>,</span> <span class=n>last_agent</span> <span class=o>=</span> <span class=n>initiate_group_chat</span><span class=p>(</span>
<a id=__codelineno-0-423 name=__codelineno-0-423 href=#__codelineno-0-423></a>        <span class=n>pattern</span><span class=o>=</span><span class=n>agent_pattern</span><span class=p>,</span>
<a id=__codelineno-0-424 name=__codelineno-0-424 href=#__codelineno-0-424></a>        <span class=n>messages</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;Please process this order through the pipeline:</span><span class=se>\n\n</span><span class=si>{</span><span class=n>sample_order_json</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-425 name=__codelineno-0-425 href=#__codelineno-0-425></a>        <span class=n>max_rounds</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span>
<a id=__codelineno-0-426 name=__codelineno-0-426 href=#__codelineno-0-426></a>    <span class=p>)</span>
<a id=__codelineno-0-427 name=__codelineno-0-427 href=#__codelineno-0-427></a>
<a id=__codelineno-0-428 name=__codelineno-0-428 href=#__codelineno-0-428></a>    <span class=k>if</span> <span class=n>final_context</span><span class=p>[</span><span class=s2>&quot;pipeline_completed&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-429 name=__codelineno-0-429 href=#__codelineno-0-429></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Order processing completed successfully!&quot;</span><span class=p>)</span>
<a id=__codelineno-0-430 name=__codelineno-0-430 href=#__codelineno-0-430></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>===== ORDER PROCESSING SUMMARY =====</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-431 name=__codelineno-0-431 href=#__codelineno-0-431></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Order ID: </span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;order_details&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;order_id&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-432 name=__codelineno-0-432 href=#__codelineno-0-432></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Customer: </span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;order_details&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;customer&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-433 name=__codelineno-0-433 href=#__codelineno-0-433></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Total Amount: $</span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;order_details&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;payment_info&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;amount&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-434 name=__codelineno-0-434 href=#__codelineno-0-434></a>
<a id=__codelineno-0-435 name=__codelineno-0-435 href=#__codelineno-0-435></a>        <span class=c1># Show the progression through pipeline stages</span>
<a id=__codelineno-0-436 name=__codelineno-0-436 href=#__codelineno-0-436></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>===== PIPELINE PROGRESSION =====</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-437 name=__codelineno-0-437 href=#__codelineno-0-437></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Validation: </span><span class=si>{</span><span class=s1>&#39;✅ Passed&#39;</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;validation_results&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;is_valid&#39;</span><span class=p>)</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;❌ Failed&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-438 name=__codelineno-0-438 href=#__codelineno-0-438></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Inventory: </span><span class=si>{</span><span class=s1>&#39;✅ Available&#39;</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;inventory_results&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;items_available&#39;</span><span class=p>)</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;❌ Unavailable&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-439 name=__codelineno-0-439 href=#__codelineno-0-439></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Payment: </span><span class=si>{</span><span class=s1>&#39;✅ Successful&#39;</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;payment_results&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;payment_successful&#39;</span><span class=p>)</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;❌ Failed&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-440 name=__codelineno-0-440 href=#__codelineno-0-440></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Fulfillment: </span><span class=si>{</span><span class=s1>&#39;✅ Completed&#39;</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=s1>&#39;fulfillment_results&#39;</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=n>final_context</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;❌ Not reached&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-441 name=__codelineno-0-441 href=#__codelineno-0-441></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Notification: </span><span class=si>{</span><span class=s1>&#39;✅ Sent&#39;</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;notification_results&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notification_sent&#39;</span><span class=p>)</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;❌ Not sent&#39;</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-442 name=__codelineno-0-442 href=#__codelineno-0-442></a>
<a id=__codelineno-0-443 name=__codelineno-0-443 href=#__codelineno-0-443></a>        <span class=c1># Display shipping information</span>
<a id=__codelineno-0-444 name=__codelineno-0-444 href=#__codelineno-0-444></a>        <span class=k>if</span> <span class=s1>&#39;fulfillment_results&#39;</span> <span class=ow>in</span> <span class=n>final_context</span><span class=p>:</span>
<a id=__codelineno-0-445 name=__codelineno-0-445 href=#__codelineno-0-445></a>            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>===== SHIPPING INFORMATION =====</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-446 name=__codelineno-0-446 href=#__codelineno-0-446></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Shipping Method: </span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;fulfillment_results&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;shipping_details&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-447 name=__codelineno-0-447 href=#__codelineno-0-447></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Estimated Delivery: </span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;fulfillment_results&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;estimated_delivery&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-448 name=__codelineno-0-448 href=#__codelineno-0-448></a>
<a id=__codelineno-0-449 name=__codelineno-0-449 href=#__codelineno-0-449></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n\n</span><span class=s2>===== SPEAKER ORDER =====</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-450 name=__codelineno-0-450 href=#__codelineno-0-450></a>        <span class=k>for</span> <span class=n>message</span> <span class=ow>in</span> <span class=n>chat_result</span><span class=o>.</span><span class=n>chat_history</span><span class=p>:</span>
<a id=__codelineno-0-451 name=__codelineno-0-451 href=#__codelineno-0-451></a>            <span class=k>if</span> <span class=s2>&quot;name&quot;</span> <span class=ow>in</span> <span class=n>message</span> <span class=ow>and</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;_Group_Tool_Executor&quot;</span><span class=p>:</span>
<a id=__codelineno-0-452 name=__codelineno-0-452 href=#__codelineno-0-452></a>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>message</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-453 name=__codelineno-0-453 href=#__codelineno-0-453></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-454 name=__codelineno-0-454 href=#__codelineno-0-454></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Order processing did not complete successfully.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-455 name=__codelineno-0-455 href=#__codelineno-0-455></a>        <span class=k>if</span> <span class=n>final_context</span><span class=p>[</span><span class=s2>&quot;has_error&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-456 name=__codelineno-0-456 href=#__codelineno-0-456></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error during </span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;error_stage&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2> stage: </span><span class=si>{</span><span class=n>final_context</span><span class=p>[</span><span class=s1>&#39;error_message&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-457 name=__codelineno-0-457 href=#__codelineno-0-457></a>
<a id=__codelineno-0-458 name=__codelineno-0-458 href=#__codelineno-0-458></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
<a id=__codelineno-0-459 name=__codelineno-0-459 href=#__codelineno-0-459></a>    <span class=n>run_pipeline_pattern</span><span class=p>()</span>
</code></pre></div> <h2 id=output>Output<a class=headerlink href=#output title="Permanent link">#</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=go>Initiating Pipeline Pattern for E-commerce Order Processing...</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=go>user (to chat_manager):</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=go>Please process this order through the pipeline:</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=go>{&quot;order_id&quot;: &quot;ORD-12345&quot;, &quot;customer&quot;: {&quot;id&quot;: &quot;CUST-789&quot;, &quot;name&quot;: &quot;Jane Smith&quot;, &quot;email&quot;: &quot;jane.smith@example.com&quot;, &quot;phone&quot;: &quot;555-123-4567&quot;, &quot;shipping_address&quot;: {&quot;street&quot;: &quot;123 Main St&quot;, &quot;city&quot;: &quot;Anytown&quot;, &quot;state&quot;: &quot;CA&quot;, &quot;zip&quot;: &quot;90210&quot;, &quot;country&quot;: &quot;USA&quot;}, &quot;billing_address&quot;: {&quot;street&quot;: &quot;123 Main St&quot;, &quot;city&quot;: &quot;Anytown&quot;, &quot;state&quot;: &quot;CA&quot;, &quot;zip&quot;: &quot;90210&quot;, &quot;country&quot;: &quot;USA&quot;}}, &quot;order_items&quot;: [{&quot;item_id&quot;: &quot;PROD-001&quot;, &quot;name&quot;: &quot;Smartphone XYZ&quot;, &quot;quantity&quot;: 1, &quot;price&quot;: 699.99}, {&quot;item_id&quot;: &quot;PROD-042&quot;, &quot;name&quot;: &quot;Phone Case&quot;, &quot;quantity&quot;: 2, &quot;price&quot;: 24.99}], &quot;shipping_method&quot;: &quot;express&quot;, &quot;payment_info&quot;: {&quot;method&quot;: &quot;credit_card&quot;, &quot;card_last_four&quot;: &quot;4242&quot;, &quot;amount&quot;: 749.97, &quot;currency&quot;: &quot;USD&quot;}, &quot;promocode&quot;: &quot;SUMMER10&quot;, &quot;order_date&quot;: &quot;2025-03-08T14:30:00Z&quot;}</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=go>Next speaker: entry_agent</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=go>entry_agent (to chat_manager):</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=go>***** Suggested tool call (call_lRGPvXdVtnqeQ5ncz18bNzNF): start_order_processing *****</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=go>Arguments:</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=go>{&quot;order_json&quot;:&quot;{\&quot;order_id\&quot;: \&quot;ORD-12345\&quot;, \&quot;customer\&quot;: {\&quot;id\&quot;: \&quot;CUST-789\&quot;, \&quot;name\&quot;: \&quot;Jane Smith\&quot;, \&quot;email\&quot;: \&quot;jane.smith@example.com\&quot;, \&quot;phone\&quot;: \&quot;555-123-4567\&quot;, \&quot;shipping_address\&quot;: {\&quot;street\&quot;: \&quot;123 Main St\&quot;, \&quot;city\&quot;: \&quot;Anytown\&quot;, \&quot;state\&quot;: \&quot;CA\&quot;, \&quot;zip\&quot;: \&quot;90210\&quot;, \&quot;country\&quot;: \&quot;USA\&quot;}, \&quot;billing_address\&quot;: {\&quot;street\&quot;: \&quot;123 Main St\&quot;, \&quot;city\&quot;: \&quot;Anytown\&quot;, \&quot;state\&quot;: \&quot;CA\&quot;, \&quot;zip\&quot;: \&quot;90210\&quot;, \&quot;country\&quot;: \&quot;USA\&quot;}}, \&quot;order_items\&quot;: [{\&quot;item_id\&quot;: \&quot;PROD-001\&quot;, \&quot;name\&quot;: \&quot;Smartphone XYZ\&quot;, \&quot;quantity\&quot;: 1, \&quot;price\&quot;: 699.99}, {\&quot;item_id\&quot;: \&quot;PROD-042\&quot;, \&quot;name\&quot;: \&quot;Phone Case\&quot;, \&quot;quantity\&quot;: 2, \&quot;price\&quot;: 24.99}], \&quot;shipping_method\&quot;: \&quot;express\&quot;, \&quot;payment_info\&quot;: {\&quot;method\&quot;: \&quot;credit_card\&quot;, \&quot;card_last_four\&quot;: \&quot;4242\&quot;, \&quot;amount\&quot;: 749.97, \&quot;currency\&quot;: \&quot;USD\&quot;}, \&quot;promocode\&quot;: \&quot;SUMMER10\&quot;, \&quot;order_date\&quot;: \&quot;2025-03-08T14:30:00Z\&quot;}&quot;}</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=go>***************************************************************************************</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION start_order_processing...</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=go>Call ID: call_lRGPvXdVtnqeQ5ncz18bNzNF</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=go>Input arguments: {&#39;order_json&#39;: &#39;{&quot;order_id&quot;: &quot;ORD-12345&quot;, &quot;customer&quot;: {&quot;id&quot;: &quot;CUST-789&quot;, &quot;name&quot;: &quot;Jane Smith&quot;, &quot;email&quot;: &quot;jane.smith@example.com&quot;, &quot;phone&quot;: &quot;555-123-4567&quot;, &quot;shipping_address&quot;: {&quot;street&quot;: &quot;123 Main St&quot;, &quot;city&quot;: &quot;Anytown&quot;, &quot;state&quot;: &quot;CA&quot;, &quot;zip&quot;: &quot;90210&quot;, &quot;country&quot;: &quot;USA&quot;}, &quot;billing_address&quot;: {&quot;street&quot;: &quot;123 Main St&quot;, &quot;city&quot;: &quot;Anytown&quot;, &quot;state&quot;: &quot;CA&quot;, &quot;zip&quot;: &quot;90210&quot;, &quot;country&quot;: &quot;USA&quot;}}, &quot;order_items&quot;: [{&quot;item_id&quot;: &quot;PROD-001&quot;, &quot;name&quot;: &quot;Smartphone XYZ&quot;, &quot;quantity&quot;: 1, &quot;price&quot;: 699.99}, {&quot;item_id&quot;: &quot;PROD-042&quot;, &quot;name&quot;: &quot;Phone Case&quot;, &quot;quantity&quot;: 2, &quot;price&quot;: 24.99}], &quot;shipping_method&quot;: &quot;express&quot;, &quot;payment_info&quot;: {&quot;method&quot;: &quot;credit_card&quot;, &quot;card_last_four&quot;: &quot;4242&quot;, &quot;amount&quot;: 749.97, &quot;currency&quot;: &quot;USD&quot;}, &quot;promocode&quot;: &quot;SUMMER10&quot;, &quot;order_date&quot;: &quot;2025-03-08T14:30:00Z&quot;}&#39;}</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=go>***** Response from calling tool (call_lRGPvXdVtnqeQ5ncz18bNzNF) *****</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=go>Order processing started for Order #ORD-12345</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=go>Next speaker: validation_agent</span>
<a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>
<a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a><span class=go>validation_agent (to chat_manager):</span>
<a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a>
<a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a><span class=go>***** Suggested tool call (call_G9hvnRUPVCIDuY08c1WOc16l): run_validation_check *****</span>
<a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a><span class=go>Arguments:</span>
<a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a><span class=go>{}</span>
<a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a><span class=go>*************************************************************************************</span>
<a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a>
<a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a>
<a id=__codelineno-1-47 name=__codelineno-1-47 href=#__codelineno-1-47></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-48 name=__codelineno-1-48 href=#__codelineno-1-48></a>
<a id=__codelineno-1-49 name=__codelineno-1-49 href=#__codelineno-1-49></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION run_validation_check...</span>
<a id=__codelineno-1-50 name=__codelineno-1-50 href=#__codelineno-1-50></a><span class=go>Call ID: call_G9hvnRUPVCIDuY08c1WOc16l</span>
<a id=__codelineno-1-51 name=__codelineno-1-51 href=#__codelineno-1-51></a><span class=go>Input arguments: {}</span>
<a id=__codelineno-1-52 name=__codelineno-1-52 href=#__codelineno-1-52></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-53 name=__codelineno-1-53 href=#__codelineno-1-53></a>
<a id=__codelineno-1-54 name=__codelineno-1-54 href=#__codelineno-1-54></a><span class=go>***** Response from calling tool (call_G9hvnRUPVCIDuY08c1WOc16l) *****</span>
<a id=__codelineno-1-55 name=__codelineno-1-55 href=#__codelineno-1-55></a><span class=go>Validation check completed successfully.</span>
<a id=__codelineno-1-56 name=__codelineno-1-56 href=#__codelineno-1-56></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-57 name=__codelineno-1-57 href=#__codelineno-1-57></a>
<a id=__codelineno-1-58 name=__codelineno-1-58 href=#__codelineno-1-58></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-59 name=__codelineno-1-59 href=#__codelineno-1-59></a>
<a id=__codelineno-1-60 name=__codelineno-1-60 href=#__codelineno-1-60></a><span class=go>Next speaker: validation_agent</span>
<a id=__codelineno-1-61 name=__codelineno-1-61 href=#__codelineno-1-61></a>
<a id=__codelineno-1-62 name=__codelineno-1-62 href=#__codelineno-1-62></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-63 name=__codelineno-1-63 href=#__codelineno-1-63></a><span class=go>validation_agent (to chat_manager):</span>
<a id=__codelineno-1-64 name=__codelineno-1-64 href=#__codelineno-1-64></a>
<a id=__codelineno-1-65 name=__codelineno-1-65 href=#__codelineno-1-65></a><span class=go>***** Suggested tool call (call_x7SK1809Lag1rduuvbe7158e): complete_validation *****</span>
<a id=__codelineno-1-66 name=__codelineno-1-66 href=#__codelineno-1-66></a><span class=go>Arguments:</span>
<a id=__codelineno-1-67 name=__codelineno-1-67 href=#__codelineno-1-67></a><span class=go>{&quot;validation_result&quot;:{&quot;is_valid&quot;:true}}</span>
<a id=__codelineno-1-68 name=__codelineno-1-68 href=#__codelineno-1-68></a><span class=go>************************************************************************************</span>
<a id=__codelineno-1-69 name=__codelineno-1-69 href=#__codelineno-1-69></a>
<a id=__codelineno-1-70 name=__codelineno-1-70 href=#__codelineno-1-70></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-71 name=__codelineno-1-71 href=#__codelineno-1-71></a>
<a id=__codelineno-1-72 name=__codelineno-1-72 href=#__codelineno-1-72></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-73 name=__codelineno-1-73 href=#__codelineno-1-73></a>
<a id=__codelineno-1-74 name=__codelineno-1-74 href=#__codelineno-1-74></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION complete_validation...</span>
<a id=__codelineno-1-75 name=__codelineno-1-75 href=#__codelineno-1-75></a><span class=go>Call ID: call_x7SK1809Lag1rduuvbe7158e</span>
<a id=__codelineno-1-76 name=__codelineno-1-76 href=#__codelineno-1-76></a><span class=go>Input arguments: {&#39;validation_result&#39;: {&#39;is_valid&#39;: True}}</span>
<a id=__codelineno-1-77 name=__codelineno-1-77 href=#__codelineno-1-77></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-78 name=__codelineno-1-78 href=#__codelineno-1-78></a>
<a id=__codelineno-1-79 name=__codelineno-1-79 href=#__codelineno-1-79></a><span class=go>***** Response from calling tool (call_x7SK1809Lag1rduuvbe7158e) *****</span>
<a id=__codelineno-1-80 name=__codelineno-1-80 href=#__codelineno-1-80></a><span class=go>Order validated successfully. Proceeding to inventory check.</span>
<a id=__codelineno-1-81 name=__codelineno-1-81 href=#__codelineno-1-81></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-82 name=__codelineno-1-82 href=#__codelineno-1-82></a>
<a id=__codelineno-1-83 name=__codelineno-1-83 href=#__codelineno-1-83></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-84 name=__codelineno-1-84 href=#__codelineno-1-84></a>
<a id=__codelineno-1-85 name=__codelineno-1-85 href=#__codelineno-1-85></a><span class=go>Next speaker: inventory_agent</span>
<a id=__codelineno-1-86 name=__codelineno-1-86 href=#__codelineno-1-86></a>
<a id=__codelineno-1-87 name=__codelineno-1-87 href=#__codelineno-1-87></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-88 name=__codelineno-1-88 href=#__codelineno-1-88></a><span class=go>inventory_agent (to chat_manager):</span>
<a id=__codelineno-1-89 name=__codelineno-1-89 href=#__codelineno-1-89></a>
<a id=__codelineno-1-90 name=__codelineno-1-90 href=#__codelineno-1-90></a><span class=go>***** Suggested tool call (call_gVZK493aZUjdyqqRXHTygbQc): run_inventory_check *****</span>
<a id=__codelineno-1-91 name=__codelineno-1-91 href=#__codelineno-1-91></a><span class=go>Arguments:</span>
<a id=__codelineno-1-92 name=__codelineno-1-92 href=#__codelineno-1-92></a><span class=go>{}</span>
<a id=__codelineno-1-93 name=__codelineno-1-93 href=#__codelineno-1-93></a><span class=go>************************************************************************************</span>
<a id=__codelineno-1-94 name=__codelineno-1-94 href=#__codelineno-1-94></a>
<a id=__codelineno-1-95 name=__codelineno-1-95 href=#__codelineno-1-95></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-96 name=__codelineno-1-96 href=#__codelineno-1-96></a>
<a id=__codelineno-1-97 name=__codelineno-1-97 href=#__codelineno-1-97></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-98 name=__codelineno-1-98 href=#__codelineno-1-98></a>
<a id=__codelineno-1-99 name=__codelineno-1-99 href=#__codelineno-1-99></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION run_inventory_check...</span>
<a id=__codelineno-1-100 name=__codelineno-1-100 href=#__codelineno-1-100></a><span class=go>Call ID: call_gVZK493aZUjdyqqRXHTygbQc</span>
<a id=__codelineno-1-101 name=__codelineno-1-101 href=#__codelineno-1-101></a><span class=go>Input arguments: {}</span>
<a id=__codelineno-1-102 name=__codelineno-1-102 href=#__codelineno-1-102></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-103 name=__codelineno-1-103 href=#__codelineno-1-103></a>
<a id=__codelineno-1-104 name=__codelineno-1-104 href=#__codelineno-1-104></a><span class=go>***** Response from calling tool (call_gVZK493aZUjdyqqRXHTygbQc) *****</span>
<a id=__codelineno-1-105 name=__codelineno-1-105 href=#__codelineno-1-105></a><span class=go>Inventory check completed successfully.</span>
<a id=__codelineno-1-106 name=__codelineno-1-106 href=#__codelineno-1-106></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-107 name=__codelineno-1-107 href=#__codelineno-1-107></a>
<a id=__codelineno-1-108 name=__codelineno-1-108 href=#__codelineno-1-108></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-109 name=__codelineno-1-109 href=#__codelineno-1-109></a>
<a id=__codelineno-1-110 name=__codelineno-1-110 href=#__codelineno-1-110></a><span class=go>Next speaker: inventory_agent</span>
<a id=__codelineno-1-111 name=__codelineno-1-111 href=#__codelineno-1-111></a>
<a id=__codelineno-1-112 name=__codelineno-1-112 href=#__codelineno-1-112></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-113 name=__codelineno-1-113 href=#__codelineno-1-113></a><span class=go>inventory_agent (to chat_manager):</span>
<a id=__codelineno-1-114 name=__codelineno-1-114 href=#__codelineno-1-114></a>
<a id=__codelineno-1-115 name=__codelineno-1-115 href=#__codelineno-1-115></a><span class=go>***** Suggested tool call (call_zgcR96Y0mAxPjQD1XA0cX7Bl): complete_inventory_check *****</span>
<a id=__codelineno-1-116 name=__codelineno-1-116 href=#__codelineno-1-116></a><span class=go>Arguments:</span>
<a id=__codelineno-1-117 name=__codelineno-1-117 href=#__codelineno-1-117></a><span class=go>{&quot;inventory_result&quot;:{&quot;items_available&quot;:true,&quot;reserved_items&quot;:[{&quot;item_id&quot;:&quot;PROD-001&quot;,&quot;quantity&quot;:1},{&quot;item_id&quot;:&quot;PROD-042&quot;,&quot;quantity&quot;:2}]}}</span>
<a id=__codelineno-1-118 name=__codelineno-1-118 href=#__codelineno-1-118></a><span class=go>*****************************************************************************************</span>
<a id=__codelineno-1-119 name=__codelineno-1-119 href=#__codelineno-1-119></a>
<a id=__codelineno-1-120 name=__codelineno-1-120 href=#__codelineno-1-120></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-121 name=__codelineno-1-121 href=#__codelineno-1-121></a>
<a id=__codelineno-1-122 name=__codelineno-1-122 href=#__codelineno-1-122></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-123 name=__codelineno-1-123 href=#__codelineno-1-123></a>
<a id=__codelineno-1-124 name=__codelineno-1-124 href=#__codelineno-1-124></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION complete_inventory_check...</span>
<a id=__codelineno-1-125 name=__codelineno-1-125 href=#__codelineno-1-125></a><span class=go>Call ID: call_zgcR96Y0mAxPjQD1XA0cX7Bl</span>
<a id=__codelineno-1-126 name=__codelineno-1-126 href=#__codelineno-1-126></a><span class=go>Input arguments: {&#39;inventory_result&#39;: {&#39;items_available&#39;: True, &#39;reserved_items&#39;: [{&#39;item_id&#39;: &#39;PROD-001&#39;, &#39;quantity&#39;: 1}, {&#39;item_id&#39;: &#39;PROD-042&#39;, &#39;quantity&#39;: 2}]}}</span>
<a id=__codelineno-1-127 name=__codelineno-1-127 href=#__codelineno-1-127></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-128 name=__codelineno-1-128 href=#__codelineno-1-128></a>
<a id=__codelineno-1-129 name=__codelineno-1-129 href=#__codelineno-1-129></a><span class=go>***** Response from calling tool (call_zgcR96Y0mAxPjQD1XA0cX7Bl) *****</span>
<a id=__codelineno-1-130 name=__codelineno-1-130 href=#__codelineno-1-130></a><span class=go>Inventory check completed successfully. Proceeding to payment processing.</span>
<a id=__codelineno-1-131 name=__codelineno-1-131 href=#__codelineno-1-131></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-132 name=__codelineno-1-132 href=#__codelineno-1-132></a>
<a id=__codelineno-1-133 name=__codelineno-1-133 href=#__codelineno-1-133></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-134 name=__codelineno-1-134 href=#__codelineno-1-134></a>
<a id=__codelineno-1-135 name=__codelineno-1-135 href=#__codelineno-1-135></a><span class=go>Next speaker: payment_agent</span>
<a id=__codelineno-1-136 name=__codelineno-1-136 href=#__codelineno-1-136></a>
<a id=__codelineno-1-137 name=__codelineno-1-137 href=#__codelineno-1-137></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-138 name=__codelineno-1-138 href=#__codelineno-1-138></a><span class=go>payment_agent (to chat_manager):</span>
<a id=__codelineno-1-139 name=__codelineno-1-139 href=#__codelineno-1-139></a>
<a id=__codelineno-1-140 name=__codelineno-1-140 href=#__codelineno-1-140></a><span class=go>***** Suggested tool call (call_Ug9Bsjf7I2i8BPD4ej3ifonm): check_payment_info *****</span>
<a id=__codelineno-1-141 name=__codelineno-1-141 href=#__codelineno-1-141></a><span class=go>Arguments:</span>
<a id=__codelineno-1-142 name=__codelineno-1-142 href=#__codelineno-1-142></a><span class=go>{}</span>
<a id=__codelineno-1-143 name=__codelineno-1-143 href=#__codelineno-1-143></a><span class=go>***********************************************************************************</span>
<a id=__codelineno-1-144 name=__codelineno-1-144 href=#__codelineno-1-144></a>
<a id=__codelineno-1-145 name=__codelineno-1-145 href=#__codelineno-1-145></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-146 name=__codelineno-1-146 href=#__codelineno-1-146></a>
<a id=__codelineno-1-147 name=__codelineno-1-147 href=#__codelineno-1-147></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-148 name=__codelineno-1-148 href=#__codelineno-1-148></a>
<a id=__codelineno-1-149 name=__codelineno-1-149 href=#__codelineno-1-149></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION check_payment_info...</span>
<a id=__codelineno-1-150 name=__codelineno-1-150 href=#__codelineno-1-150></a><span class=go>Call ID: call_Ug9Bsjf7I2i8BPD4ej3ifonm</span>
<a id=__codelineno-1-151 name=__codelineno-1-151 href=#__codelineno-1-151></a><span class=go>Input arguments: {}</span>
<a id=__codelineno-1-152 name=__codelineno-1-152 href=#__codelineno-1-152></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-153 name=__codelineno-1-153 href=#__codelineno-1-153></a>
<a id=__codelineno-1-154 name=__codelineno-1-154 href=#__codelineno-1-154></a><span class=go>***** Response from calling tool (call_Ug9Bsjf7I2i8BPD4ej3ifonm) *****</span>
<a id=__codelineno-1-155 name=__codelineno-1-155 href=#__codelineno-1-155></a><span class=go>Payment information verified successfully.</span>
<a id=__codelineno-1-156 name=__codelineno-1-156 href=#__codelineno-1-156></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-157 name=__codelineno-1-157 href=#__codelineno-1-157></a>
<a id=__codelineno-1-158 name=__codelineno-1-158 href=#__codelineno-1-158></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-159 name=__codelineno-1-159 href=#__codelineno-1-159></a>
<a id=__codelineno-1-160 name=__codelineno-1-160 href=#__codelineno-1-160></a><span class=go>Next speaker: payment_agent</span>
<a id=__codelineno-1-161 name=__codelineno-1-161 href=#__codelineno-1-161></a>
<a id=__codelineno-1-162 name=__codelineno-1-162 href=#__codelineno-1-162></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-163 name=__codelineno-1-163 href=#__codelineno-1-163></a><span class=go>payment_agent (to chat_manager):</span>
<a id=__codelineno-1-164 name=__codelineno-1-164 href=#__codelineno-1-164></a>
<a id=__codelineno-1-165 name=__codelineno-1-165 href=#__codelineno-1-165></a><span class=go>***** Suggested tool call (call_FMcK9XYNynvtjYaMxaH5H4W5): complete_payment_processing *****</span>
<a id=__codelineno-1-166 name=__codelineno-1-166 href=#__codelineno-1-166></a><span class=go>Arguments:</span>
<a id=__codelineno-1-167 name=__codelineno-1-167 href=#__codelineno-1-167></a><span class=go>{&quot;payment_result&quot;:{&quot;payment_successful&quot;:true,&quot;transaction_details&quot;:{&quot;transaction_id&quot;:&quot;TX123456789&quot;,&quot;amount&quot;:749.97,&quot;currency&quot;:&quot;USD&quot;}}}</span>
<a id=__codelineno-1-168 name=__codelineno-1-168 href=#__codelineno-1-168></a><span class=go>********************************************************************************************</span>
<a id=__codelineno-1-169 name=__codelineno-1-169 href=#__codelineno-1-169></a>
<a id=__codelineno-1-170 name=__codelineno-1-170 href=#__codelineno-1-170></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-171 name=__codelineno-1-171 href=#__codelineno-1-171></a>
<a id=__codelineno-1-172 name=__codelineno-1-172 href=#__codelineno-1-172></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-173 name=__codelineno-1-173 href=#__codelineno-1-173></a>
<a id=__codelineno-1-174 name=__codelineno-1-174 href=#__codelineno-1-174></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION complete_payment_processing...</span>
<a id=__codelineno-1-175 name=__codelineno-1-175 href=#__codelineno-1-175></a><span class=go>Call ID: call_FMcK9XYNynvtjYaMxaH5H4W5</span>
<a id=__codelineno-1-176 name=__codelineno-1-176 href=#__codelineno-1-176></a><span class=go>Input arguments: {&#39;payment_result&#39;: {&#39;payment_successful&#39;: True, &#39;transaction_details&#39;: {&#39;transaction_id&#39;: &#39;TX123456789&#39;, &#39;amount&#39;: 749.97, &#39;currency&#39;: &#39;USD&#39;}}}</span>
<a id=__codelineno-1-177 name=__codelineno-1-177 href=#__codelineno-1-177></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-178 name=__codelineno-1-178 href=#__codelineno-1-178></a>
<a id=__codelineno-1-179 name=__codelineno-1-179 href=#__codelineno-1-179></a><span class=go>***** Response from calling tool (call_FMcK9XYNynvtjYaMxaH5H4W5) *****</span>
<a id=__codelineno-1-180 name=__codelineno-1-180 href=#__codelineno-1-180></a><span class=go>Payment processed successfully. Proceeding to order fulfillment.</span>
<a id=__codelineno-1-181 name=__codelineno-1-181 href=#__codelineno-1-181></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-182 name=__codelineno-1-182 href=#__codelineno-1-182></a>
<a id=__codelineno-1-183 name=__codelineno-1-183 href=#__codelineno-1-183></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-184 name=__codelineno-1-184 href=#__codelineno-1-184></a>
<a id=__codelineno-1-185 name=__codelineno-1-185 href=#__codelineno-1-185></a><span class=go>Next speaker: fulfillment_agent</span>
<a id=__codelineno-1-186 name=__codelineno-1-186 href=#__codelineno-1-186></a>
<a id=__codelineno-1-187 name=__codelineno-1-187 href=#__codelineno-1-187></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-188 name=__codelineno-1-188 href=#__codelineno-1-188></a><span class=go>fulfillment_agent (to chat_manager):</span>
<a id=__codelineno-1-189 name=__codelineno-1-189 href=#__codelineno-1-189></a>
<a id=__codelineno-1-190 name=__codelineno-1-190 href=#__codelineno-1-190></a><span class=go>***** Suggested tool call (call_Lx7wiuKPAIYMPEsgmfac9qdk): complete_fulfillment *****</span>
<a id=__codelineno-1-191 name=__codelineno-1-191 href=#__codelineno-1-191></a><span class=go>Arguments:</span>
<a id=__codelineno-1-192 name=__codelineno-1-192 href=#__codelineno-1-192></a><span class=go>{&quot;fulfillment_result&quot;:{&quot;fulfillment_instructions&quot;:&quot;1. Pick the following items: \n   - 1x Smartphone XYZ (Item ID: PROD-001) \n   - 2x Phone Case (Item ID: PROD-042) \n2. Verify the quantities against the order. \n3. Pack the items securely: \n   - Use a padded envelope for the Phone Cases and a sturdy box for the Smartphone. \n4. Label the shipment with the following details: \n   - Recipient: Jane Smith \n   - Address: 123 Main St, Anytown, CA, 90210, USA \n   - Phone: 555-123-4567 \n5. Select Express shipping as per customer&#39;s choice. \n6. Ensure the shipping label is affixed properly and include the invoice inside the package.&quot;,&quot;shipping_details&quot;:&quot;Shipping Method: Express\nTracking will be provided via email once the package has shipped.&quot;,&quot;estimated_delivery&quot;:&quot;Estimated delivery is 1-2 business days.&quot;}}</span>
<a id=__codelineno-1-193 name=__codelineno-1-193 href=#__codelineno-1-193></a><span class=go>*************************************************************************************</span>
<a id=__codelineno-1-194 name=__codelineno-1-194 href=#__codelineno-1-194></a>
<a id=__codelineno-1-195 name=__codelineno-1-195 href=#__codelineno-1-195></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-196 name=__codelineno-1-196 href=#__codelineno-1-196></a>
<a id=__codelineno-1-197 name=__codelineno-1-197 href=#__codelineno-1-197></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-198 name=__codelineno-1-198 href=#__codelineno-1-198></a>
<a id=__codelineno-1-199 name=__codelineno-1-199 href=#__codelineno-1-199></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION complete_fulfillment...</span>
<a id=__codelineno-1-200 name=__codelineno-1-200 href=#__codelineno-1-200></a><span class=go>Call ID: call_Lx7wiuKPAIYMPEsgmfac9qdk</span>
<a id=__codelineno-1-201 name=__codelineno-1-201 href=#__codelineno-1-201></a><span class=go>Input arguments: {&#39;fulfillment_result&#39;: {&#39;fulfillment_instructions&#39;: &quot;1. Pick the following items: \n   - 1x Smartphone XYZ (Item ID: PROD-001) \n   - 2x Phone Case (Item ID: PROD-042) \n2. Verify the quantities against the order. \n3. Pack the items securely: \n   - Use a padded envelope for the Phone Cases and a sturdy box for the Smartphone. \n4. Label the shipment with the following details: \n   - Recipient: Jane Smith \n   - Address: 123 Main St, Anytown, CA, 90210, USA \n   - Phone: 555-123-4567 \n5. Select Express shipping as per customer&#39;s choice. \n6. Ensure the shipping label is affixed properly and include the invoice inside the package.&quot;, &#39;shipping_details&#39;: &#39;Shipping Method: Express\nTracking will be provided via email once the package has shipped.&#39;, &#39;estimated_delivery&#39;: &#39;Estimated delivery is 1-2 business days.&#39;}}</span>
<a id=__codelineno-1-202 name=__codelineno-1-202 href=#__codelineno-1-202></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-203 name=__codelineno-1-203 href=#__codelineno-1-203></a>
<a id=__codelineno-1-204 name=__codelineno-1-204 href=#__codelineno-1-204></a><span class=go>***** Response from calling tool (call_Lx7wiuKPAIYMPEsgmfac9qdk) *****</span>
<a id=__codelineno-1-205 name=__codelineno-1-205 href=#__codelineno-1-205></a><span class=go>Order fulfillment completed. Proceeding to customer notification.</span>
<a id=__codelineno-1-206 name=__codelineno-1-206 href=#__codelineno-1-206></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-207 name=__codelineno-1-207 href=#__codelineno-1-207></a>
<a id=__codelineno-1-208 name=__codelineno-1-208 href=#__codelineno-1-208></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-209 name=__codelineno-1-209 href=#__codelineno-1-209></a>
<a id=__codelineno-1-210 name=__codelineno-1-210 href=#__codelineno-1-210></a><span class=go>Next speaker: notification_agent</span>
<a id=__codelineno-1-211 name=__codelineno-1-211 href=#__codelineno-1-211></a>
<a id=__codelineno-1-212 name=__codelineno-1-212 href=#__codelineno-1-212></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-1-213 name=__codelineno-1-213 href=#__codelineno-1-213></a><span class=go>notification_agent (to chat_manager):</span>
<a id=__codelineno-1-214 name=__codelineno-1-214 href=#__codelineno-1-214></a>
<a id=__codelineno-1-215 name=__codelineno-1-215 href=#__codelineno-1-215></a><span class=go>***** Suggested tool call (call_ANfywzcdQvGsBLOc7KjoD0Yr): complete_notification *****</span>
<a id=__codelineno-1-216 name=__codelineno-1-216 href=#__codelineno-1-216></a><span class=go>Arguments:</span>
<a id=__codelineno-1-217 name=__codelineno-1-217 href=#__codelineno-1-217></a><span class=go>{&quot;notification_result&quot;:{&quot;notification_sent&quot;:true,&quot;notification_method&quot;:&quot;email&quot;,&quot;notification_content&quot;:&quot;Order Confirmation\n\nDear Jane Smith,\n\nThank you for your order! Here are the details:\n\n**Order ID:** ORD-12345  \n**Order Date:** March 8, 2025  \n\n**Order Items:**  \n- Smartphone XYZ (1) - $699.99  \n- Phone Case (2) - $49.98  \n\n**Total Amount:** $749.97  \n**Payment Method:** Credit Card (****4242)  \n\n**Shipping Address:**  \n123 Main St  \nAnytown, CA 90210  \nUSA  \n\n**Shipping Method:** Express  \n\n**Estimated Delivery:** 1-2 business days from dispatch  \n\nOnce your order has been dispatched, we will send you an email with tracking details.\n\nThank you for choosing us!\n\nBest regards,  \nYour Company Name&quot;}}</span>
<a id=__codelineno-1-218 name=__codelineno-1-218 href=#__codelineno-1-218></a><span class=go>**************************************************************************************</span>
<a id=__codelineno-1-219 name=__codelineno-1-219 href=#__codelineno-1-219></a>
<a id=__codelineno-1-220 name=__codelineno-1-220 href=#__codelineno-1-220></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-221 name=__codelineno-1-221 href=#__codelineno-1-221></a>
<a id=__codelineno-1-222 name=__codelineno-1-222 href=#__codelineno-1-222></a><span class=go>Next speaker: _Group_Tool_Executor</span>
<a id=__codelineno-1-223 name=__codelineno-1-223 href=#__codelineno-1-223></a>
<a id=__codelineno-1-224 name=__codelineno-1-224 href=#__codelineno-1-224></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING FUNCTION complete_notification...</span>
<a id=__codelineno-1-225 name=__codelineno-1-225 href=#__codelineno-1-225></a><span class=go>Call ID: call_ANfywzcdQvGsBLOc7KjoD0Yr</span>
<a id=__codelineno-1-226 name=__codelineno-1-226 href=#__codelineno-1-226></a><span class=go>Input arguments: {&#39;notification_result&#39;: {&#39;notification_sent&#39;: True, &#39;notification_method&#39;: &#39;email&#39;, &#39;notification_content&#39;: &#39;Order Confirmation\n\nDear Jane Smith,\n\nThank you for your order! Here are the details:\n\n**Order ID:** ORD-12345  \n**Order Date:** March 8, 2025  \n\n**Order Items:**  \n- Smartphone XYZ (1) - $699.99  \n- Phone Case (2) - $49.98  \n\n**Total Amount:** $749.97  \n**Payment Method:** Credit Card (****4242)  \n\n**Shipping Address:**  \n123 Main St  \nAnytown, CA 90210  \nUSA  \n\n**Shipping Method:** Express  \n\n**Estimated Delivery:** 1-2 business days from dispatch  \n\nOnce your order has been dispatched, we will send you an email with tracking details.\n\nThank you for choosing us!\n\nBest regards,  \nYour Company Name&#39;}}</span>
<a id=__codelineno-1-227 name=__codelineno-1-227 href=#__codelineno-1-227></a><span class=go>_Group_Tool_Executor (to chat_manager):</span>
<a id=__codelineno-1-228 name=__codelineno-1-228 href=#__codelineno-1-228></a>
<a id=__codelineno-1-229 name=__codelineno-1-229 href=#__codelineno-1-229></a><span class=go>***** Response from calling tool (call_ANfywzcdQvGsBLOc7KjoD0Yr) *****</span>
<a id=__codelineno-1-230 name=__codelineno-1-230 href=#__codelineno-1-230></a><span class=go>Customer notification sent. Order processing completed successfully.</span>
<a id=__codelineno-1-231 name=__codelineno-1-231 href=#__codelineno-1-231></a><span class=go>**********************************************************************</span>
<a id=__codelineno-1-232 name=__codelineno-1-232 href=#__codelineno-1-232></a>
<a id=__codelineno-1-233 name=__codelineno-1-233 href=#__codelineno-1-233></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-1-234 name=__codelineno-1-234 href=#__codelineno-1-234></a>
<a id=__codelineno-1-235 name=__codelineno-1-235 href=#__codelineno-1-235></a><span class=go>Next speaker: user</span>
<a id=__codelineno-1-236 name=__codelineno-1-236 href=#__codelineno-1-236></a>
<a id=__codelineno-1-237 name=__codelineno-1-237 href=#__codelineno-1-237></a><span class=go>Replying as user. Provide feedback to chat_manager. Press enter to skip and use auto-reply, or type &#39;exit&#39; to end the conversation: exit</span>
<a id=__codelineno-1-238 name=__codelineno-1-238 href=#__codelineno-1-238></a>
<a id=__codelineno-1-239 name=__codelineno-1-239 href=#__codelineno-1-239></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; TERMINATING RUN (3754ea15-31da-4d82-9b34-dbb7dd9faac4): User requested to end the conversation</span>
<a id=__codelineno-1-240 name=__codelineno-1-240 href=#__codelineno-1-240></a>
<a id=__codelineno-1-241 name=__codelineno-1-241 href=#__codelineno-1-241></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; TERMINATING RUN (c38f365a-a875-4c7f-a7b0-0dc14b4bb011): No reply generated</span>
<a id=__codelineno-1-242 name=__codelineno-1-242 href=#__codelineno-1-242></a><span class=go>Order processing completed successfully!</span>
<a id=__codelineno-1-243 name=__codelineno-1-243 href=#__codelineno-1-243></a>
<a id=__codelineno-1-244 name=__codelineno-1-244 href=#__codelineno-1-244></a><span class=go>===== ORDER PROCESSING SUMMARY =====</span>
<a id=__codelineno-1-245 name=__codelineno-1-245 href=#__codelineno-1-245></a>
<a id=__codelineno-1-246 name=__codelineno-1-246 href=#__codelineno-1-246></a><span class=go>Order ID: ORD-12345</span>
<a id=__codelineno-1-247 name=__codelineno-1-247 href=#__codelineno-1-247></a><span class=go>Customer: Jane Smith</span>
<a id=__codelineno-1-248 name=__codelineno-1-248 href=#__codelineno-1-248></a><span class=go>Total Amount: $749.97</span>
<a id=__codelineno-1-249 name=__codelineno-1-249 href=#__codelineno-1-249></a>
<a id=__codelineno-1-250 name=__codelineno-1-250 href=#__codelineno-1-250></a><span class=go>===== PIPELINE PROGRESSION =====</span>
<a id=__codelineno-1-251 name=__codelineno-1-251 href=#__codelineno-1-251></a>
<a id=__codelineno-1-252 name=__codelineno-1-252 href=#__codelineno-1-252></a><span class=go>Validation: ✅ Passed</span>
<a id=__codelineno-1-253 name=__codelineno-1-253 href=#__codelineno-1-253></a><span class=go>Inventory: ✅ Available</span>
<a id=__codelineno-1-254 name=__codelineno-1-254 href=#__codelineno-1-254></a><span class=go>Payment: ✅ Successful</span>
<a id=__codelineno-1-255 name=__codelineno-1-255 href=#__codelineno-1-255></a><span class=go>Fulfillment: ✅ Completed</span>
<a id=__codelineno-1-256 name=__codelineno-1-256 href=#__codelineno-1-256></a><span class=go>Notification: ✅ Sent</span>
<a id=__codelineno-1-257 name=__codelineno-1-257 href=#__codelineno-1-257></a>
<a id=__codelineno-1-258 name=__codelineno-1-258 href=#__codelineno-1-258></a><span class=go>===== SHIPPING INFORMATION =====</span>
<a id=__codelineno-1-259 name=__codelineno-1-259 href=#__codelineno-1-259></a>
<a id=__codelineno-1-260 name=__codelineno-1-260 href=#__codelineno-1-260></a><span class=go>Shipping Method: Shipping Method: Express</span>
<a id=__codelineno-1-261 name=__codelineno-1-261 href=#__codelineno-1-261></a><span class=go>Tracking will be provided via email once the package has shipped.</span>
<a id=__codelineno-1-262 name=__codelineno-1-262 href=#__codelineno-1-262></a><span class=go>Estimated Delivery: Estimated delivery is 1-2 business days.</span>
<a id=__codelineno-1-263 name=__codelineno-1-263 href=#__codelineno-1-263></a>
<a id=__codelineno-1-264 name=__codelineno-1-264 href=#__codelineno-1-264></a><span class=go>===== SPEAKER ORDER =====</span>
<a id=__codelineno-1-265 name=__codelineno-1-265 href=#__codelineno-1-265></a>
<a id=__codelineno-1-266 name=__codelineno-1-266 href=#__codelineno-1-266></a><span class=go>user</span>
<a id=__codelineno-1-267 name=__codelineno-1-267 href=#__codelineno-1-267></a><span class=go>entry_agent</span>
<a id=__codelineno-1-268 name=__codelineno-1-268 href=#__codelineno-1-268></a><span class=go>validation_agent</span>
<a id=__codelineno-1-269 name=__codelineno-1-269 href=#__codelineno-1-269></a><span class=go>validation_agent</span>
<a id=__codelineno-1-270 name=__codelineno-1-270 href=#__codelineno-1-270></a><span class=go>inventory_agent</span>
<a id=__codelineno-1-271 name=__codelineno-1-271 href=#__codelineno-1-271></a><span class=go>inventory_agent</span>
<a id=__codelineno-1-272 name=__codelineno-1-272 href=#__codelineno-1-272></a><span class=go>payment_agent</span>
<a id=__codelineno-1-273 name=__codelineno-1-273 href=#__codelineno-1-273></a><span class=go>payment_agent</span>
<a id=__codelineno-1-274 name=__codelineno-1-274 href=#__codelineno-1-274></a><span class=go>fulfillment_agent</span>
<a id=__codelineno-1-275 name=__codelineno-1-275 href=#__codelineno-1-275></a><span class=go>notification_agent</span>
</code></pre></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-05-08T13:42:17+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-05-08</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../organic/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Organic"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Organic </div> </div> </a> <a href=../redundant/ class="md-footer__link md-footer__link--next" aria-label="Next: Redundant"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Redundant </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../../../js/timeago.min.js></script> <script src=../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>